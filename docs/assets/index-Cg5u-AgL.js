function EC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function TC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qw={exports:{}},bu={},Kw={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ka=Symbol.for("react.element"),SC=Symbol.for("react.portal"),IC=Symbol.for("react.fragment"),AC=Symbol.for("react.strict_mode"),bC=Symbol.for("react.profiler"),CC=Symbol.for("react.provider"),kC=Symbol.for("react.context"),PC=Symbol.for("react.forward_ref"),RC=Symbol.for("react.suspense"),NC=Symbol.for("react.memo"),DC=Symbol.for("react.lazy"),vv=Symbol.iterator;function VC(t){return t===null||typeof t!="object"?null:(t=vv&&t[vv]||t["@@iterator"],typeof t=="function"?t:null)}var Qw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yw=Object.assign,Xw={};function Yi(t,e,n){this.props=t,this.context=e,this.refs=Xw,this.updater=n||Qw}Yi.prototype.isReactComponent={};Yi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Yi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Jw(){}Jw.prototype=Yi.prototype;function zp(t,e,n){this.props=t,this.context=e,this.refs=Xw,this.updater=n||Qw}var Wp=zp.prototype=new Jw;Wp.constructor=zp;Yw(Wp,Yi.prototype);Wp.isPureReactComponent=!0;var _v=Array.isArray,Zw=Object.prototype.hasOwnProperty,Gp={current:null},e1={key:!0,ref:!0,__self:!0,__source:!0};function t1(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Zw.call(e,r)&&!e1.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ka,type:t,key:i,ref:o,props:s,_owner:Gp.current}}function jC(t,e){return{$$typeof:Ka,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Hp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ka}function MC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var xv=/\/+/g;function Lh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?MC(""+t.key):e.toString(36)}function rc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ka:case SC:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Lh(o,0):r,_v(s)?(n="",t!=null&&(n=t.replace(xv,"$&/")+"/"),rc(s,e,n,"",function(u){return u})):s!=null&&(Hp(s)&&(s=jC(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(xv,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",_v(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Lh(i,a);o+=rc(i,e,n,l,s)}else if(l=VC(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Lh(i,a++),o+=rc(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Cl(t,e,n){if(t==null)return t;var r=[],s=0;return rc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function LC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var It={current:null},sc={transition:null},OC={ReactCurrentDispatcher:It,ReactCurrentBatchConfig:sc,ReactCurrentOwner:Gp};function n1(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:Cl,forEach:function(t,e,n){Cl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Cl(t,function(){e++}),e},toArray:function(t){return Cl(t,function(e){return e})||[]},only:function(t){if(!Hp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};re.Component=Yi;re.Fragment=IC;re.Profiler=bC;re.PureComponent=zp;re.StrictMode=AC;re.Suspense=RC;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OC;re.act=n1;re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Yw({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Gp.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Zw.call(e,l)&&!e1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ka,type:t.type,key:s,ref:i,props:r,_owner:o}};re.createContext=function(t){return t={$$typeof:kC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:CC,_context:t},t.Consumer=t};re.createElement=t1;re.createFactory=function(t){var e=t1.bind(null,t);return e.type=t,e};re.createRef=function(){return{current:null}};re.forwardRef=function(t){return{$$typeof:PC,render:t}};re.isValidElement=Hp;re.lazy=function(t){return{$$typeof:DC,_payload:{_status:-1,_result:t},_init:LC}};re.memo=function(t,e){return{$$typeof:NC,type:t,compare:e===void 0?null:e}};re.startTransition=function(t){var e=sc.transition;sc.transition={};try{t()}finally{sc.transition=e}};re.unstable_act=n1;re.useCallback=function(t,e){return It.current.useCallback(t,e)};re.useContext=function(t){return It.current.useContext(t)};re.useDebugValue=function(){};re.useDeferredValue=function(t){return It.current.useDeferredValue(t)};re.useEffect=function(t,e){return It.current.useEffect(t,e)};re.useId=function(){return It.current.useId()};re.useImperativeHandle=function(t,e,n){return It.current.useImperativeHandle(t,e,n)};re.useInsertionEffect=function(t,e){return It.current.useInsertionEffect(t,e)};re.useLayoutEffect=function(t,e){return It.current.useLayoutEffect(t,e)};re.useMemo=function(t,e){return It.current.useMemo(t,e)};re.useReducer=function(t,e,n){return It.current.useReducer(t,e,n)};re.useRef=function(t){return It.current.useRef(t)};re.useState=function(t){return It.current.useState(t)};re.useSyncExternalStore=function(t,e,n){return It.current.useSyncExternalStore(t,e,n)};re.useTransition=function(){return It.current.useTransition()};re.version="18.3.1";Kw.exports=re;var D=Kw.exports;const Cu=TC(D),FC=EC({__proto__:null,default:Cu},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UC=D,BC=Symbol.for("react.element"),$C=Symbol.for("react.fragment"),zC=Object.prototype.hasOwnProperty,WC=UC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,GC={key:!0,ref:!0,__self:!0,__source:!0};function r1(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)zC.call(e,r)&&!GC.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:BC,type:t,key:i,ref:o,props:s,_owner:WC.current}}bu.Fragment=$C;bu.jsx=r1;bu.jsxs=r1;qw.exports=bu;var d=qw.exports,Wd={},s1={exports:{}},Wt={},i1={exports:{}},o1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,K){var Y=B.length;B.push(K);e:for(;0<Y;){var W=Y-1>>>1,z=B[W];if(0<s(z,K))B[W]=K,B[Y]=z,Y=W;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var K=B[0],Y=B.pop();if(Y!==K){B[0]=Y;e:for(var W=0,z=B.length,se=z>>>1;W<se;){var fe=2*(W+1)-1,yt=B[fe],Ze=fe+1,Mt=B[Ze];if(0>s(yt,Y))Ze<z&&0>s(Mt,yt)?(B[W]=Mt,B[Ze]=Y,W=Ze):(B[W]=yt,B[fe]=Y,W=fe);else if(Ze<z&&0>s(Mt,Y))B[W]=Mt,B[Ze]=Y,W=Ze;else break e}}return K}function s(B,K){var Y=B.sortIndex-K.sortIndex;return Y!==0?Y:B.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,f=null,m=3,v=!1,I=!1,S=!1,A=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(B){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=B)r(u),K.sortIndex=K.expirationTime,e(l,K);else break;K=n(u)}}function P(B){if(S=!1,w(B),!I)if(n(l)!==null)I=!0,or(N);else{var K=n(u);K!==null&&ye(P,K.startTime-B)}}function N(B,K){I=!1,S&&(S=!1,x(_),_=-1),v=!0;var Y=m;try{for(w(K),f=n(l);f!==null&&(!(f.expirationTime>K)||B&&!R());){var W=f.callback;if(typeof W=="function"){f.callback=null,m=f.priorityLevel;var z=W(f.expirationTime<=K);K=t.unstable_now(),typeof z=="function"?f.callback=z:f===n(l)&&r(l),w(K)}else r(l);f=n(l)}if(f!==null)var se=!0;else{var fe=n(u);fe!==null&&ye(P,fe.startTime-K),se=!1}return se}finally{f=null,m=Y,v=!1}}var V=!1,T=null,_=-1,b=5,C=-1;function R(){return!(t.unstable_now()-C<b)}function j(){if(T!==null){var B=t.unstable_now();C=B;var K=!0;try{K=T(!0,B)}finally{K?k():(V=!1,T=null)}}else V=!1}var k;if(typeof y=="function")k=function(){y(j)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,bt=ke.port2;ke.port1.onmessage=j,k=function(){bt.postMessage(null)}}else k=function(){A(j,0)};function or(B){T=B,V||(V=!0,k())}function ye(B,K){_=A(function(){B(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){I||v||(I=!0,or(N))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(m){case 1:case 2:case 3:var K=3;break;default:K=m}var Y=m;m=K;try{return B()}finally{m=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,K){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Y=m;m=B;try{return K()}finally{m=Y}},t.unstable_scheduleCallback=function(B,K,Y){var W=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?W+Y:W):Y=W,B){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=Y+z,B={id:h++,callback:K,priorityLevel:B,startTime:Y,expirationTime:z,sortIndex:-1},Y>W?(B.sortIndex=Y,e(u,B),n(l)===null&&B===n(u)&&(S?(x(_),_=-1):S=!0,ye(P,Y-W))):(B.sortIndex=z,e(l,B),I||v||(I=!0,or(N))),B},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(B){var K=m;return function(){var Y=m;m=K;try{return B.apply(this,arguments)}finally{m=Y}}}})(o1);i1.exports=o1;var HC=i1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qC=D,zt=HC;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a1=new Set,pa={};function Us(t,e){ji(t,e),ji(t+"Capture",e)}function ji(t,e){for(pa[t]=e,t=0;t<e.length;t++)a1.add(e[t])}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gd=Object.prototype.hasOwnProperty,KC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wv={},Ev={};function QC(t){return Gd.call(Ev,t)?!0:Gd.call(wv,t)?!1:KC.test(t)?Ev[t]=!0:(wv[t]=!0,!1)}function YC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function XC(t,e,n,r){if(e===null||typeof e>"u"||YC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function At(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var it={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){it[t]=new At(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];it[e]=new At(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){it[t]=new At(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){it[t]=new At(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){it[t]=new At(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){it[t]=new At(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){it[t]=new At(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){it[t]=new At(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){it[t]=new At(t,5,!1,t.toLowerCase(),null,!1,!1)});var qp=/[\-:]([a-z])/g;function Kp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(qp,Kp);it[e]=new At(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(qp,Kp);it[e]=new At(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(qp,Kp);it[e]=new At(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){it[t]=new At(t,1,!1,t.toLowerCase(),null,!1,!1)});it.xlinkHref=new At("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){it[t]=new At(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qp(t,e,n,r){var s=it.hasOwnProperty(e)?it[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(XC(e,n,s,r)&&(n=null),r||s===null?QC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ir=qC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kl=Symbol.for("react.element"),ri=Symbol.for("react.portal"),si=Symbol.for("react.fragment"),Yp=Symbol.for("react.strict_mode"),Hd=Symbol.for("react.profiler"),l1=Symbol.for("react.provider"),c1=Symbol.for("react.context"),Xp=Symbol.for("react.forward_ref"),qd=Symbol.for("react.suspense"),Kd=Symbol.for("react.suspense_list"),Jp=Symbol.for("react.memo"),gr=Symbol.for("react.lazy"),u1=Symbol.for("react.offscreen"),Tv=Symbol.iterator;function bo(t){return t===null||typeof t!="object"?null:(t=Tv&&t[Tv]||t["@@iterator"],typeof t=="function"?t:null)}var be=Object.assign,Oh;function Lo(t){if(Oh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Oh=e&&e[1]||""}return`
`+Oh+t}var Fh=!1;function Uh(t,e){if(!t||Fh)return"";Fh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Fh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Lo(t):""}function JC(t){switch(t.tag){case 5:return Lo(t.type);case 16:return Lo("Lazy");case 13:return Lo("Suspense");case 19:return Lo("SuspenseList");case 0:case 2:case 15:return t=Uh(t.type,!1),t;case 11:return t=Uh(t.type.render,!1),t;case 1:return t=Uh(t.type,!0),t;default:return""}}function Qd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case si:return"Fragment";case ri:return"Portal";case Hd:return"Profiler";case Yp:return"StrictMode";case qd:return"Suspense";case Kd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case c1:return(t.displayName||"Context")+".Consumer";case l1:return(t._context.displayName||"Context")+".Provider";case Xp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Jp:return e=t.displayName||null,e!==null?e:Qd(t.type)||"Memo";case gr:e=t._payload,t=t._init;try{return Qd(t(e))}catch{}}return null}function ZC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qd(e);case 8:return e===Yp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ur(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function h1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ek(t){var e=h1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Pl(t){t._valueTracker||(t._valueTracker=ek(t))}function d1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=h1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function kc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Yd(t,e){var n=e.checked;return be({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Sv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ur(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function f1(t,e){e=e.checked,e!=null&&Qp(t,"checked",e,!1)}function Xd(t,e){f1(t,e);var n=Ur(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Jd(t,e.type,n):e.hasOwnProperty("defaultValue")&&Jd(t,e.type,Ur(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Iv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Jd(t,e,n){(e!=="number"||kc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Oo=Array.isArray;function wi(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ur(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Zd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return be({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Av(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(Oo(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ur(n)}}function p1(t,e){var n=Ur(e.value),r=Ur(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function bv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function m1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ef(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?m1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Rl,g1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Rl=Rl||document.createElement("div"),Rl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Rl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ma(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ko={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tk=["Webkit","ms","Moz","O"];Object.keys(Ko).forEach(function(t){tk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ko[e]=Ko[t]})});function y1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ko.hasOwnProperty(t)&&Ko[t]?(""+e).trim():e+"px"}function v1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=y1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var nk=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tf(t,e){if(e){if(nk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function nf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rf=null;function Zp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var sf=null,Ei=null,Ti=null;function Cv(t){if(t=Xa(t)){if(typeof sf!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Du(e),sf(t.stateNode,t.type,e))}}function _1(t){Ei?Ti?Ti.push(t):Ti=[t]:Ei=t}function x1(){if(Ei){var t=Ei,e=Ti;if(Ti=Ei=null,Cv(t),e)for(t=0;t<e.length;t++)Cv(e[t])}}function w1(t,e){return t(e)}function E1(){}var Bh=!1;function T1(t,e,n){if(Bh)return t(e,n);Bh=!0;try{return w1(t,e,n)}finally{Bh=!1,(Ei!==null||Ti!==null)&&(E1(),x1())}}function ga(t,e){var n=t.stateNode;if(n===null)return null;var r=Du(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var of=!1;if(Kn)try{var Co={};Object.defineProperty(Co,"passive",{get:function(){of=!0}}),window.addEventListener("test",Co,Co),window.removeEventListener("test",Co,Co)}catch{of=!1}function rk(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Qo=!1,Pc=null,Rc=!1,af=null,sk={onError:function(t){Qo=!0,Pc=t}};function ik(t,e,n,r,s,i,o,a,l){Qo=!1,Pc=null,rk.apply(sk,arguments)}function ok(t,e,n,r,s,i,o,a,l){if(ik.apply(this,arguments),Qo){if(Qo){var u=Pc;Qo=!1,Pc=null}else throw Error(U(198));Rc||(Rc=!0,af=u)}}function Bs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function S1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function kv(t){if(Bs(t)!==t)throw Error(U(188))}function ak(t){var e=t.alternate;if(!e){if(e=Bs(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return kv(s),t;if(i===r)return kv(s),e;i=i.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function I1(t){return t=ak(t),t!==null?A1(t):null}function A1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=A1(t);if(e!==null)return e;t=t.sibling}return null}var b1=zt.unstable_scheduleCallback,Pv=zt.unstable_cancelCallback,lk=zt.unstable_shouldYield,ck=zt.unstable_requestPaint,Me=zt.unstable_now,uk=zt.unstable_getCurrentPriorityLevel,em=zt.unstable_ImmediatePriority,C1=zt.unstable_UserBlockingPriority,Nc=zt.unstable_NormalPriority,hk=zt.unstable_LowPriority,k1=zt.unstable_IdlePriority,ku=null,In=null;function dk(t){if(In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(ku,t,void 0,(t.current.flags&128)===128)}catch{}}var fn=Math.clz32?Math.clz32:mk,fk=Math.log,pk=Math.LN2;function mk(t){return t>>>=0,t===0?32:31-(fk(t)/pk|0)|0}var Nl=64,Dl=4194304;function Fo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Dc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Fo(a):(i&=o,i!==0&&(r=Fo(i)))}else o=n&~s,o!==0?r=Fo(o):i!==0&&(r=Fo(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-fn(e),s=1<<n,r|=t[n],e&=~s;return r}function gk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-fn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=gk(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function lf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function P1(){var t=Nl;return Nl<<=1,!(Nl&4194240)&&(Nl=64),t}function $h(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Qa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fn(e),t[e]=n}function vk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-fn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function tm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-fn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var de=0;function R1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var N1,nm,D1,V1,j1,cf=!1,Vl=[],Cr=null,kr=null,Pr=null,ya=new Map,va=new Map,vr=[],_k="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rv(t,e){switch(t){case"focusin":case"focusout":Cr=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":ya.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":va.delete(e.pointerId)}}function ko(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Xa(e),e!==null&&nm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function xk(t,e,n,r,s){switch(e){case"focusin":return Cr=ko(Cr,t,e,n,r,s),!0;case"dragenter":return kr=ko(kr,t,e,n,r,s),!0;case"mouseover":return Pr=ko(Pr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ya.set(i,ko(ya.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,va.set(i,ko(va.get(i)||null,t,e,n,r,s)),!0}return!1}function M1(t){var e=ps(t.target);if(e!==null){var n=Bs(e);if(n!==null){if(e=n.tag,e===13){if(e=S1(n),e!==null){t.blockedOn=e,j1(t.priority,function(){D1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ic(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=uf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);rf=r,n.target.dispatchEvent(r),rf=null}else return e=Xa(n),e!==null&&nm(e),t.blockedOn=n,!1;e.shift()}return!0}function Nv(t,e,n){ic(t)&&n.delete(e)}function wk(){cf=!1,Cr!==null&&ic(Cr)&&(Cr=null),kr!==null&&ic(kr)&&(kr=null),Pr!==null&&ic(Pr)&&(Pr=null),ya.forEach(Nv),va.forEach(Nv)}function Po(t,e){t.blockedOn===e&&(t.blockedOn=null,cf||(cf=!0,zt.unstable_scheduleCallback(zt.unstable_NormalPriority,wk)))}function _a(t){function e(s){return Po(s,t)}if(0<Vl.length){Po(Vl[0],t);for(var n=1;n<Vl.length;n++){var r=Vl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Cr!==null&&Po(Cr,t),kr!==null&&Po(kr,t),Pr!==null&&Po(Pr,t),ya.forEach(e),va.forEach(e),n=0;n<vr.length;n++)r=vr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<vr.length&&(n=vr[0],n.blockedOn===null);)M1(n),n.blockedOn===null&&vr.shift()}var Si=ir.ReactCurrentBatchConfig,Vc=!0;function Ek(t,e,n,r){var s=de,i=Si.transition;Si.transition=null;try{de=1,rm(t,e,n,r)}finally{de=s,Si.transition=i}}function Tk(t,e,n,r){var s=de,i=Si.transition;Si.transition=null;try{de=4,rm(t,e,n,r)}finally{de=s,Si.transition=i}}function rm(t,e,n,r){if(Vc){var s=uf(t,e,n,r);if(s===null)Jh(t,e,r,jc,n),Rv(t,r);else if(xk(s,t,e,n,r))r.stopPropagation();else if(Rv(t,r),e&4&&-1<_k.indexOf(t)){for(;s!==null;){var i=Xa(s);if(i!==null&&N1(i),i=uf(t,e,n,r),i===null&&Jh(t,e,r,jc,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Jh(t,e,r,null,n)}}var jc=null;function uf(t,e,n,r){if(jc=null,t=Zp(r),t=ps(t),t!==null)if(e=Bs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=S1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return jc=t,null}function L1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uk()){case em:return 1;case C1:return 4;case Nc:case hk:return 16;case k1:return 536870912;default:return 16}default:return 16}}var Sr=null,sm=null,oc=null;function O1(){if(oc)return oc;var t,e=sm,n=e.length,r,s="value"in Sr?Sr.value:Sr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return oc=s.slice(t,1<r?1-r:void 0)}function ac(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function jl(){return!0}function Dv(){return!1}function Gt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?jl:Dv,this.isPropagationStopped=Dv,this}return be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=jl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=jl)},persist:function(){},isPersistent:jl}),e}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},im=Gt(Xi),Ya=be({},Xi,{view:0,detail:0}),Sk=Gt(Ya),zh,Wh,Ro,Pu=be({},Ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:om,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ro&&(Ro&&t.type==="mousemove"?(zh=t.screenX-Ro.screenX,Wh=t.screenY-Ro.screenY):Wh=zh=0,Ro=t),zh)},movementY:function(t){return"movementY"in t?t.movementY:Wh}}),Vv=Gt(Pu),Ik=be({},Pu,{dataTransfer:0}),Ak=Gt(Ik),bk=be({},Ya,{relatedTarget:0}),Gh=Gt(bk),Ck=be({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),kk=Gt(Ck),Pk=be({},Xi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Rk=Gt(Pk),Nk=be({},Xi,{data:0}),jv=Gt(Nk),Dk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jk[t])?!!e[t]:!1}function om(){return Mk}var Lk=be({},Ya,{key:function(t){if(t.key){var e=Dk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ac(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:om,charCode:function(t){return t.type==="keypress"?ac(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ac(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ok=Gt(Lk),Fk=be({},Pu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mv=Gt(Fk),Uk=be({},Ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:om}),Bk=Gt(Uk),$k=be({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),zk=Gt($k),Wk=be({},Pu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Gk=Gt(Wk),Hk=[9,13,27,32],am=Kn&&"CompositionEvent"in window,Yo=null;Kn&&"documentMode"in document&&(Yo=document.documentMode);var qk=Kn&&"TextEvent"in window&&!Yo,F1=Kn&&(!am||Yo&&8<Yo&&11>=Yo),Lv=" ",Ov=!1;function U1(t,e){switch(t){case"keyup":return Hk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function B1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ii=!1;function Kk(t,e){switch(t){case"compositionend":return B1(e);case"keypress":return e.which!==32?null:(Ov=!0,Lv);case"textInput":return t=e.data,t===Lv&&Ov?null:t;default:return null}}function Qk(t,e){if(ii)return t==="compositionend"||!am&&U1(t,e)?(t=O1(),oc=sm=Sr=null,ii=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return F1&&e.locale!=="ko"?null:e.data;default:return null}}var Yk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Yk[t.type]:e==="textarea"}function $1(t,e,n,r){_1(r),e=Mc(e,"onChange"),0<e.length&&(n=new im("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Xo=null,xa=null;function Xk(t){Z1(t,0)}function Ru(t){var e=li(t);if(d1(e))return t}function Jk(t,e){if(t==="change")return e}var z1=!1;if(Kn){var Hh;if(Kn){var qh="oninput"in document;if(!qh){var Uv=document.createElement("div");Uv.setAttribute("oninput","return;"),qh=typeof Uv.oninput=="function"}Hh=qh}else Hh=!1;z1=Hh&&(!document.documentMode||9<document.documentMode)}function Bv(){Xo&&(Xo.detachEvent("onpropertychange",W1),xa=Xo=null)}function W1(t){if(t.propertyName==="value"&&Ru(xa)){var e=[];$1(e,xa,t,Zp(t)),T1(Xk,e)}}function Zk(t,e,n){t==="focusin"?(Bv(),Xo=e,xa=n,Xo.attachEvent("onpropertychange",W1)):t==="focusout"&&Bv()}function eP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ru(xa)}function tP(t,e){if(t==="click")return Ru(e)}function nP(t,e){if(t==="input"||t==="change")return Ru(e)}function rP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gn=typeof Object.is=="function"?Object.is:rP;function wa(t,e){if(gn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Gd.call(e,s)||!gn(t[s],e[s]))return!1}return!0}function $v(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zv(t,e){var n=$v(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$v(n)}}function G1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?G1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function H1(){for(var t=window,e=kc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=kc(t.document)}return e}function lm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function sP(t){var e=H1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&G1(n.ownerDocument.documentElement,n)){if(r!==null&&lm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=zv(n,i);var o=zv(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var iP=Kn&&"documentMode"in document&&11>=document.documentMode,oi=null,hf=null,Jo=null,df=!1;function Wv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;df||oi==null||oi!==kc(r)||(r=oi,"selectionStart"in r&&lm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Jo&&wa(Jo,r)||(Jo=r,r=Mc(hf,"onSelect"),0<r.length&&(e=new im("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=oi)))}function Ml(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ai={animationend:Ml("Animation","AnimationEnd"),animationiteration:Ml("Animation","AnimationIteration"),animationstart:Ml("Animation","AnimationStart"),transitionend:Ml("Transition","TransitionEnd")},Kh={},q1={};Kn&&(q1=document.createElement("div").style,"AnimationEvent"in window||(delete ai.animationend.animation,delete ai.animationiteration.animation,delete ai.animationstart.animation),"TransitionEvent"in window||delete ai.transitionend.transition);function Nu(t){if(Kh[t])return Kh[t];if(!ai[t])return t;var e=ai[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in q1)return Kh[t]=e[n];return t}var K1=Nu("animationend"),Q1=Nu("animationiteration"),Y1=Nu("animationstart"),X1=Nu("transitionend"),J1=new Map,Gv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xr(t,e){J1.set(t,e),Us(e,[t])}for(var Qh=0;Qh<Gv.length;Qh++){var Yh=Gv[Qh],oP=Yh.toLowerCase(),aP=Yh[0].toUpperCase()+Yh.slice(1);Xr(oP,"on"+aP)}Xr(K1,"onAnimationEnd");Xr(Q1,"onAnimationIteration");Xr(Y1,"onAnimationStart");Xr("dblclick","onDoubleClick");Xr("focusin","onFocus");Xr("focusout","onBlur");Xr(X1,"onTransitionEnd");ji("onMouseEnter",["mouseout","mouseover"]);ji("onMouseLeave",["mouseout","mouseover"]);ji("onPointerEnter",["pointerout","pointerover"]);ji("onPointerLeave",["pointerout","pointerover"]);Us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Us("onBeforeInput",["compositionend","keypress","textInput","paste"]);Us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uo));function Hv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ok(r,e,void 0,t),t.currentTarget=null}function Z1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Hv(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Hv(s,a,u),i=l}}}if(Rc)throw t=af,Rc=!1,af=null,t}function _e(t,e){var n=e[yf];n===void 0&&(n=e[yf]=new Set);var r=t+"__bubble";n.has(r)||(eE(e,t,2,!1),n.add(r))}function Xh(t,e,n){var r=0;e&&(r|=4),eE(n,t,r,e)}var Ll="_reactListening"+Math.random().toString(36).slice(2);function Ea(t){if(!t[Ll]){t[Ll]=!0,a1.forEach(function(n){n!=="selectionchange"&&(lP.has(n)||Xh(n,!1,t),Xh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ll]||(e[Ll]=!0,Xh("selectionchange",!1,e))}}function eE(t,e,n,r){switch(L1(e)){case 1:var s=Ek;break;case 4:s=Tk;break;default:s=rm}n=s.bind(null,e,n,t),s=void 0,!of||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Jh(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ps(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}T1(function(){var u=i,h=Zp(n),f=[];e:{var m=J1.get(t);if(m!==void 0){var v=im,I=t;switch(t){case"keypress":if(ac(n)===0)break e;case"keydown":case"keyup":v=Ok;break;case"focusin":I="focus",v=Gh;break;case"focusout":I="blur",v=Gh;break;case"beforeblur":case"afterblur":v=Gh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Vv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Ak;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Bk;break;case K1:case Q1:case Y1:v=kk;break;case X1:v=zk;break;case"scroll":v=Sk;break;case"wheel":v=Gk;break;case"copy":case"cut":case"paste":v=Rk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Mv}var S=(e&4)!==0,A=!S&&t==="scroll",x=S?m!==null?m+"Capture":null:m;S=[];for(var y=u,w;y!==null;){w=y;var P=w.stateNode;if(w.tag===5&&P!==null&&(w=P,x!==null&&(P=ga(y,x),P!=null&&S.push(Ta(y,P,w)))),A)break;y=y.return}0<S.length&&(m=new v(m,I,null,n,h),f.push({event:m,listeners:S}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&n!==rf&&(I=n.relatedTarget||n.fromElement)&&(ps(I)||I[Qn]))break e;if((v||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,v?(I=n.relatedTarget||n.toElement,v=u,I=I?ps(I):null,I!==null&&(A=Bs(I),I!==A||I.tag!==5&&I.tag!==6)&&(I=null)):(v=null,I=u),v!==I)){if(S=Vv,P="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(S=Mv,P="onPointerLeave",x="onPointerEnter",y="pointer"),A=v==null?m:li(v),w=I==null?m:li(I),m=new S(P,y+"leave",v,n,h),m.target=A,m.relatedTarget=w,P=null,ps(h)===u&&(S=new S(x,y+"enter",I,n,h),S.target=w,S.relatedTarget=A,P=S),A=P,v&&I)t:{for(S=v,x=I,y=0,w=S;w;w=Js(w))y++;for(w=0,P=x;P;P=Js(P))w++;for(;0<y-w;)S=Js(S),y--;for(;0<w-y;)x=Js(x),w--;for(;y--;){if(S===x||x!==null&&S===x.alternate)break t;S=Js(S),x=Js(x)}S=null}else S=null;v!==null&&qv(f,m,v,S,!1),I!==null&&A!==null&&qv(f,A,I,S,!0)}}e:{if(m=u?li(u):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var N=Jk;else if(Fv(m))if(z1)N=nP;else{N=eP;var V=Zk}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=tP);if(N&&(N=N(t,u))){$1(f,N,n,h);break e}V&&V(t,m,u),t==="focusout"&&(V=m._wrapperState)&&V.controlled&&m.type==="number"&&Jd(m,"number",m.value)}switch(V=u?li(u):window,t){case"focusin":(Fv(V)||V.contentEditable==="true")&&(oi=V,hf=u,Jo=null);break;case"focusout":Jo=hf=oi=null;break;case"mousedown":df=!0;break;case"contextmenu":case"mouseup":case"dragend":df=!1,Wv(f,n,h);break;case"selectionchange":if(iP)break;case"keydown":case"keyup":Wv(f,n,h)}var T;if(am)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else ii?U1(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(F1&&n.locale!=="ko"&&(ii||_!=="onCompositionStart"?_==="onCompositionEnd"&&ii&&(T=O1()):(Sr=h,sm="value"in Sr?Sr.value:Sr.textContent,ii=!0)),V=Mc(u,_),0<V.length&&(_=new jv(_,t,null,n,h),f.push({event:_,listeners:V}),T?_.data=T:(T=B1(n),T!==null&&(_.data=T)))),(T=qk?Kk(t,n):Qk(t,n))&&(u=Mc(u,"onBeforeInput"),0<u.length&&(h=new jv("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=T))}Z1(f,e)})}function Ta(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Mc(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ga(t,n),i!=null&&r.unshift(Ta(t,i,s)),i=ga(t,e),i!=null&&r.push(Ta(t,i,s))),t=t.return}return r}function Js(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function qv(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=ga(n,i),l!=null&&o.unshift(Ta(n,l,a))):s||(l=ga(n,i),l!=null&&o.push(Ta(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var cP=/\r\n?/g,uP=/\u0000|\uFFFD/g;function Kv(t){return(typeof t=="string"?t:""+t).replace(cP,`
`).replace(uP,"")}function Ol(t,e,n){if(e=Kv(e),Kv(t)!==e&&n)throw Error(U(425))}function Lc(){}var ff=null,pf=null;function mf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gf=typeof setTimeout=="function"?setTimeout:void 0,hP=typeof clearTimeout=="function"?clearTimeout:void 0,Qv=typeof Promise=="function"?Promise:void 0,dP=typeof queueMicrotask=="function"?queueMicrotask:typeof Qv<"u"?function(t){return Qv.resolve(null).then(t).catch(fP)}:gf;function fP(t){setTimeout(function(){throw t})}function Zh(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),_a(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);_a(e)}function Rr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Yv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ji=Math.random().toString(36).slice(2),Tn="__reactFiber$"+Ji,Sa="__reactProps$"+Ji,Qn="__reactContainer$"+Ji,yf="__reactEvents$"+Ji,pP="__reactListeners$"+Ji,mP="__reactHandles$"+Ji;function ps(t){var e=t[Tn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qn]||n[Tn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Yv(t);t!==null;){if(n=t[Tn])return n;t=Yv(t)}return e}t=n,n=t.parentNode}return null}function Xa(t){return t=t[Tn]||t[Qn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function li(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Du(t){return t[Sa]||null}var vf=[],ci=-1;function Jr(t){return{current:t}}function we(t){0>ci||(t.current=vf[ci],vf[ci]=null,ci--)}function ge(t,e){ci++,vf[ci]=t.current,t.current=e}var Br={},mt=Jr(Br),Nt=Jr(!1),ks=Br;function Mi(t,e){var n=t.type.contextTypes;if(!n)return Br;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Dt(t){return t=t.childContextTypes,t!=null}function Oc(){we(Nt),we(mt)}function Xv(t,e,n){if(mt.current!==Br)throw Error(U(168));ge(mt,e),ge(Nt,n)}function tE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(U(108,ZC(t)||"Unknown",s));return be({},n,r)}function Fc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Br,ks=mt.current,ge(mt,t),ge(Nt,Nt.current),!0}function Jv(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=tE(t,e,ks),r.__reactInternalMemoizedMergedChildContext=t,we(Nt),we(mt),ge(mt,t)):we(Nt),ge(Nt,n)}var Bn=null,Vu=!1,ed=!1;function nE(t){Bn===null?Bn=[t]:Bn.push(t)}function gP(t){Vu=!0,nE(t)}function Zr(){if(!ed&&Bn!==null){ed=!0;var t=0,e=de;try{var n=Bn;for(de=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Bn=null,Vu=!1}catch(s){throw Bn!==null&&(Bn=Bn.slice(t+1)),b1(em,Zr),s}finally{de=e,ed=!1}}return null}var ui=[],hi=0,Uc=null,Bc=0,qt=[],Kt=0,Ps=null,zn=1,Wn="";function us(t,e){ui[hi++]=Bc,ui[hi++]=Uc,Uc=t,Bc=e}function rE(t,e,n){qt[Kt++]=zn,qt[Kt++]=Wn,qt[Kt++]=Ps,Ps=t;var r=zn;t=Wn;var s=32-fn(r)-1;r&=~(1<<s),n+=1;var i=32-fn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,zn=1<<32-fn(e)+s|n<<s|r,Wn=i+t}else zn=1<<i|n<<s|r,Wn=t}function cm(t){t.return!==null&&(us(t,1),rE(t,1,0))}function um(t){for(;t===Uc;)Uc=ui[--hi],ui[hi]=null,Bc=ui[--hi],ui[hi]=null;for(;t===Ps;)Ps=qt[--Kt],qt[Kt]=null,Wn=qt[--Kt],qt[Kt]=null,zn=qt[--Kt],qt[Kt]=null}var $t=null,Ut=null,Ee=!1,un=null;function sE(t,e){var n=Xt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Zv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$t=t,Ut=Rr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$t=t,Ut=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ps!==null?{id:zn,overflow:Wn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Xt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,$t=t,Ut=null,!0):!1;default:return!1}}function _f(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xf(t){if(Ee){var e=Ut;if(e){var n=e;if(!Zv(t,e)){if(_f(t))throw Error(U(418));e=Rr(n.nextSibling);var r=$t;e&&Zv(t,e)?sE(r,n):(t.flags=t.flags&-4097|2,Ee=!1,$t=t)}}else{if(_f(t))throw Error(U(418));t.flags=t.flags&-4097|2,Ee=!1,$t=t}}}function e0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$t=t}function Fl(t){if(t!==$t)return!1;if(!Ee)return e0(t),Ee=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!mf(t.type,t.memoizedProps)),e&&(e=Ut)){if(_f(t))throw iE(),Error(U(418));for(;e;)sE(t,e),e=Rr(e.nextSibling)}if(e0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ut=Rr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ut=null}}else Ut=$t?Rr(t.stateNode.nextSibling):null;return!0}function iE(){for(var t=Ut;t;)t=Rr(t.nextSibling)}function Li(){Ut=$t=null,Ee=!1}function hm(t){un===null?un=[t]:un.push(t)}var yP=ir.ReactCurrentBatchConfig;function No(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function Ul(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function t0(t){var e=t._init;return e(t._payload)}function oE(t){function e(x,y){if(t){var w=x.deletions;w===null?(x.deletions=[y],x.flags|=16):w.push(y)}}function n(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function r(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function s(x,y){return x=jr(x,y),x.index=0,x.sibling=null,x}function i(x,y,w){return x.index=w,t?(w=x.alternate,w!==null?(w=w.index,w<y?(x.flags|=2,y):w):(x.flags|=2,y)):(x.flags|=1048576,y)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,y,w,P){return y===null||y.tag!==6?(y=ad(w,x.mode,P),y.return=x,y):(y=s(y,w),y.return=x,y)}function l(x,y,w,P){var N=w.type;return N===si?h(x,y,w.props.children,P,w.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===gr&&t0(N)===y.type)?(P=s(y,w.props),P.ref=No(x,y,w),P.return=x,P):(P=pc(w.type,w.key,w.props,null,x.mode,P),P.ref=No(x,y,w),P.return=x,P)}function u(x,y,w,P){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=ld(w,x.mode,P),y.return=x,y):(y=s(y,w.children||[]),y.return=x,y)}function h(x,y,w,P,N){return y===null||y.tag!==7?(y=ws(w,x.mode,P,N),y.return=x,y):(y=s(y,w),y.return=x,y)}function f(x,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=ad(""+y,x.mode,w),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case kl:return w=pc(y.type,y.key,y.props,null,x.mode,w),w.ref=No(x,null,y),w.return=x,w;case ri:return y=ld(y,x.mode,w),y.return=x,y;case gr:var P=y._init;return f(x,P(y._payload),w)}if(Oo(y)||bo(y))return y=ws(y,x.mode,w,null),y.return=x,y;Ul(x,y)}return null}function m(x,y,w,P){var N=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:a(x,y,""+w,P);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case kl:return w.key===N?l(x,y,w,P):null;case ri:return w.key===N?u(x,y,w,P):null;case gr:return N=w._init,m(x,y,N(w._payload),P)}if(Oo(w)||bo(w))return N!==null?null:h(x,y,w,P,null);Ul(x,w)}return null}function v(x,y,w,P,N){if(typeof P=="string"&&P!==""||typeof P=="number")return x=x.get(w)||null,a(y,x,""+P,N);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case kl:return x=x.get(P.key===null?w:P.key)||null,l(y,x,P,N);case ri:return x=x.get(P.key===null?w:P.key)||null,u(y,x,P,N);case gr:var V=P._init;return v(x,y,w,V(P._payload),N)}if(Oo(P)||bo(P))return x=x.get(w)||null,h(y,x,P,N,null);Ul(y,P)}return null}function I(x,y,w,P){for(var N=null,V=null,T=y,_=y=0,b=null;T!==null&&_<w.length;_++){T.index>_?(b=T,T=null):b=T.sibling;var C=m(x,T,w[_],P);if(C===null){T===null&&(T=b);break}t&&T&&C.alternate===null&&e(x,T),y=i(C,y,_),V===null?N=C:V.sibling=C,V=C,T=b}if(_===w.length)return n(x,T),Ee&&us(x,_),N;if(T===null){for(;_<w.length;_++)T=f(x,w[_],P),T!==null&&(y=i(T,y,_),V===null?N=T:V.sibling=T,V=T);return Ee&&us(x,_),N}for(T=r(x,T);_<w.length;_++)b=v(T,x,_,w[_],P),b!==null&&(t&&b.alternate!==null&&T.delete(b.key===null?_:b.key),y=i(b,y,_),V===null?N=b:V.sibling=b,V=b);return t&&T.forEach(function(R){return e(x,R)}),Ee&&us(x,_),N}function S(x,y,w,P){var N=bo(w);if(typeof N!="function")throw Error(U(150));if(w=N.call(w),w==null)throw Error(U(151));for(var V=N=null,T=y,_=y=0,b=null,C=w.next();T!==null&&!C.done;_++,C=w.next()){T.index>_?(b=T,T=null):b=T.sibling;var R=m(x,T,C.value,P);if(R===null){T===null&&(T=b);break}t&&T&&R.alternate===null&&e(x,T),y=i(R,y,_),V===null?N=R:V.sibling=R,V=R,T=b}if(C.done)return n(x,T),Ee&&us(x,_),N;if(T===null){for(;!C.done;_++,C=w.next())C=f(x,C.value,P),C!==null&&(y=i(C,y,_),V===null?N=C:V.sibling=C,V=C);return Ee&&us(x,_),N}for(T=r(x,T);!C.done;_++,C=w.next())C=v(T,x,_,C.value,P),C!==null&&(t&&C.alternate!==null&&T.delete(C.key===null?_:C.key),y=i(C,y,_),V===null?N=C:V.sibling=C,V=C);return t&&T.forEach(function(j){return e(x,j)}),Ee&&us(x,_),N}function A(x,y,w,P){if(typeof w=="object"&&w!==null&&w.type===si&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case kl:e:{for(var N=w.key,V=y;V!==null;){if(V.key===N){if(N=w.type,N===si){if(V.tag===7){n(x,V.sibling),y=s(V,w.props.children),y.return=x,x=y;break e}}else if(V.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===gr&&t0(N)===V.type){n(x,V.sibling),y=s(V,w.props),y.ref=No(x,V,w),y.return=x,x=y;break e}n(x,V);break}else e(x,V);V=V.sibling}w.type===si?(y=ws(w.props.children,x.mode,P,w.key),y.return=x,x=y):(P=pc(w.type,w.key,w.props,null,x.mode,P),P.ref=No(x,y,w),P.return=x,x=P)}return o(x);case ri:e:{for(V=w.key;y!==null;){if(y.key===V)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(x,y.sibling),y=s(y,w.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else e(x,y);y=y.sibling}y=ld(w,x.mode,P),y.return=x,x=y}return o(x);case gr:return V=w._init,A(x,y,V(w._payload),P)}if(Oo(w))return I(x,y,w,P);if(bo(w))return S(x,y,w,P);Ul(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(x,y.sibling),y=s(y,w),y.return=x,x=y):(n(x,y),y=ad(w,x.mode,P),y.return=x,x=y),o(x)):n(x,y)}return A}var Oi=oE(!0),aE=oE(!1),$c=Jr(null),zc=null,di=null,dm=null;function fm(){dm=di=zc=null}function pm(t){var e=$c.current;we($c),t._currentValue=e}function wf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ii(t,e){zc=t,dm=di=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pt=!0),t.firstContext=null)}function tn(t){var e=t._currentValue;if(dm!==t)if(t={context:t,memoizedValue:e,next:null},di===null){if(zc===null)throw Error(U(308));di=t,zc.dependencies={lanes:0,firstContext:t}}else di=di.next=t;return e}var ms=null;function mm(t){ms===null?ms=[t]:ms.push(t)}function lE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,mm(e)):(n.next=s.next,s.next=n),e.interleaved=n,Yn(t,r)}function Yn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var yr=!1;function gm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function qn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Nr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Yn(t,n)}return s=r.interleaved,s===null?(e.next=e,mm(r)):(e.next=s.next,s.next=e),r.interleaved=e,Yn(t,n)}function lc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tm(t,n)}}function n0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Wc(t,e,n,r){var s=t.updateQueue;yr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,h=u=l=null,a=i;do{var m=a.lane,v=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var I=t,S=a;switch(m=e,v=n,S.tag){case 1:if(I=S.payload,typeof I=="function"){f=I.call(v,f,m);break e}f=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=S.payload,m=typeof I=="function"?I.call(v,f,m):I,m==null)break e;f=be({},f,m);break e;case 2:yr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else v={eventTime:v,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=v,l=f):h=h.next=v,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ns|=o,t.lanes=o,t.memoizedState=f}}function r0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var Ja={},An=Jr(Ja),Ia=Jr(Ja),Aa=Jr(Ja);function gs(t){if(t===Ja)throw Error(U(174));return t}function ym(t,e){switch(ge(Aa,e),ge(Ia,t),ge(An,Ja),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ef(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ef(e,t)}we(An),ge(An,e)}function Fi(){we(An),we(Ia),we(Aa)}function uE(t){gs(Aa.current);var e=gs(An.current),n=ef(e,t.type);e!==n&&(ge(Ia,t),ge(An,n))}function vm(t){Ia.current===t&&(we(An),we(Ia))}var Se=Jr(0);function Gc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var td=[];function _m(){for(var t=0;t<td.length;t++)td[t]._workInProgressVersionPrimary=null;td.length=0}var cc=ir.ReactCurrentDispatcher,nd=ir.ReactCurrentBatchConfig,Rs=0,Ae=null,Ge=null,Xe=null,Hc=!1,Zo=!1,ba=0,vP=0;function lt(){throw Error(U(321))}function xm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gn(t[n],e[n]))return!1;return!0}function wm(t,e,n,r,s,i){if(Rs=i,Ae=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,cc.current=t===null||t.memoizedState===null?EP:TP,t=n(r,s),Zo){i=0;do{if(Zo=!1,ba=0,25<=i)throw Error(U(301));i+=1,Xe=Ge=null,e.updateQueue=null,cc.current=SP,t=n(r,s)}while(Zo)}if(cc.current=qc,e=Ge!==null&&Ge.next!==null,Rs=0,Xe=Ge=Ae=null,Hc=!1,e)throw Error(U(300));return t}function Em(){var t=ba!==0;return ba=0,t}function wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Ae.memoizedState=Xe=t:Xe=Xe.next=t,Xe}function nn(){if(Ge===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=Ge.next;var e=Xe===null?Ae.memoizedState:Xe.next;if(e!==null)Xe=e,Ge=t;else{if(t===null)throw Error(U(310));Ge=t,t={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},Xe===null?Ae.memoizedState=Xe=t:Xe=Xe.next=t}return Xe}function Ca(t,e){return typeof e=="function"?e(t):e}function rd(t){var e=nn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=Ge,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var h=u.lane;if((Rs&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Ae.lanes|=h,Ns|=h}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,gn(r,e.memoizedState)||(Pt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ae.lanes|=i,Ns|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function sd(t){var e=nn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);gn(i,e.memoizedState)||(Pt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function hE(){}function dE(t,e){var n=Ae,r=nn(),s=e(),i=!gn(r.memoizedState,s);if(i&&(r.memoizedState=s,Pt=!0),r=r.queue,Tm(mE.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Xe!==null&&Xe.memoizedState.tag&1){if(n.flags|=2048,ka(9,pE.bind(null,n,r,s,e),void 0,null),Je===null)throw Error(U(349));Rs&30||fE(n,e,s)}return s}function fE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function pE(t,e,n,r){e.value=n,e.getSnapshot=r,gE(e)&&yE(t)}function mE(t,e,n){return n(function(){gE(e)&&yE(t)})}function gE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gn(t,n)}catch{return!0}}function yE(t){var e=Yn(t,1);e!==null&&pn(e,t,1,-1)}function s0(t){var e=wn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:t},e.queue=t,t=t.dispatch=wP.bind(null,Ae,t),[e.memoizedState,t]}function ka(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function vE(){return nn().memoizedState}function uc(t,e,n,r){var s=wn();Ae.flags|=t,s.memoizedState=ka(1|e,n,void 0,r===void 0?null:r)}function ju(t,e,n,r){var s=nn();r=r===void 0?null:r;var i=void 0;if(Ge!==null){var o=Ge.memoizedState;if(i=o.destroy,r!==null&&xm(r,o.deps)){s.memoizedState=ka(e,n,i,r);return}}Ae.flags|=t,s.memoizedState=ka(1|e,n,i,r)}function i0(t,e){return uc(8390656,8,t,e)}function Tm(t,e){return ju(2048,8,t,e)}function _E(t,e){return ju(4,2,t,e)}function xE(t,e){return ju(4,4,t,e)}function wE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function EE(t,e,n){return n=n!=null?n.concat([t]):null,ju(4,4,wE.bind(null,e,t),n)}function Sm(){}function TE(t,e){var n=nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function SE(t,e){var n=nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function IE(t,e,n){return Rs&21?(gn(n,e)||(n=P1(),Ae.lanes|=n,Ns|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pt=!0),t.memoizedState=n)}function _P(t,e){var n=de;de=n!==0&&4>n?n:4,t(!0);var r=nd.transition;nd.transition={};try{t(!1),e()}finally{de=n,nd.transition=r}}function AE(){return nn().memoizedState}function xP(t,e,n){var r=Vr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bE(t))CE(e,n);else if(n=lE(t,e,n,r),n!==null){var s=St();pn(n,t,r,s),kE(n,e,r)}}function wP(t,e,n){var r=Vr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bE(t))CE(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,gn(a,o)){var l=e.interleaved;l===null?(s.next=s,mm(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=lE(t,e,s,r),n!==null&&(s=St(),pn(n,t,r,s),kE(n,e,r))}}function bE(t){var e=t.alternate;return t===Ae||e!==null&&e===Ae}function CE(t,e){Zo=Hc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function kE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tm(t,n)}}var qc={readContext:tn,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},EP={readContext:tn,useCallback:function(t,e){return wn().memoizedState=[t,e===void 0?null:e],t},useContext:tn,useEffect:i0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,uc(4194308,4,wE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return uc(4194308,4,t,e)},useInsertionEffect:function(t,e){return uc(4,2,t,e)},useMemo:function(t,e){var n=wn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=wn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=xP.bind(null,Ae,t),[r.memoizedState,t]},useRef:function(t){var e=wn();return t={current:t},e.memoizedState=t},useState:s0,useDebugValue:Sm,useDeferredValue:function(t){return wn().memoizedState=t},useTransition:function(){var t=s0(!1),e=t[0];return t=_P.bind(null,t[1]),wn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ae,s=wn();if(Ee){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),Je===null)throw Error(U(349));Rs&30||fE(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,i0(mE.bind(null,r,i,t),[t]),r.flags|=2048,ka(9,pE.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=wn(),e=Je.identifierPrefix;if(Ee){var n=Wn,r=zn;n=(r&~(1<<32-fn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ba++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=vP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},TP={readContext:tn,useCallback:TE,useContext:tn,useEffect:Tm,useImperativeHandle:EE,useInsertionEffect:_E,useLayoutEffect:xE,useMemo:SE,useReducer:rd,useRef:vE,useState:function(){return rd(Ca)},useDebugValue:Sm,useDeferredValue:function(t){var e=nn();return IE(e,Ge.memoizedState,t)},useTransition:function(){var t=rd(Ca)[0],e=nn().memoizedState;return[t,e]},useMutableSource:hE,useSyncExternalStore:dE,useId:AE,unstable_isNewReconciler:!1},SP={readContext:tn,useCallback:TE,useContext:tn,useEffect:Tm,useImperativeHandle:EE,useInsertionEffect:_E,useLayoutEffect:xE,useMemo:SE,useReducer:sd,useRef:vE,useState:function(){return sd(Ca)},useDebugValue:Sm,useDeferredValue:function(t){var e=nn();return Ge===null?e.memoizedState=t:IE(e,Ge.memoizedState,t)},useTransition:function(){var t=sd(Ca)[0],e=nn().memoizedState;return[t,e]},useMutableSource:hE,useSyncExternalStore:dE,useId:AE,unstable_isNewReconciler:!1};function ln(t,e){if(t&&t.defaultProps){e=be({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ef(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:be({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Mu={isMounted:function(t){return(t=t._reactInternals)?Bs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=St(),s=Vr(t),i=qn(r,s);i.payload=e,n!=null&&(i.callback=n),e=Nr(t,i,s),e!==null&&(pn(e,t,s,r),lc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=St(),s=Vr(t),i=qn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Nr(t,i,s),e!==null&&(pn(e,t,s,r),lc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=St(),r=Vr(t),s=qn(n,r);s.tag=2,e!=null&&(s.callback=e),e=Nr(t,s,r),e!==null&&(pn(e,t,r,n),lc(e,t,r))}};function o0(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!wa(n,r)||!wa(s,i):!0}function PE(t,e,n){var r=!1,s=Br,i=e.contextType;return typeof i=="object"&&i!==null?i=tn(i):(s=Dt(e)?ks:mt.current,r=e.contextTypes,i=(r=r!=null)?Mi(t,s):Br),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Mu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function a0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Mu.enqueueReplaceState(e,e.state,null)}function Tf(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},gm(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=tn(i):(i=Dt(e)?ks:mt.current,s.context=Mi(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ef(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Mu.enqueueReplaceState(s,s.state,null),Wc(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ui(t,e){try{var n="",r=e;do n+=JC(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function id(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Sf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var IP=typeof WeakMap=="function"?WeakMap:Map;function RE(t,e,n){n=qn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Qc||(Qc=!0,Vf=r),Sf(t,e)},n}function NE(t,e,n){n=qn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Sf(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Sf(t,e),typeof r!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function l0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new IP;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=FP.bind(null,t,e,n),e.then(t,t))}function c0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function u0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=qn(-1,1),e.tag=2,Nr(n,e,1))),n.lanes|=1),t)}var AP=ir.ReactCurrentOwner,Pt=!1;function wt(t,e,n,r){e.child=t===null?aE(e,null,n,r):Oi(e,t.child,n,r)}function h0(t,e,n,r,s){n=n.render;var i=e.ref;return Ii(e,s),r=wm(t,e,n,r,i,s),n=Em(),t!==null&&!Pt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Xn(t,e,s)):(Ee&&n&&cm(e),e.flags|=1,wt(t,e,r,s),e.child)}function d0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Nm(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,DE(t,e,i,r,s)):(t=pc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:wa,n(o,r)&&t.ref===e.ref)return Xn(t,e,s)}return e.flags|=1,t=jr(i,r),t.ref=e.ref,t.return=e,e.child=t}function DE(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(wa(i,r)&&t.ref===e.ref)if(Pt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Pt=!0);else return e.lanes=t.lanes,Xn(t,e,s)}return If(t,e,n,r,s)}function VE(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(pi,Ot),Ot|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ge(pi,Ot),Ot|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ge(pi,Ot),Ot|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ge(pi,Ot),Ot|=r;return wt(t,e,s,n),e.child}function jE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function If(t,e,n,r,s){var i=Dt(n)?ks:mt.current;return i=Mi(e,i),Ii(e,s),n=wm(t,e,n,r,i,s),r=Em(),t!==null&&!Pt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Xn(t,e,s)):(Ee&&r&&cm(e),e.flags|=1,wt(t,e,n,s),e.child)}function f0(t,e,n,r,s){if(Dt(n)){var i=!0;Fc(e)}else i=!1;if(Ii(e,s),e.stateNode===null)hc(t,e),PE(e,n,r),Tf(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=tn(u):(u=Dt(n)?ks:mt.current,u=Mi(e,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&a0(e,o,r,u),yr=!1;var m=e.memoizedState;o.state=m,Wc(e,r,o,s),l=e.memoizedState,a!==r||m!==l||Nt.current||yr?(typeof h=="function"&&(Ef(e,n,h,r),l=e.memoizedState),(a=yr||o0(e,n,a,r,m,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,cE(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:ln(e.type,a),o.props=u,f=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=tn(l):(l=Dt(n)?ks:mt.current,l=Mi(e,l));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==l)&&a0(e,o,r,l),yr=!1,m=e.memoizedState,o.state=m,Wc(e,r,o,s);var I=e.memoizedState;a!==f||m!==I||Nt.current||yr?(typeof v=="function"&&(Ef(e,n,v,r),I=e.memoizedState),(u=yr||o0(e,n,u,r,m,I,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,I,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,I,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=I),o.props=r,o.state=I,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Af(t,e,n,r,i,s)}function Af(t,e,n,r,s,i){jE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Jv(e,n,!1),Xn(t,e,i);r=e.stateNode,AP.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Oi(e,t.child,null,i),e.child=Oi(e,null,a,i)):wt(t,e,a,i),e.memoizedState=r.state,s&&Jv(e,n,!0),e.child}function ME(t){var e=t.stateNode;e.pendingContext?Xv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Xv(t,e.context,!1),ym(t,e.containerInfo)}function p0(t,e,n,r,s){return Li(),hm(s),e.flags|=256,wt(t,e,n,r),e.child}var bf={dehydrated:null,treeContext:null,retryLane:0};function Cf(t){return{baseLanes:t,cachePool:null,transitions:null}}function LE(t,e,n){var r=e.pendingProps,s=Se.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ge(Se,s&1),t===null)return xf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Fu(o,r,0,null),t=ws(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Cf(n),e.memoizedState=bf,t):Im(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return bP(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=jr(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=jr(a,i):(i=ws(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Cf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=bf,r}return i=t.child,t=i.sibling,r=jr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Im(t,e){return e=Fu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Bl(t,e,n,r){return r!==null&&hm(r),Oi(e,t.child,null,n),t=Im(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function bP(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=id(Error(U(422))),Bl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Fu({mode:"visible",children:r.children},s,0,null),i=ws(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Oi(e,t.child,null,o),e.child.memoizedState=Cf(o),e.memoizedState=bf,i);if(!(e.mode&1))return Bl(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(U(419)),r=id(i,r,void 0),Bl(t,e,o,r)}if(a=(o&t.childLanes)!==0,Pt||a){if(r=Je,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Yn(t,s),pn(r,t,s,-1))}return Rm(),r=id(Error(U(421))),Bl(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=UP.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ut=Rr(s.nextSibling),$t=e,Ee=!0,un=null,t!==null&&(qt[Kt++]=zn,qt[Kt++]=Wn,qt[Kt++]=Ps,zn=t.id,Wn=t.overflow,Ps=e),e=Im(e,r.children),e.flags|=4096,e)}function m0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),wf(t.return,e,n)}function od(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function OE(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(wt(t,e,r.children,n),r=Se.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&m0(t,n,e);else if(t.tag===19)m0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ge(Se,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Gc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),od(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Gc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}od(e,!0,n,null,i);break;case"together":od(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ns|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=jr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=jr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function CP(t,e,n){switch(e.tag){case 3:ME(e),Li();break;case 5:uE(e);break;case 1:Dt(e.type)&&Fc(e);break;case 4:ym(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ge($c,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ge(Se,Se.current&1),e.flags|=128,null):n&e.child.childLanes?LE(t,e,n):(ge(Se,Se.current&1),t=Xn(t,e,n),t!==null?t.sibling:null);ge(Se,Se.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return OE(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ge(Se,Se.current),r)break;return null;case 22:case 23:return e.lanes=0,VE(t,e,n)}return Xn(t,e,n)}var FE,kf,UE,BE;FE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};kf=function(){};UE=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,gs(An.current);var i=null;switch(n){case"input":s=Yd(t,s),r=Yd(t,r),i=[];break;case"select":s=be({},s,{value:void 0}),r=be({},r,{value:void 0}),i=[];break;case"textarea":s=Zd(t,s),r=Zd(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Lc)}tf(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(pa.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(pa.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&_e("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};BE=function(t,e,n,r){n!==r&&(e.flags|=4)};function Do(t,e){if(!Ee)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ct(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function kP(t,e,n){var r=e.pendingProps;switch(um(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(e),null;case 1:return Dt(e.type)&&Oc(),ct(e),null;case 3:return r=e.stateNode,Fi(),we(Nt),we(mt),_m(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Fl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,un!==null&&(Lf(un),un=null))),kf(t,e),ct(e),null;case 5:vm(e);var s=gs(Aa.current);if(n=e.type,t!==null&&e.stateNode!=null)UE(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return ct(e),null}if(t=gs(An.current),Fl(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Tn]=e,r[Sa]=i,t=(e.mode&1)!==0,n){case"dialog":_e("cancel",r),_e("close",r);break;case"iframe":case"object":case"embed":_e("load",r);break;case"video":case"audio":for(s=0;s<Uo.length;s++)_e(Uo[s],r);break;case"source":_e("error",r);break;case"img":case"image":case"link":_e("error",r),_e("load",r);break;case"details":_e("toggle",r);break;case"input":Sv(r,i),_e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},_e("invalid",r);break;case"textarea":Av(r,i),_e("invalid",r)}tf(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ol(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ol(r.textContent,a,t),s=["children",""+a]):pa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&_e("scroll",r)}switch(n){case"input":Pl(r),Iv(r,i,!0);break;case"textarea":Pl(r),bv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Lc)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=m1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Tn]=e,t[Sa]=r,FE(t,e,!1,!1),e.stateNode=t;e:{switch(o=nf(n,r),n){case"dialog":_e("cancel",t),_e("close",t),s=r;break;case"iframe":case"object":case"embed":_e("load",t),s=r;break;case"video":case"audio":for(s=0;s<Uo.length;s++)_e(Uo[s],t);s=r;break;case"source":_e("error",t),s=r;break;case"img":case"image":case"link":_e("error",t),_e("load",t),s=r;break;case"details":_e("toggle",t),s=r;break;case"input":Sv(t,r),s=Yd(t,r),_e("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=be({},r,{value:void 0}),_e("invalid",t);break;case"textarea":Av(t,r),s=Zd(t,r),_e("invalid",t);break;default:s=r}tf(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?v1(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&g1(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ma(t,l):typeof l=="number"&&ma(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(pa.hasOwnProperty(i)?l!=null&&i==="onScroll"&&_e("scroll",t):l!=null&&Qp(t,i,l,o))}switch(n){case"input":Pl(t),Iv(t,r,!1);break;case"textarea":Pl(t),bv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ur(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?wi(t,!!r.multiple,i,!1):r.defaultValue!=null&&wi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Lc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ct(e),null;case 6:if(t&&e.stateNode!=null)BE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=gs(Aa.current),gs(An.current),Fl(e)){if(r=e.stateNode,n=e.memoizedProps,r[Tn]=e,(i=r.nodeValue!==n)&&(t=$t,t!==null))switch(t.tag){case 3:Ol(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ol(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tn]=e,e.stateNode=r}return ct(e),null;case 13:if(we(Se),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ee&&Ut!==null&&e.mode&1&&!(e.flags&128))iE(),Li(),e.flags|=98560,i=!1;else if(i=Fl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(U(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[Tn]=e}else Li(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ct(e),i=!1}else un!==null&&(Lf(un),un=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Se.current&1?He===0&&(He=3):Rm())),e.updateQueue!==null&&(e.flags|=4),ct(e),null);case 4:return Fi(),kf(t,e),t===null&&Ea(e.stateNode.containerInfo),ct(e),null;case 10:return pm(e.type._context),ct(e),null;case 17:return Dt(e.type)&&Oc(),ct(e),null;case 19:if(we(Se),i=e.memoizedState,i===null)return ct(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Do(i,!1);else{if(He!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Gc(t),o!==null){for(e.flags|=128,Do(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ge(Se,Se.current&1|2),e.child}t=t.sibling}i.tail!==null&&Me()>Bi&&(e.flags|=128,r=!0,Do(i,!1),e.lanes=4194304)}else{if(!r)if(t=Gc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Do(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ee)return ct(e),null}else 2*Me()-i.renderingStartTime>Bi&&n!==1073741824&&(e.flags|=128,r=!0,Do(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Me(),e.sibling=null,n=Se.current,ge(Se,r?n&1|2:n&1),e):(ct(e),null);case 22:case 23:return Pm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ot&1073741824&&(ct(e),e.subtreeFlags&6&&(e.flags|=8192)):ct(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function PP(t,e){switch(um(e),e.tag){case 1:return Dt(e.type)&&Oc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fi(),we(Nt),we(mt),_m(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vm(e),null;case 13:if(we(Se),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Li()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return we(Se),null;case 4:return Fi(),null;case 10:return pm(e.type._context),null;case 22:case 23:return Pm(),null;case 24:return null;default:return null}}var $l=!1,dt=!1,RP=typeof WeakSet=="function"?WeakSet:Set,q=null;function fi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ne(t,e,r)}else n.current=null}function Pf(t,e,n){try{n()}catch(r){Ne(t,e,r)}}var g0=!1;function NP(t,e){if(ff=Vc,t=H1(),lm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,h=0,f=t,m=null;t:for(;;){for(var v;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)m=f,f=v;for(;;){if(f===t)break t;if(m===n&&++u===s&&(a=o),m===i&&++h===r&&(l=o),(v=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(pf={focusedElem:t,selectionRange:n},Vc=!1,q=e;q!==null;)if(e=q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,q=t;else for(;q!==null;){e=q;try{var I=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(I!==null){var S=I.memoizedProps,A=I.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?S:ln(e.type,S),A);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(P){Ne(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,q=t;break}q=e.return}return I=g0,g0=!1,I}function ea(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Pf(e,n,i)}s=s.next}while(s!==r)}}function Lu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Rf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function $E(t){var e=t.alternate;e!==null&&(t.alternate=null,$E(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Tn],delete e[Sa],delete e[yf],delete e[pP],delete e[mP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function zE(t){return t.tag===5||t.tag===3||t.tag===4}function y0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||zE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Lc));else if(r!==4&&(t=t.child,t!==null))for(Nf(t,e,n),t=t.sibling;t!==null;)Nf(t,e,n),t=t.sibling}function Df(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Df(t,e,n),t=t.sibling;t!==null;)Df(t,e,n),t=t.sibling}var et=null,cn=!1;function fr(t,e,n){for(n=n.child;n!==null;)WE(t,e,n),n=n.sibling}function WE(t,e,n){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(ku,n)}catch{}switch(n.tag){case 5:dt||fi(n,e);case 6:var r=et,s=cn;et=null,fr(t,e,n),et=r,cn=s,et!==null&&(cn?(t=et,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):et.removeChild(n.stateNode));break;case 18:et!==null&&(cn?(t=et,n=n.stateNode,t.nodeType===8?Zh(t.parentNode,n):t.nodeType===1&&Zh(t,n),_a(t)):Zh(et,n.stateNode));break;case 4:r=et,s=cn,et=n.stateNode.containerInfo,cn=!0,fr(t,e,n),et=r,cn=s;break;case 0:case 11:case 14:case 15:if(!dt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Pf(n,e,o),s=s.next}while(s!==r)}fr(t,e,n);break;case 1:if(!dt&&(fi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ne(n,e,a)}fr(t,e,n);break;case 21:fr(t,e,n);break;case 22:n.mode&1?(dt=(r=dt)||n.memoizedState!==null,fr(t,e,n),dt=r):fr(t,e,n);break;default:fr(t,e,n)}}function v0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new RP),e.forEach(function(r){var s=BP.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function sn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:et=a.stateNode,cn=!1;break e;case 3:et=a.stateNode.containerInfo,cn=!0;break e;case 4:et=a.stateNode.containerInfo,cn=!0;break e}a=a.return}if(et===null)throw Error(U(160));WE(i,o,s),et=null,cn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Ne(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)GE(e,t),e=e.sibling}function GE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(sn(e,t),xn(t),r&4){try{ea(3,t,t.return),Lu(3,t)}catch(S){Ne(t,t.return,S)}try{ea(5,t,t.return)}catch(S){Ne(t,t.return,S)}}break;case 1:sn(e,t),xn(t),r&512&&n!==null&&fi(n,n.return);break;case 5:if(sn(e,t),xn(t),r&512&&n!==null&&fi(n,n.return),t.flags&32){var s=t.stateNode;try{ma(s,"")}catch(S){Ne(t,t.return,S)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&f1(s,i),nf(a,o);var u=nf(a,i);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?v1(s,f):h==="dangerouslySetInnerHTML"?g1(s,f):h==="children"?ma(s,f):Qp(s,h,f,u)}switch(a){case"input":Xd(s,i);break;case"textarea":p1(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?wi(s,!!i.multiple,v,!1):m!==!!i.multiple&&(i.defaultValue!=null?wi(s,!!i.multiple,i.defaultValue,!0):wi(s,!!i.multiple,i.multiple?[]:"",!1))}s[Sa]=i}catch(S){Ne(t,t.return,S)}}break;case 6:if(sn(e,t),xn(t),r&4){if(t.stateNode===null)throw Error(U(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(S){Ne(t,t.return,S)}}break;case 3:if(sn(e,t),xn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_a(e.containerInfo)}catch(S){Ne(t,t.return,S)}break;case 4:sn(e,t),xn(t);break;case 13:sn(e,t),xn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Cm=Me())),r&4&&v0(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(dt=(u=dt)||h,sn(e,t),dt=u):sn(e,t),xn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(q=t,h=t.child;h!==null;){for(f=q=h;q!==null;){switch(m=q,v=m.child,m.tag){case 0:case 11:case 14:case 15:ea(4,m,m.return);break;case 1:fi(m,m.return);var I=m.stateNode;if(typeof I.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,I.props=e.memoizedProps,I.state=e.memoizedState,I.componentWillUnmount()}catch(S){Ne(r,n,S)}}break;case 5:fi(m,m.return);break;case 22:if(m.memoizedState!==null){x0(f);continue}}v!==null?(v.return=m,q=v):x0(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=y1("display",o))}catch(S){Ne(t,t.return,S)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(S){Ne(t,t.return,S)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:sn(e,t),xn(t),r&4&&v0(t);break;case 21:break;default:sn(e,t),xn(t)}}function xn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(zE(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ma(s,""),r.flags&=-33);var i=y0(t);Df(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=y0(t);Nf(t,a,o);break;default:throw Error(U(161))}}catch(l){Ne(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function DP(t,e,n){q=t,HE(t)}function HE(t,e,n){for(var r=(t.mode&1)!==0;q!==null;){var s=q,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||$l;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||dt;a=$l;var u=dt;if($l=o,(dt=l)&&!u)for(q=s;q!==null;)o=q,l=o.child,o.tag===22&&o.memoizedState!==null?w0(s):l!==null?(l.return=o,q=l):w0(s);for(;i!==null;)q=i,HE(i),i=i.sibling;q=s,$l=a,dt=u}_0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,q=i):_0(t)}}function _0(t){for(;q!==null;){var e=q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:dt||Lu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!dt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:ln(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&r0(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}r0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&_a(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}dt||e.flags&512&&Rf(e)}catch(m){Ne(e,e.return,m)}}if(e===t){q=null;break}if(n=e.sibling,n!==null){n.return=e.return,q=n;break}q=e.return}}function x0(t){for(;q!==null;){var e=q;if(e===t){q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,q=n;break}q=e.return}}function w0(t){for(;q!==null;){var e=q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Lu(4,e)}catch(l){Ne(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Ne(e,s,l)}}var i=e.return;try{Rf(e)}catch(l){Ne(e,i,l)}break;case 5:var o=e.return;try{Rf(e)}catch(l){Ne(e,o,l)}}}catch(l){Ne(e,e.return,l)}if(e===t){q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,q=a;break}q=e.return}}var VP=Math.ceil,Kc=ir.ReactCurrentDispatcher,Am=ir.ReactCurrentOwner,Zt=ir.ReactCurrentBatchConfig,ue=0,Je=null,Ue=null,st=0,Ot=0,pi=Jr(0),He=0,Pa=null,Ns=0,Ou=0,bm=0,ta=null,kt=null,Cm=0,Bi=1/0,Un=null,Qc=!1,Vf=null,Dr=null,zl=!1,Ir=null,Yc=0,na=0,jf=null,dc=-1,fc=0;function St(){return ue&6?Me():dc!==-1?dc:dc=Me()}function Vr(t){return t.mode&1?ue&2&&st!==0?st&-st:yP.transition!==null?(fc===0&&(fc=P1()),fc):(t=de,t!==0||(t=window.event,t=t===void 0?16:L1(t.type)),t):1}function pn(t,e,n,r){if(50<na)throw na=0,jf=null,Error(U(185));Qa(t,n,r),(!(ue&2)||t!==Je)&&(t===Je&&(!(ue&2)&&(Ou|=n),He===4&&_r(t,st)),Vt(t,r),n===1&&ue===0&&!(e.mode&1)&&(Bi=Me()+500,Vu&&Zr()))}function Vt(t,e){var n=t.callbackNode;yk(t,e);var r=Dc(t,t===Je?st:0);if(r===0)n!==null&&Pv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Pv(n),e===1)t.tag===0?gP(E0.bind(null,t)):nE(E0.bind(null,t)),dP(function(){!(ue&6)&&Zr()}),n=null;else{switch(R1(r)){case 1:n=em;break;case 4:n=C1;break;case 16:n=Nc;break;case 536870912:n=k1;break;default:n=Nc}n=eT(n,qE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function qE(t,e){if(dc=-1,fc=0,ue&6)throw Error(U(327));var n=t.callbackNode;if(Ai()&&t.callbackNode!==n)return null;var r=Dc(t,t===Je?st:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Xc(t,r);else{e=r;var s=ue;ue|=2;var i=QE();(Je!==t||st!==e)&&(Un=null,Bi=Me()+500,xs(t,e));do try{LP();break}catch(a){KE(t,a)}while(!0);fm(),Kc.current=i,ue=s,Ue!==null?e=0:(Je=null,st=0,e=He)}if(e!==0){if(e===2&&(s=lf(t),s!==0&&(r=s,e=Mf(t,s))),e===1)throw n=Pa,xs(t,0),_r(t,r),Vt(t,Me()),n;if(e===6)_r(t,r);else{if(s=t.current.alternate,!(r&30)&&!jP(s)&&(e=Xc(t,r),e===2&&(i=lf(t),i!==0&&(r=i,e=Mf(t,i))),e===1))throw n=Pa,xs(t,0),_r(t,r),Vt(t,Me()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:hs(t,kt,Un);break;case 3:if(_r(t,r),(r&130023424)===r&&(e=Cm+500-Me(),10<e)){if(Dc(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){St(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=gf(hs.bind(null,t,kt,Un),e);break}hs(t,kt,Un);break;case 4:if(_r(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-fn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*VP(r/1960))-r,10<r){t.timeoutHandle=gf(hs.bind(null,t,kt,Un),r);break}hs(t,kt,Un);break;case 5:hs(t,kt,Un);break;default:throw Error(U(329))}}}return Vt(t,Me()),t.callbackNode===n?qE.bind(null,t):null}function Mf(t,e){var n=ta;return t.current.memoizedState.isDehydrated&&(xs(t,e).flags|=256),t=Xc(t,e),t!==2&&(e=kt,kt=n,e!==null&&Lf(e)),t}function Lf(t){kt===null?kt=t:kt.push.apply(kt,t)}function jP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!gn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _r(t,e){for(e&=~bm,e&=~Ou,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-fn(e),r=1<<n;t[n]=-1,e&=~r}}function E0(t){if(ue&6)throw Error(U(327));Ai();var e=Dc(t,0);if(!(e&1))return Vt(t,Me()),null;var n=Xc(t,e);if(t.tag!==0&&n===2){var r=lf(t);r!==0&&(e=r,n=Mf(t,r))}if(n===1)throw n=Pa,xs(t,0),_r(t,e),Vt(t,Me()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,hs(t,kt,Un),Vt(t,Me()),null}function km(t,e){var n=ue;ue|=1;try{return t(e)}finally{ue=n,ue===0&&(Bi=Me()+500,Vu&&Zr())}}function Ds(t){Ir!==null&&Ir.tag===0&&!(ue&6)&&Ai();var e=ue;ue|=1;var n=Zt.transition,r=de;try{if(Zt.transition=null,de=1,t)return t()}finally{de=r,Zt.transition=n,ue=e,!(ue&6)&&Zr()}}function Pm(){Ot=pi.current,we(pi)}function xs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,hP(n)),Ue!==null)for(n=Ue.return;n!==null;){var r=n;switch(um(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Oc();break;case 3:Fi(),we(Nt),we(mt),_m();break;case 5:vm(r);break;case 4:Fi();break;case 13:we(Se);break;case 19:we(Se);break;case 10:pm(r.type._context);break;case 22:case 23:Pm()}n=n.return}if(Je=t,Ue=t=jr(t.current,null),st=Ot=e,He=0,Pa=null,bm=Ou=Ns=0,kt=ta=null,ms!==null){for(e=0;e<ms.length;e++)if(n=ms[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ms=null}return t}function KE(t,e){do{var n=Ue;try{if(fm(),cc.current=qc,Hc){for(var r=Ae.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Hc=!1}if(Rs=0,Xe=Ge=Ae=null,Zo=!1,ba=0,Am.current=null,n===null||n.return===null){He=1,Pa=e,Ue=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=st,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=c0(o);if(v!==null){v.flags&=-257,u0(v,o,a,i,e),v.mode&1&&l0(i,u,e),e=v,l=u;var I=e.updateQueue;if(I===null){var S=new Set;S.add(l),e.updateQueue=S}else I.add(l);break e}else{if(!(e&1)){l0(i,u,e),Rm();break e}l=Error(U(426))}}else if(Ee&&a.mode&1){var A=c0(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),u0(A,o,a,i,e),hm(Ui(l,a));break e}}i=l=Ui(l,a),He!==4&&(He=2),ta===null?ta=[i]:ta.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=RE(i,l,e);n0(i,x);break e;case 1:a=l;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Dr===null||!Dr.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var P=NE(i,a,e);n0(i,P);break e}}i=i.return}while(i!==null)}XE(n)}catch(N){e=N,Ue===n&&n!==null&&(Ue=n=n.return);continue}break}while(!0)}function QE(){var t=Kc.current;return Kc.current=qc,t===null?qc:t}function Rm(){(He===0||He===3||He===2)&&(He=4),Je===null||!(Ns&268435455)&&!(Ou&268435455)||_r(Je,st)}function Xc(t,e){var n=ue;ue|=2;var r=QE();(Je!==t||st!==e)&&(Un=null,xs(t,e));do try{MP();break}catch(s){KE(t,s)}while(!0);if(fm(),ue=n,Kc.current=r,Ue!==null)throw Error(U(261));return Je=null,st=0,He}function MP(){for(;Ue!==null;)YE(Ue)}function LP(){for(;Ue!==null&&!lk();)YE(Ue)}function YE(t){var e=ZE(t.alternate,t,Ot);t.memoizedProps=t.pendingProps,e===null?XE(t):Ue=e,Am.current=null}function XE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=PP(n,e),n!==null){n.flags&=32767,Ue=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{He=6,Ue=null;return}}else if(n=kP(n,e,Ot),n!==null){Ue=n;return}if(e=e.sibling,e!==null){Ue=e;return}Ue=e=t}while(e!==null);He===0&&(He=5)}function hs(t,e,n){var r=de,s=Zt.transition;try{Zt.transition=null,de=1,OP(t,e,n,r)}finally{Zt.transition=s,de=r}return null}function OP(t,e,n,r){do Ai();while(Ir!==null);if(ue&6)throw Error(U(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(vk(t,i),t===Je&&(Ue=Je=null,st=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zl||(zl=!0,eT(Nc,function(){return Ai(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Zt.transition,Zt.transition=null;var o=de;de=1;var a=ue;ue|=4,Am.current=null,NP(t,n),GE(n,t),sP(pf),Vc=!!ff,pf=ff=null,t.current=n,DP(n),ck(),ue=a,de=o,Zt.transition=i}else t.current=n;if(zl&&(zl=!1,Ir=t,Yc=s),i=t.pendingLanes,i===0&&(Dr=null),dk(n.stateNode),Vt(t,Me()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Qc)throw Qc=!1,t=Vf,Vf=null,t;return Yc&1&&t.tag!==0&&Ai(),i=t.pendingLanes,i&1?t===jf?na++:(na=0,jf=t):na=0,Zr(),null}function Ai(){if(Ir!==null){var t=R1(Yc),e=Zt.transition,n=de;try{if(Zt.transition=null,de=16>t?16:t,Ir===null)var r=!1;else{if(t=Ir,Ir=null,Yc=0,ue&6)throw Error(U(331));var s=ue;for(ue|=4,q=t.current;q!==null;){var i=q,o=i.child;if(q.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(q=u;q!==null;){var h=q;switch(h.tag){case 0:case 11:case 15:ea(8,h,i)}var f=h.child;if(f!==null)f.return=h,q=f;else for(;q!==null;){h=q;var m=h.sibling,v=h.return;if($E(h),h===u){q=null;break}if(m!==null){m.return=v,q=m;break}q=v}}}var I=i.alternate;if(I!==null){var S=I.child;if(S!==null){I.child=null;do{var A=S.sibling;S.sibling=null,S=A}while(S!==null)}}q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,q=o;else e:for(;q!==null;){if(i=q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ea(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,q=x;break e}q=i.return}}var y=t.current;for(q=y;q!==null;){o=q;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,q=w;else e:for(o=y;q!==null;){if(a=q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Lu(9,a)}}catch(N){Ne(a,a.return,N)}if(a===o){q=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,q=P;break e}q=a.return}}if(ue=s,Zr(),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(ku,t)}catch{}r=!0}return r}finally{de=n,Zt.transition=e}}return!1}function T0(t,e,n){e=Ui(n,e),e=RE(t,e,1),t=Nr(t,e,1),e=St(),t!==null&&(Qa(t,1,e),Vt(t,e))}function Ne(t,e,n){if(t.tag===3)T0(t,t,n);else for(;e!==null;){if(e.tag===3){T0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Dr===null||!Dr.has(r))){t=Ui(n,t),t=NE(e,t,1),e=Nr(e,t,1),t=St(),e!==null&&(Qa(e,1,t),Vt(e,t));break}}e=e.return}}function FP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=St(),t.pingedLanes|=t.suspendedLanes&n,Je===t&&(st&n)===n&&(He===4||He===3&&(st&130023424)===st&&500>Me()-Cm?xs(t,0):bm|=n),Vt(t,e)}function JE(t,e){e===0&&(t.mode&1?(e=Dl,Dl<<=1,!(Dl&130023424)&&(Dl=4194304)):e=1);var n=St();t=Yn(t,e),t!==null&&(Qa(t,e,n),Vt(t,n))}function UP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),JE(t,n)}function BP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),JE(t,n)}var ZE;ZE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Nt.current)Pt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Pt=!1,CP(t,e,n);Pt=!!(t.flags&131072)}else Pt=!1,Ee&&e.flags&1048576&&rE(e,Bc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;hc(t,e),t=e.pendingProps;var s=Mi(e,mt.current);Ii(e,n),s=wm(null,e,r,t,s,n);var i=Em();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Dt(r)?(i=!0,Fc(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,gm(e),s.updater=Mu,e.stateNode=s,s._reactInternals=e,Tf(e,r,t,n),e=Af(null,e,r,!0,i,n)):(e.tag=0,Ee&&i&&cm(e),wt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(hc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=zP(r),t=ln(r,t),s){case 0:e=If(null,e,r,t,n);break e;case 1:e=f0(null,e,r,t,n);break e;case 11:e=h0(null,e,r,t,n);break e;case 14:e=d0(null,e,r,ln(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ln(r,s),If(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ln(r,s),f0(t,e,r,s,n);case 3:e:{if(ME(e),t===null)throw Error(U(387));r=e.pendingProps,i=e.memoizedState,s=i.element,cE(t,e),Wc(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ui(Error(U(423)),e),e=p0(t,e,r,n,s);break e}else if(r!==s){s=Ui(Error(U(424)),e),e=p0(t,e,r,n,s);break e}else for(Ut=Rr(e.stateNode.containerInfo.firstChild),$t=e,Ee=!0,un=null,n=aE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Li(),r===s){e=Xn(t,e,n);break e}wt(t,e,r,n)}e=e.child}return e;case 5:return uE(e),t===null&&xf(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,mf(r,s)?o=null:i!==null&&mf(r,i)&&(e.flags|=32),jE(t,e),wt(t,e,o,n),e.child;case 6:return t===null&&xf(e),null;case 13:return LE(t,e,n);case 4:return ym(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Oi(e,null,r,n):wt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ln(r,s),h0(t,e,r,s,n);case 7:return wt(t,e,e.pendingProps,n),e.child;case 8:return wt(t,e,e.pendingProps.children,n),e.child;case 12:return wt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ge($c,r._currentValue),r._currentValue=o,i!==null)if(gn(i.value,o)){if(i.children===s.children&&!Nt.current){e=Xn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=qn(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),wf(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),wf(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}wt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ii(e,n),s=tn(s),r=r(s),e.flags|=1,wt(t,e,r,n),e.child;case 14:return r=e.type,s=ln(r,e.pendingProps),s=ln(r.type,s),d0(t,e,r,s,n);case 15:return DE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ln(r,s),hc(t,e),e.tag=1,Dt(r)?(t=!0,Fc(e)):t=!1,Ii(e,n),PE(e,r,s),Tf(e,r,s,n),Af(null,e,r,!0,t,n);case 19:return OE(t,e,n);case 22:return VE(t,e,n)}throw Error(U(156,e.tag))};function eT(t,e){return b1(t,e)}function $P(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(t,e,n,r){return new $P(t,e,n,r)}function Nm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zP(t){if(typeof t=="function")return Nm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Xp)return 11;if(t===Jp)return 14}return 2}function jr(t,e){var n=t.alternate;return n===null?(n=Xt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function pc(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Nm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case si:return ws(n.children,s,i,e);case Yp:o=8,s|=8;break;case Hd:return t=Xt(12,n,e,s|2),t.elementType=Hd,t.lanes=i,t;case qd:return t=Xt(13,n,e,s),t.elementType=qd,t.lanes=i,t;case Kd:return t=Xt(19,n,e,s),t.elementType=Kd,t.lanes=i,t;case u1:return Fu(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case l1:o=10;break e;case c1:o=9;break e;case Xp:o=11;break e;case Jp:o=14;break e;case gr:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Xt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ws(t,e,n,r){return t=Xt(7,t,r,e),t.lanes=n,t}function Fu(t,e,n,r){return t=Xt(22,t,r,e),t.elementType=u1,t.lanes=n,t.stateNode={isHidden:!1},t}function ad(t,e,n){return t=Xt(6,t,null,e),t.lanes=n,t}function ld(t,e,n){return e=Xt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function WP(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$h(0),this.expirationTimes=$h(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$h(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Dm(t,e,n,r,s,i,o,a,l){return t=new WP(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Xt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gm(i),t}function GP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ri,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function tT(t){if(!t)return Br;t=t._reactInternals;e:{if(Bs(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Dt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(Dt(n))return tE(t,n,e)}return e}function nT(t,e,n,r,s,i,o,a,l){return t=Dm(n,r,!0,t,s,i,o,a,l),t.context=tT(null),n=t.current,r=St(),s=Vr(n),i=qn(r,s),i.callback=e??null,Nr(n,i,s),t.current.lanes=s,Qa(t,s,r),Vt(t,r),t}function Uu(t,e,n,r){var s=e.current,i=St(),o=Vr(s);return n=tT(n),e.context===null?e.context=n:e.pendingContext=n,e=qn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Nr(s,e,o),t!==null&&(pn(t,s,o,i),lc(t,s,o)),o}function Jc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function S0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Vm(t,e){S0(t,e),(t=t.alternate)&&S0(t,e)}function HP(){return null}var rT=typeof reportError=="function"?reportError:function(t){console.error(t)};function jm(t){this._internalRoot=t}Bu.prototype.render=jm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));Uu(t,e,null,null)};Bu.prototype.unmount=jm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ds(function(){Uu(null,t,null,null)}),e[Qn]=null}};function Bu(t){this._internalRoot=t}Bu.prototype.unstable_scheduleHydration=function(t){if(t){var e=V1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<vr.length&&e!==0&&e<vr[n].priority;n++);vr.splice(n,0,t),n===0&&M1(t)}};function Mm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function I0(){}function qP(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Jc(o);i.call(u)}}var o=nT(e,r,t,0,null,!1,!1,"",I0);return t._reactRootContainer=o,t[Qn]=o.current,Ea(t.nodeType===8?t.parentNode:t),Ds(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Jc(l);a.call(u)}}var l=Dm(t,0,!1,null,null,!1,!1,"",I0);return t._reactRootContainer=l,t[Qn]=l.current,Ea(t.nodeType===8?t.parentNode:t),Ds(function(){Uu(e,l,n,r)}),l}function zu(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Jc(o);a.call(l)}}Uu(e,o,t,s)}else o=qP(n,e,t,s,r);return Jc(o)}N1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Fo(e.pendingLanes);n!==0&&(tm(e,n|1),Vt(e,Me()),!(ue&6)&&(Bi=Me()+500,Zr()))}break;case 13:Ds(function(){var r=Yn(t,1);if(r!==null){var s=St();pn(r,t,1,s)}}),Vm(t,1)}};nm=function(t){if(t.tag===13){var e=Yn(t,134217728);if(e!==null){var n=St();pn(e,t,134217728,n)}Vm(t,134217728)}};D1=function(t){if(t.tag===13){var e=Vr(t),n=Yn(t,e);if(n!==null){var r=St();pn(n,t,e,r)}Vm(t,e)}};V1=function(){return de};j1=function(t,e){var n=de;try{return de=t,e()}finally{de=n}};sf=function(t,e,n){switch(e){case"input":if(Xd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Du(r);if(!s)throw Error(U(90));d1(r),Xd(r,s)}}}break;case"textarea":p1(t,n);break;case"select":e=n.value,e!=null&&wi(t,!!n.multiple,e,!1)}};w1=km;E1=Ds;var KP={usingClientEntryPoint:!1,Events:[Xa,li,Du,_1,x1,km]},Vo={findFiberByHostInstance:ps,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QP={bundleType:Vo.bundleType,version:Vo.version,rendererPackageName:Vo.rendererPackageName,rendererConfig:Vo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ir.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=I1(t),t===null?null:t.stateNode},findFiberByHostInstance:Vo.findFiberByHostInstance||HP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wl.isDisabled&&Wl.supportsFiber)try{ku=Wl.inject(QP),In=Wl}catch{}}Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KP;Wt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mm(e))throw Error(U(200));return GP(t,e,null,n)};Wt.createRoot=function(t,e){if(!Mm(t))throw Error(U(299));var n=!1,r="",s=rT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Dm(t,1,!1,null,null,n,!1,r,s),t[Qn]=e.current,Ea(t.nodeType===8?t.parentNode:t),new jm(e)};Wt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=I1(e),t=t===null?null:t.stateNode,t};Wt.flushSync=function(t){return Ds(t)};Wt.hydrate=function(t,e,n){if(!$u(e))throw Error(U(200));return zu(null,t,e,!0,n)};Wt.hydrateRoot=function(t,e,n){if(!Mm(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=rT;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=nT(e,null,t,1,n??null,s,!1,i,o),t[Qn]=e.current,Ea(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Bu(e)};Wt.render=function(t,e,n){if(!$u(e))throw Error(U(200));return zu(null,t,e,!1,n)};Wt.unmountComponentAtNode=function(t){if(!$u(t))throw Error(U(40));return t._reactRootContainer?(Ds(function(){zu(null,null,t,!1,function(){t._reactRootContainer=null,t[Qn]=null})}),!0):!1};Wt.unstable_batchedUpdates=km;Wt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!$u(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return zu(t,e,n,!1,r)};Wt.version="18.3.1-next-f1338f8080-20240426";function sT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sT)}catch(t){console.error(t)}}sT(),s1.exports=Wt;var YP=s1.exports,A0=YP;Wd.createRoot=A0.createRoot,Wd.hydrateRoot=A0.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zc(){return Zc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zc.apply(this,arguments)}var Ar;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ar||(Ar={}));const b0="popstate";function XP(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Of("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:oT(s)}return ZP(e,n,null,t)}function jt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function iT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JP(){return Math.random().toString(36).substr(2,8)}function C0(t,e){return{usr:t.state,key:t.key,idx:e}}function Of(t,e,n,r){return n===void 0&&(n=null),Zc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Wu(e):e,{state:n,key:e&&e.key||r||JP()})}function oT(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Wu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function ZP(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Ar.Pop,l=null,u=h();u==null&&(u=0,o.replaceState(Zc({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=Ar.Pop;let A=h(),x=A==null?null:A-u;u=A,l&&l({action:a,location:S.location,delta:x})}function m(A,x){a=Ar.Push;let y=Of(S.location,A,x);u=h()+1;let w=C0(y,u),P=S.createHref(y);try{o.pushState(w,"",P)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(P)}i&&l&&l({action:a,location:S.location,delta:1})}function v(A,x){a=Ar.Replace;let y=Of(S.location,A,x);u=h();let w=C0(y,u),P=S.createHref(y);o.replaceState(w,"",P),i&&l&&l({action:a,location:S.location,delta:0})}function I(A){let x=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof A=="string"?A:oT(A);return y=y.replace(/ $/,"%20"),jt(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let S={get action(){return a},get location(){return t(s,o)},listen(A){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(b0,f),l=A,()=>{s.removeEventListener(b0,f),l=null}},createHref(A){return e(s,A)},createURL:I,encodeLocation(A){let x=I(A);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:v,go(A){return o.go(A)}};return S}var k0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(k0||(k0={}));function eR(t,e,n){return n===void 0&&(n="/"),tR(t,e,n)}function tR(t,e,n,r){let s=typeof e=="string"?Wu(e):e,i=cT(s.pathname||"/",n);if(i==null)return null;let o=aT(t);nR(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=pR(i);a=hR(o[l],u)}return a}function aT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(jt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=bi([r,l.relativePath]),h=n.concat(l);i.children&&i.children.length>0&&(jt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),aT(i.children,e,h,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:cR(u,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of lT(i.path))s(i,o,l)}),e}function lT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=lT(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function nR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:uR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const rR=/^:[\w-]+$/,sR=3,iR=2,oR=1,aR=10,lR=-2,P0=t=>t==="*";function cR(t,e){let n=t.split("/"),r=n.length;return n.some(P0)&&(r+=lR),e&&(r+=iR),n.filter(s=>!P0(s)).reduce((s,i)=>s+(rR.test(i)?sR:i===""?oR:aR),r)}function uR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function hR(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=dR({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),m=l.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:bi([i,f.pathname]),pathnameBase:mR(bi([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=bi([i,f.pathnameBase]))}return o}function dR(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=fR(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,h,f)=>{let{paramName:m,isOptional:v}=h;if(m==="*"){let S=a[f]||"";o=i.slice(0,i.length-S.length).replace(/(.)\/+$/,"$1")}const I=a[f];return v&&!I?u[m]=void 0:u[m]=(I||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function fR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),iT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function pR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return iT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function cT(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const bi=t=>t.join("/").replace(/\/\/+/g,"/"),mR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function gR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const uT=["post","put","patch","delete"];new Set(uT);const yR=["get",...uT];new Set(yR);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eu(){return eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eu.apply(this,arguments)}const vR=D.createContext(null),_R=D.createContext(null),hT=D.createContext(null),Gu=D.createContext(null),Hu=D.createContext({outlet:null,matches:[],isDataRoute:!1}),dT=D.createContext(null);function Lm(){return D.useContext(Gu)!=null}function xR(){return Lm()||jt(!1),D.useContext(Gu).location}function wR(t,e){return ER(t,e)}function ER(t,e,n,r){Lm()||jt(!1);let{navigator:s}=D.useContext(hT),{matches:i}=D.useContext(Hu),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=xR(),h;if(e){var f;let A=typeof e=="string"?Wu(e):e;l==="/"||(f=A.pathname)!=null&&f.startsWith(l)||jt(!1),h=A}else h=u;let m=h.pathname||"/",v=m;if(l!=="/"){let A=l.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(A.length).join("/")}let I=eR(t,{pathname:v}),S=bR(I&&I.map(A=>Object.assign({},A,{params:Object.assign({},a,A.params),pathname:bi([l,s.encodeLocation?s.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?l:bi([l,s.encodeLocation?s.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),i,n,r);return e&&S?D.createElement(Gu.Provider,{value:{location:eu({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ar.Pop}},S):S}function TR(){let t=RR(),e=gR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:s},n):null,null)}const SR=D.createElement(TR,null);class IR extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?D.createElement(Hu.Provider,{value:this.props.routeContext},D.createElement(dT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function AR(t){let{routeContext:e,match:n,children:r}=t,s=D.useContext(vR);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement(Hu.Provider,{value:e},r)}function bR(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||jt(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:m,errors:v}=n,I=f.route.loader&&m[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||I){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,f,m)=>{let v,I=!1,S=null,A=null;n&&(v=a&&f.route.id?a[f.route.id]:void 0,S=f.route.errorElement||SR,l&&(u<0&&m===0?(NR("route-fallback"),I=!0,A=null):u===m&&(I=!0,A=f.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,m+1)),y=()=>{let w;return v?w=S:I?w=A:f.route.Component?w=D.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=h,D.createElement(AR,{match:f,routeContext:{outlet:h,matches:x,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?D.createElement(IR,{location:n.location,revalidation:n.revalidation,component:S,error:v,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var fT=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(fT||{});function CR(t){let e=D.useContext(_R);return e||jt(!1),e}function kR(t){let e=D.useContext(Hu);return e||jt(!1),e}function PR(t){let e=kR(),n=e.matches[e.matches.length-1];return n.route.id||jt(!1),n.route.id}function RR(){var t;let e=D.useContext(dT),n=CR(fT.UseRouteError),r=PR();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}const R0={};function NR(t,e,n){R0[t]||(R0[t]=!0)}function DR(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function pT(t){jt(!1)}function VR(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ar.Pop,navigator:i,static:o=!1,future:a}=t;Lm()&&jt(!1);let l=e.replace(/^\/*/,"/"),u=D.useMemo(()=>({basename:l,navigator:i,static:o,future:eu({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Wu(r));let{pathname:h="/",search:f="",hash:m="",state:v=null,key:I="default"}=r,S=D.useMemo(()=>{let A=cT(h,l);return A==null?null:{location:{pathname:A,search:f,hash:m,state:v,key:I},navigationType:s}},[l,h,f,m,v,I,s]);return S==null?null:D.createElement(hT.Provider,{value:u},D.createElement(Gu.Provider,{children:n,value:S}))}function jR(t){let{children:e,location:n}=t;return wR(Ff(e),n)}new Promise(()=>{});function Ff(t,e){e===void 0&&(e=[]);let n=[];return D.Children.forEach(t,(r,s)=>{if(!D.isValidElement(r))return;let i=[...e,s];if(r.type===D.Fragment){n.push.apply(n,Ff(r.props.children,i));return}r.type!==pT&&jt(!1),!r.props.index||!r.props.children||jt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ff(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const MR="6";try{window.__reactRouterVersion=MR}catch{}const LR="startTransition",N0=FC[LR];function OR(t){let{basename:e,children:n,future:r,window:s}=t,i=D.useRef();i.current==null&&(i.current=XP({window:s,v5Compat:!0}));let o=i.current,[a,l]=D.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},h=D.useCallback(f=>{u&&N0?N0(()=>l(f)):l(f)},[l,u]);return D.useLayoutEffect(()=>o.listen(h),[o,h]),D.useEffect(()=>DR(r),[r]),D.createElement(VR,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var D0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(D0||(D0={}));var V0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(V0||(V0={}));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UR=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),j0=t=>{const e=UR(t);return e.charAt(0).toUpperCase()+e.slice(1)},mT=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),BR=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $R={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=D.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>D.createElement("svg",{ref:l,...$R,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:mT("lucide",s),...!i&&!BR(a)&&{"aria-hidden":"true"},...a},[...o.map(([u,h])=>D.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=(t,e)=>{const n=D.forwardRef(({className:r,...s},i)=>D.createElement(zR,{ref:i,iconNode:e,className:mT(`lucide-${FR(j0(t))}`,`lucide-${t}`,r),...s}));return n.displayName=j0(t),n};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],GR=ce("arrow-right",WR);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],qR=ce("bold",HR);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],gT=ce("book-open",KR);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],YR=ce("brain-circuit",QR);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],JR=ce("calculator",XR);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],tu=ce("chevron-down",ZR);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],tN=ce("chevron-left",eN);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],rN=ce("chevron-up",nN);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],yT=ce("circle-alert",sN);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],oN=ce("circle-check",iN);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],lN=ce("circle-question-mark",aN);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],M0=ce("file-text",cN);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],hN=ce("graduation-cap",uN);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]],fN=ce("highlighter",dN);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],mN=ce("italic",pN);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],yN=ce("lock",gN);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],L0=ce("log-out",vN);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],xN=ce("map-pin",_N);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],EN=ce("menu",wN);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],SN=ce("message-circle",TN);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],O0=ce("moon",IN);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],bN=ce("paperclip",AN);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],Uf=ce("pen-tool",CN);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Bf=ce("plus",kN);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],RN=ce("rotate-ccw",PN);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],DN=ce("ruler",NN);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],jN=ce("send",VN);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],LN=ce("settings-2",MN);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],F0=ce("sun",ON);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],vT=ce("target",FN);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],nu=ce("trash-2",UN);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],$N=ce("triangle-alert",BN);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Om=ce("x",zN);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],GN=ce("zap",WN),$f=(t,e)=>e.some(n=>t instanceof n);let U0,B0;function HN(){return U0||(U0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qN(){return B0||(B0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zf=new WeakMap,cd=new WeakMap,qu=new WeakMap;function KN(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Es(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return qu.set(e,t),e}function QN(t){if(zf.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});zf.set(t,e)}let Wf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zf.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Es(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _T(t){Wf=t(Wf)}function YN(t){return qN().includes(t)?function(...e){return t.apply(Gf(this),e),Es(this.request)}:function(...e){return Es(t.apply(Gf(this),e))}}function XN(t){return typeof t=="function"?YN(t):(t instanceof IDBTransaction&&QN(t),$f(t,HN())?new Proxy(t,Wf):t)}function Es(t){if(t instanceof IDBRequest)return KN(t);if(cd.has(t))return cd.get(t);const e=XN(t);return e!==t&&(cd.set(t,e),qu.set(e,t)),e}const Gf=t=>qu.get(t);function JN(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Es(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Es(o.result),l.oldVersion,l.newVersion,Es(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const ZN=["get","getKey","getAll","getAllKeys","count"],e2=["put","add","delete","clear"],ud=new Map;function $0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ud.get(e))return ud.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=e2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||ZN.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return ud.set(e,i),i}_T(t=>({...t,get:(e,n,r)=>$0(e,n)||t.get(e,n,r),has:(e,n)=>!!$0(e,n)||t.has(e,n)}));const t2=["continue","continuePrimaryKey","advance"],z0={},Hf=new WeakMap,xT=new WeakMap,n2={get(t,e){if(!t2.includes(e))return t[e];let n=z0[e];return n||(n=z0[e]=function(...r){Hf.set(this,xT.get(this)[e](...r))}),n}};async function*r2(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const n=new Proxy(e,n2);for(xT.set(n,e),qu.set(n,Gf(e));e;)yield n,e=await(Hf.get(n)||e.continue()),Hf.delete(n)}function W0(t,e){return e===Symbol.asyncIterator&&$f(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&$f(t,[IDBIndex,IDBObjectStore])}_T(t=>({...t,get(e,n,r){return W0(e,n)?r2:t.get(e,n,r)},has(e,n){return W0(e,n)||t.has(e,n)}}));let hd=null;function wT(){return hd||(hd=JN("BA14Database",1,{upgrade(t){t.objectStoreNames.contains("gpa")||t.createObjectStore("gpa"),t.objectStoreNames.contains("flashcards")||t.createObjectStore("flashcards"),t.objectStoreNames.contains("projects")||t.createObjectStore("projects")}})),hd}async function s2(t,e,n){try{await(await wT()).put(t,n,e),console.log(` Saved to IndexedDB [${t}/${e}]:`,n)}catch(r){console.error(` Failed to save to IndexedDB [${t}/${e}]:`,r)}}async function i2(t,e,n){try{const s=await(await wT()).get(t,e);if(s!==void 0)return console.log(` Loaded from IndexedDB [${t}/${e}]:`,s),s}catch(r){console.error(` Failed to load from IndexedDB [${t}/${e}]:`,r)}return n}const ET=D.createContext(void 0);function o2({children:t}){const[e,n]=D.useState(()=>{if(typeof window<"u"){const i=localStorage.getItem("theme");if(i==="light"||i==="dark")return i;if(window.matchMedia("(prefers-color-scheme: dark)").matches)return"dark"}return"light"});D.useEffect(()=>{const i=document.documentElement;i.classList.remove("light","dark"),i.classList.add(e),i.style.colorScheme=e,localStorage.setItem("theme",e)},[e]);const r=i=>{n(i)},s=()=>{n(i=>i==="light"?"dark":"light")};return d.jsx(ET.Provider,{value:{theme:e,setTheme:r,toggleTheme:s},children:t})}function a2(){const t=D.useContext(ET);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}const Zi=({emoji:t,className:e="w-5 h-5"})=>d.jsx("img",{src:`https://emojicdn.elk.sh/${t}?style=apple`,alt:t,className:`inline-block select-none pointer-events-none ${e}`,loading:"lazy"});function l2({icon:t="",title:e,description:n,primaryAction:r,secondaryAction:s,className:i=""}){return d.jsx("div",{className:`flex flex-col items-center justify-center py-12 px-6 text-center ${i}`,children:d.jsx("h3",{className:"text-lg font-medium text-[var(--color-text-tertiary)] mb-0",children:e})})}function c2({columns:t,data:e,onUpdate:n,onDelete:r,onDuplicate:s,emptyState:i,stickyHeader:o=!0,className:a=""}){const[l,u]=D.useState(null),[h,f]=D.useState(""),[m,v]=D.useState(null),I=D.useRef(null);D.useEffect(()=>{l&&I.current&&(I.current.focus(),I.current.select())},[l]),D.useCallback((y,w,P)=>{u({rowId:y,columnKey:w}),f(String(P??"")),v(null)},[]);const S=D.useCallback(()=>{u(null),f(""),v(null)},[]),A=D.useCallback(()=>{if(!l)return;const y=t.find(P=>P.key===l.columnKey);if(y!=null&&y.validate){const P=y.validate(h);if(P){v(P);return}}let w=h;(y==null?void 0:y.type)==="number"&&(w=parseFloat(h)||0),n(l.rowId,l.columnKey,w),S()},[l,h,t,n,S]);if(D.useCallback(y=>{y.key==="Enter"?(y.preventDefault(),A()):y.key==="Escape"&&S()},[A,S]),e.length===0&&i)return d.jsx(d.Fragment,{children:i});t.find(y=>y.key==="name"),t.find(y=>y.key==="credits");const x=t.find(y=>y.key==="grade");return d.jsx("div",{className:`bg-[var(--color-bg-elevated)] rounded-[20px] overflow-hidden border border-[var(--color-border-primary)] ${a}`,children:e.map((y,w)=>{var N;const P=w===e.length-1;return d.jsxs("div",{className:`
              h-[72px] flex items-center justify-between px-4 
              ${P?"":"border-b border-[var(--color-border-primary)]"}
            `,children:[d.jsxs("div",{className:"flex flex-col justify-center flex-1 min-w-0 mr-4",children:[d.jsx("input",{type:"text",value:y.name,onChange:V=>n(y.id,"name",V.target.value),className:"font-bold text-[var(--color-text-primary)] bg-transparent border-none p-0 focus:ring-0 text-base w-full truncate placeholder-[var(--color-text-quaternary)]",placeholder:"Course Name"}),d.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[d.jsx("input",{type:"number",value:y.credits,onChange:V=>n(y.id,"credits",parseFloat(V.target.value)||0),className:"text-sm text-[var(--color-text-tertiary)] bg-transparent border-none p-0 focus:ring-0 w-8",min:"0",max:"10"}),d.jsx("span",{className:"text-sm text-[var(--color-text-tertiary)]",children:"Credits"})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"relative",children:[d.jsx("select",{value:y.grade,onChange:V=>n(y.id,"grade",V.target.value),className:"appearance-none bg-[var(--color-surface-secondary)] text-[var(--color-text-primary)] font-medium px-4 py-2 pr-8 rounded-lg cursor-pointer focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]/20 transition-colors",children:(N=x==null?void 0:x.options)==null?void 0:N.map(V=>d.jsx("option",{value:V.value,children:V.label},V.value))}),d.jsx(tu,{size:16,className:"absolute right-2 top-1/2 -translate-y-1/2 text-[var(--color-text-tertiary)] pointer-events-none"})]}),r&&d.jsx("button",{onClick:()=>r(y.id),className:"p-2 text-[var(--color-text-quaternary)] hover:text-red-500 transition-colors",children:d.jsx(nu,{size:20})})]})]},y.id)})})}function u2({grade:t,className:e=""}){if(!t)return d.jsx("span",{className:"text-[var(--color-text-tertiary)]",children:""});let n="bg-[var(--color-surface-secondary)] text-[var(--color-text-secondary)]";return t.startsWith("A")?n="bg-[var(--color-grade-a-bg)] text-[var(--color-grade-a)]":t.startsWith("B")?n="bg-[var(--color-grade-b-bg)] text-[var(--color-text-primary)]":t.startsWith("C")?n="bg-[var(--color-grade-c-bg)] text-[var(--color-grade-c)]":(t==="D"||t==="F")&&(n="bg-[var(--color-grade-d-bg)] text-[var(--color-grade-d)]"),d.jsx("span",{className:`
      inline-flex items-center justify-center
      px-3 py-1 rounded-full
      text-xs font-bold
      ${n}
      ${e}
    `,children:t})}const h2={EN:{title:"Course Grade Estimator",subtitle:"Quickly estimate your final grades for multiple courses.",addCourse:"Add Course",courseName:"Course Name",credits:"Credits",assessments:"Assessments",addAssessment:"Add Item",componentName:"Name (e.g. Midterm)",weight:"Weight %",grade:"Grade (Letter/Score)",currentStanding:"Current Standing",estimatedFinal:"Estimated Final",overallSummary:"Overall Summary",predictedGPA:"Predicted GPA",totalCredits:"Total Credits",disclaimer:" Estimates only. Actual grades may vary due to curves or rounding.",weightWarning:"Weights  100%",noCourses:"No courses added yet.",deleteCourse:"Delete Course",gradePlaceholder:"A, 85, 16/20",basedOn:"based on",completed:"completed",remove:"Remove"},:{title:"",subtitle:"",addCourse:"",courseName:"",credits:"",assessments:"",addAssessment:"",componentName:" (: )",weight:" %",grade:" (/)",currentStanding:"",estimatedFinal:"",overallSummary:"",predictedGPA:" GPA",totalCredits:"",disclaimer:" ",weightWarning:"  100%",noCourses:"",deleteCourse:"",gradePlaceholder:"A, 85, 16/20",basedOn:"",completed:"",remove:""}},TT=[{grade:"A",min:93,max:100,gpa:4},{grade:"A-",min:90,max:92.99,gpa:3.7},{grade:"B+",min:87,max:89.99,gpa:3.3},{grade:"B",min:83,max:86.99,gpa:3},{grade:"B-",min:80,max:82.99,gpa:2.7},{grade:"C+",min:77,max:79.99,gpa:2.3},{grade:"C",min:73,max:76.99,gpa:2},{grade:"C-",min:70,max:72.99,gpa:1.7},{grade:"D",min:60,max:69.99,gpa:1},{grade:"F",min:0,max:59.99,gpa:0}],ST=[{grade:"A+",min:97,max:100,gpa:4.3},{grade:"A",min:93,max:96.99,gpa:4},{grade:"A-",min:90,max:92.99,gpa:3.7},{grade:"B+",min:87,max:89.99,gpa:3.3},{grade:"B",min:83,max:86.99,gpa:3},{grade:"B-",min:80,max:82.99,gpa:2.7},{grade:"C+",min:77,max:79.99,gpa:2.3},{grade:"C",min:73,max:76.99,gpa:2},{grade:"C-",min:70,max:72.99,gpa:1.7},{grade:"D",min:60,max:69.99,gpa:1},{grade:"F",min:0,max:59.99,gpa:0}],d2=(t,e)=>{const n=e==="4.3"?ST:TT;return n.find(s=>t>=s.min&&t<=s.max)||n[n.length-1]},f2=(t,e)=>{const n=t.trim().toUpperCase();if(!n)return null;if(n.includes("/")){const[o,a]=n.split("/").map(Number);if(!isNaN(o)&&!isNaN(a)&&a!==0)return Math.min(100,Math.max(0,o/a*100))}const r=parseFloat(n);if(!isNaN(r))return Math.min(100,Math.max(0,r));const i=(e==="4.3"?ST:TT).find(o=>o.grade===n);return i?(i.min+i.max)/2:null};function p2({lang:t,scale:e}){const r=h2[t==="EN"?"EN":""],s=e==="4.3"?["A+","A","A-","B+","B","B-","C+","C","C-","D","F"]:["A","A-","B+","B","B-","C+","C","C-","D","F"],[i,o]=D.useState([]);D.useEffect(()=>{const A=localStorage.getItem("grade_prediction_courses");if(A)try{o(JSON.parse(A))}catch(x){console.error("Failed to load courses",x)}else{const x=localStorage.getItem("grade_prediction_components");if(x)try{const y=JSON.parse(x),w={id:`course-${Date.now()}`,name:"Course 1",credits:3,isOpen:!0,assessments:y.map(P=>({id:P.id,name:P.name,weight:P.weight,grade:P.scoreRaw||(P.score?P.score.toString():"")}))};o([w]),localStorage.removeItem("grade_prediction_components")}catch(y){console.error("Failed to migrate old data",y)}}},[]),D.useEffect(()=>{i.length>0&&localStorage.setItem("grade_prediction_courses",JSON.stringify(i))},[i]);const a=()=>{const A={id:`course-${Date.now()}`,name:"",credits:3,isOpen:!0,assessments:[{id:`as-${Date.now()}-1`,name:"Assignment 1",weight:20,grade:""},{id:`as-${Date.now()}-2`,name:"Midterm",weight:30,grade:""},{id:`as-${Date.now()}-3`,name:"Final",weight:50,grade:""}]};o([...i,A])},l=(A,x)=>{o(i.map(y=>y.id===A?{...y,...x}:y))},u=A=>{confirm(r.deleteCourse+"?")&&o(i.filter(x=>x.id!==A))},h=A=>{o(i.map(x=>x.id===A?{...x,isOpen:!x.isOpen}:x))},f=A=>{o(i.map(x=>x.id!==A?x:{...x,assessments:[...x.assessments,{id:`as-${Date.now()}`,name:"",weight:0,grade:""}]}))},m=(A,x,y)=>{o(i.map(w=>w.id!==A?w:{...w,assessments:w.assessments.map(P=>P.id===x?{...P,...y}:P)}))},v=(A,x)=>{o(i.map(y=>y.id!==A?y:{...y,assessments:y.assessments.filter(w=>w.id!==x)}))},I=A=>{let x=0,y=0,w=0;A.assessments.forEach(T=>{const _=T.weight||0;x+=_;const b=f2(T.grade,e);b!==null&&(y+=_,w+=b/100*_)});const P=y>0?w/y*100:0;let N=0;y===0?N=0:x>0&&(Math.abs(x-100)<.1?N=w:N=P);const V=d2(N,e);return{totalWeight:x,completedWeight:y,currentStanding:P,projectedScore:N,projectedLetter:V}},S=D.useMemo(()=>{let A=0,x=0,y=0;return i.forEach(P=>{const N=I(P);N.completedWeight>0&&(A+=P.credits||0,x+=N.projectedLetter.gpa*(P.credits||0),y++)}),{gpa:A>0?x/A:0,totalCredits:A,validCourses:y}},[i,e]);return d.jsxs("div",{className:"max-w-5xl mx-auto space-y-6 pb-24",children:[d.jsxs("div",{className:"text-center md:text-left",children:[d.jsx("h2",{className:"text-3xl font-bold text-[var(--color-text-primary)] mb-2",children:r.title}),d.jsx("p",{className:"text-[var(--color-text-secondary)]",children:r.subtitle})]}),d.jsxs("div",{className:"bg-[var(--color-bg-secondary)] border border-[var(--color-border)] rounded-2xl p-4 flex gap-3 backdrop-blur-md",children:[d.jsx(yT,{className:"w-5 h-5 text-[var(--color-text-secondary)] flex-shrink-0 mt-0.5"}),d.jsx("p",{className:"text-sm text-[var(--color-text-secondary)] font-medium",children:r.disclaimer})]}),d.jsxs("div",{className:"space-y-6",children:[i.map(A=>{const x=I(A),y=Math.abs(x.totalWeight-100)>.1;return d.jsxs("div",{className:"bg-[var(--color-bg-elevated)] rounded-3xl border border-[var(--color-border)] overflow-hidden shadow-sm hover:shadow-md transition-all duration-300",children:[d.jsxs("div",{className:"p-6 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 bg-[var(--color-bg-elevated)] border-b border-[var(--color-border)] cursor-pointer hover:bg-[var(--color-bg-secondary)] transition-colors",onClick:()=>h(A.id),children:[d.jsxs("div",{className:"flex items-center gap-3 flex-1 w-full sm:w-auto",children:[A.isOpen?d.jsx(rN,{size:20,className:"text-[var(--color-text-tertiary)] flex-shrink-0"}):d.jsx(tu,{size:20,className:"text-[var(--color-text-tertiary)] flex-shrink-0"}),d.jsx("div",{className:"flex-1 min-w-0",children:d.jsx("input",{type:"text",value:A.name,onChange:w=>l(A.id,{name:w.target.value}),onClick:w=>w.stopPropagation(),placeholder:r.courseName,className:"bg-transparent font-bold text-xl text-[var(--color-text-primary)] outline-none placeholder-[var(--color-text-tertiary)] w-full focus:ring-2 focus:ring-[var(--color-primary)]/20 rounded px-2 -ml-2 transition-all"})})]}),d.jsxs("div",{className:"flex items-center gap-6 w-full sm:w-auto justify-between sm:justify-end",children:[d.jsxs("div",{className:"flex items-center gap-2",onClick:w=>w.stopPropagation(),children:[d.jsx("span",{className:"text-xs font-bold text-[var(--color-text-tertiary)] uppercase tracking-wider",children:r.credits}),d.jsx("input",{type:"number",value:A.credits,onChange:w=>l(A.id,{credits:parseFloat(w.target.value)||0}),className:"w-16 px-3 py-2 bg-[var(--color-bg-secondary)] rounded-xl border-none text-center text-sm font-bold text-[var(--color-text-primary)] focus:ring-2 focus:ring-[var(--color-primary)]/20 outline-none transition-all",min:"0",max:"10"})]}),d.jsxs("div",{className:"text-right min-w-[60px]",children:[d.jsx("div",{className:"text-3xl font-black text-[var(--color-text-primary)] tracking-tight",children:x.projectedLetter.grade}),d.jsxs("div",{className:"text-xs text-[var(--color-text-secondary)] font-medium mt-0.5",children:[x.projectedScore.toFixed(1),"%"]})]})]})]}),A.isOpen&&d.jsxs("div",{className:"p-6 bg-[var(--color-bg-elevated)]",children:[d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"hidden sm:grid grid-cols-[1fr_100px_140px_44px] gap-4 mb-3 px-2",children:[d.jsx("div",{className:"text-xs font-bold text-[var(--color-text-tertiary)] uppercase tracking-wider",children:r.componentName}),d.jsx("div",{className:"text-xs font-bold text-[var(--color-text-tertiary)] uppercase tracking-wider text-center",children:r.weight}),d.jsx("div",{className:"text-xs font-bold text-[var(--color-text-tertiary)] uppercase tracking-wider text-center",children:r.grade}),d.jsx("div",{})]}),d.jsx("div",{className:"space-y-3",children:A.assessments.map(w=>d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_100px_140px_44px] gap-3 items-start sm:items-center bg-[var(--color-bg-secondary)] sm:bg-transparent p-4 sm:p-0 rounded-2xl sm:rounded-none",children:[d.jsx("input",{type:"text",value:w.name,onChange:P=>m(A.id,w.id,{name:P.target.value}),placeholder:"Assignment",className:"w-full px-4 py-3 bg-[var(--color-bg-secondary)] rounded-xl border-none text-[var(--color-text-primary)] text-sm font-medium outline-none focus:ring-2 focus:ring-[var(--color-primary)]/20 transition-all placeholder-[var(--color-text-tertiary)]"}),d.jsxs("div",{className:"flex gap-3 sm:block",children:[d.jsx("div",{className:"flex-1 sm:hidden",children:d.jsx("label",{className:"text-xs font-bold text-[var(--color-text-tertiary)] uppercase tracking-wider block mb-1",children:r.weight})}),d.jsx("input",{type:"number",value:w.weight||"",onChange:P=>m(A.id,w.id,{weight:parseFloat(P.target.value)||0}),placeholder:"0",className:"w-full px-4 py-3 bg-[var(--color-bg-secondary)] rounded-xl border-none text-center text-[var(--color-text-primary)] text-sm font-medium outline-none focus:ring-2 focus:ring-[var(--color-primary)]/20 transition-all placeholder-[var(--color-text-tertiary)]",min:"0",max:"100"})]}),d.jsxs("div",{className:"flex gap-3 items-center",children:[d.jsx("div",{className:"flex-1 sm:hidden",children:d.jsx("label",{className:"text-xs font-bold text-[var(--color-text-tertiary)] uppercase tracking-wider block mb-1",children:r.grade})}),d.jsxs("div",{className:"relative w-full",children:[d.jsxs("select",{value:w.grade,onChange:P=>m(A.id,w.id,{grade:P.target.value}),className:"w-full px-4 py-3 bg-[var(--color-bg-secondary)] rounded-xl border-none text-center text-[var(--color-text-primary)] text-sm font-medium outline-none focus:ring-2 focus:ring-[var(--color-primary)]/20 transition-all appearance-none cursor-pointer",children:[d.jsx("option",{value:"",children:""}),s.map(P=>d.jsx("option",{value:P,children:P},P))]}),d.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-[var(--color-text-tertiary)]",children:d.jsx(tu,{size:14})})]}),d.jsx("button",{onClick:()=>v(A.id,w.id),className:"sm:hidden p-3 text-[var(--color-text-tertiary)] hover:text-red-500 hover:bg-red-500/10 rounded-xl transition-colors",children:d.jsx(nu,{size:18})})]}),d.jsx("button",{onClick:()=>v(A.id,w.id),className:"hidden sm:flex items-center justify-center w-10 h-10 text-[var(--color-text-tertiary)] hover:text-red-500 hover:bg-red-500/10 rounded-xl transition-all",children:d.jsx(nu,{size:18})})]},w.id))})]}),d.jsxs("div",{className:"flex items-center justify-between mb-4 px-2",children:[d.jsxs("button",{onClick:()=>f(A.id),className:"flex items-center gap-2 text-sm font-bold text-[var(--color-text-primary)] hover:opacity-70 transition-opacity px-2 py-1",children:[d.jsx(Bf,{size:16}),r.addAssessment]}),y&&d.jsxs("span",{className:"text-xs font-bold text-orange-500 bg-orange-500/10 px-2 py-1 rounded-lg",children:[r.weightWarning," (",x.totalWeight,"%)"]})]}),d.jsxs("div",{className:"bg-[var(--color-bg-secondary)] rounded-2xl p-5 flex flex-wrap gap-6 items-center justify-between border border-[var(--color-border)]",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-xs font-bold text-[var(--color-text-tertiary)] uppercase tracking-wider mb-1",children:r.currentStanding}),d.jsxs("div",{className:"text-xl font-black text-[var(--color-text-primary)]",children:[x.currentStanding.toFixed(1),"%",d.jsxs("span",{className:"text-xs font-medium text-[var(--color-text-secondary)] ml-2",children:["(",r.basedOn," ",x.completedWeight,"% ",r.completed,")"]})]})]}),d.jsx("div",{className:"flex items-center gap-4",children:d.jsx("button",{onClick:()=>u(A.id),className:"text-xs font-bold text-[var(--color-text-tertiary)] hover:text-red-500 transition-colors",children:r.deleteCourse})})]})]})]},A.id)}),i.length===0&&d.jsxs("div",{className:"text-center py-16 text-[var(--color-text-tertiary)] border-2 border-dashed border-[var(--color-border)] rounded-3xl bg-[var(--color-bg-secondary)]",children:[d.jsx(gT,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),d.jsx("p",{className:"font-bold",children:r.noCourses})]}),d.jsxs("button",{onClick:a,className:"w-full py-5 bg-[var(--color-bg-elevated)] border-2 border-dashed border-[var(--color-border)] rounded-3xl text-[var(--color-text-secondary)] font-bold hover:border-[var(--color-text-primary)] hover:text-[var(--color-text-primary)] transition-all flex items-center justify-center gap-2 shadow-sm hover:shadow-md",children:[d.jsx(Bf,{size:20}),r.addCourse]})]}),i.length>0&&S.validCourses>0&&d.jsxs("div",{className:"fixed bottom-6 left-4 right-4 md:left-auto md:right-8 md:w-96 bg-[var(--color-bg-elevated)]/80 backdrop-blur-xl border border-[var(--color-border)] rounded-3xl p-6 shadow-2xl z-50",children:[d.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-3 text-[var(--color-text-primary)]",children:[d.jsx("div",{className:"p-2 bg-[var(--color-bg-secondary)] rounded-xl",children:d.jsx(JR,{className:"w-4 h-4"})}),r.overallSummary]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-[var(--color-bg-secondary)] rounded-2xl p-4 border border-[var(--color-border)]",children:[d.jsx("div",{className:"text-[10px] font-bold text-[var(--color-text-tertiary)] mb-1 uppercase tracking-wider",children:r.predictedGPA}),d.jsx("div",{className:"text-4xl font-black tracking-tighter text-[var(--color-text-primary)]",children:S.gpa.toFixed(2)})]}),d.jsxs("div",{className:"bg-[var(--color-bg-secondary)] rounded-2xl p-4 border border-[var(--color-border)]",children:[d.jsx("div",{className:"text-[10px] font-bold text-[var(--color-text-tertiary)] mb-1 uppercase tracking-wider",children:r.totalCredits}),d.jsx("div",{className:"text-3xl font-bold text-[var(--color-text-primary)]",children:S.totalCredits})]})]})]})]})}const G0={EN:{title:"GPA Calculator",subtitle:"Plan your semester, track progress, and set goals.",scale:"Scale",tab_tgpa:"This Semester",tab_cgpa:"Cumulative",tab_target:"Goal Tracker",tab_prediction:"Prediction",courseName:"Course Name",grade:"Grade",credits:"Credits",gradePoints:"Points",actions:"Actions",addCourse:"Add Course",currentCGPA:"Current CGPA",completedCredits:"Completed Credits",targetCGPA:"Target CGPA",nextCredits:"Next Semester Credits",emptyTitle:"No courses yet",emptyDesc:"Add your courses to start calculating your GPA. We'll help you track your progress.",addFirst:"Add First Course",loadSample:"Load Sample Data",reset:"Reset All"},:{title:"GPA ",subtitle:"",scale:"",tab_tgpa:" TGPA",tab_cgpa:" CGPA",tab_target:"",tab_prediction:"",courseName:"",grade:"",credits:"",gradePoints:"",actions:"",addCourse:"",currentCGPA:" CGPA",completedCredits:"",targetCGPA:" CGPA",nextCredits:"",emptyTitle:"",emptyDesc:" GPA",addFirst:"",loadSample:"",reset:""}},m2=["A","A-","B+","B","B-","C+","C","C-","D","F"],g2=["A+","A","A-","B+","B","B-","C+","C","C-","D","F"],y2={A:4,"A-":3.7,"B+":3.3,B:3,"B-":2.7,"C+":2.3,C:2,"C-":1.7,D:1,F:0},v2={"A+":4.3,A:4,"A-":3.7,"B+":3.3,B:3,"B-":2.7,"C+":2.3,C:2,"C-":1.7,D:1,F:0};function dd({active:t,onClick:e,label:n,icon:r}){return d.jsxs("button",{onClick:e,className:`
        relative px-4 py-2 flex items-center gap-2 text-sm font-medium transition-all rounded-full
        ${t?"bg-[var(--color-text-primary)] text-[var(--color-bg-page)] shadow-md":"text-[var(--color-text-secondary)] hover:bg-[var(--color-surface-secondary)] hover:text-[var(--color-text-primary)]"}
      `,children:[d.jsx("span",{className:"text-lg",children:r}),n]})}function _2({lang:t,scale:e}){const[n,r]=D.useState(""),[s,i]=D.useState(""),[o,a]=D.useState(""),[l,u]=D.useState(""),[h,f]=D.useState(null),m=()=>{const v=parseFloat(n),I=parseFloat(s),S=parseFloat(o),A=parseFloat(l);if(!isNaN(v)&&!isNaN(I)&&!isNaN(S)&&!isNaN(A)&&A>0){const x=v*(S+A),y=I*S,P=(x-y)/A;f(P)}else f(null)};return d.jsxs("div",{className:"max-w-2xl mx-auto bg-[var(--color-bg-elevated)] rounded-2xl p-8 border border-[var(--color-border-primary)] shadow-sm",children:[d.jsx("h2",{className:"text-2xl font-bold text-[var(--color-text-primary)] mb-6",children:t==="EN"?"Target GPA Calculator":" GPA "}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"block text-sm font-bold text-[var(--color-text-secondary)]",children:t==="EN"?"Desired Cumulative GPA":" GPA"}),d.jsx("input",{type:"number",value:n,onChange:v=>r(v.target.value),className:"w-full px-4 py-3 rounded-xl bg-[var(--color-surface-secondary)] border-none text-[var(--color-text-primary)] font-mono font-bold focus:ring-2 focus:ring-blue-500/20 outline-none",placeholder:"4.00"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"block text-sm font-bold text-[var(--color-text-secondary)]",children:t==="EN"?"Current Cumulative GPA":" GPA"}),d.jsx("input",{type:"number",value:s,onChange:v=>i(v.target.value),className:"w-full px-4 py-3 rounded-xl bg-[var(--color-surface-secondary)] border-none text-[var(--color-text-primary)] font-mono font-bold focus:ring-2 focus:ring-blue-500/20 outline-none",placeholder:"3.50"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"block text-sm font-bold text-[var(--color-text-secondary)]",children:t==="EN"?"Completed Credits":""}),d.jsx("input",{type:"number",value:o,onChange:v=>a(v.target.value),className:"w-full px-4 py-3 rounded-xl bg-[var(--color-surface-secondary)] border-none text-[var(--color-text-primary)] font-mono font-bold focus:ring-2 focus:ring-blue-500/20 outline-none",placeholder:"60"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"block text-sm font-bold text-[var(--color-text-secondary)]",children:t==="EN"?"Remaining Credits":""}),d.jsx("input",{type:"number",value:l,onChange:v=>u(v.target.value),className:"w-full px-4 py-3 rounded-xl bg-[var(--color-surface-secondary)] border-none text-[var(--color-text-primary)] font-mono font-bold focus:ring-2 focus:ring-blue-500/20 outline-none",placeholder:"15"})]}),d.jsx("button",{onClick:m,className:"w-full py-4 rounded-xl bg-[#1D1D1F] dark:bg-white text-white dark:text-black font-bold text-lg shadow-lg hover:scale-[1.02] active:scale-[0.98] transition-all",children:t==="EN"?"Calculate":""}),h!==null&&d.jsxs("div",{className:"mt-8 p-6 bg-[var(--color-surface-secondary)] rounded-xl text-center animate-fade-in-up",children:[d.jsx("p",{className:"text-sm text-[var(--color-text-tertiary)] mb-2 uppercase tracking-wider font-bold",children:t==="EN"?"You need to average":""}),d.jsx("div",{className:`text-5xl font-black tracking-tight mb-2 ${h>parseFloat(e)?"text-red-500":"text-green-500"}`,children:h.toFixed(2)}),d.jsx("p",{className:"text-sm text-[var(--color-text-secondary)]",children:h>parseFloat(e)?t==="EN"?"Impossible with current scale":"":t==="EN"?"for your remaining credits":""})]})]})]})}function x2({lang:t="EN"}){const e=G0[t]||G0.EN,[n,r]=D.useState("4.3"),[s,i]=D.useState([]),[o,a]=D.useState(""),[l,u]=D.useState(""),[h,f]=D.useState(""),[m,v]=D.useState(""),[I,S]=D.useState("tgpa"),[A,x]=D.useState(!1),y=n==="4.0"?m2:g2,w=n==="4.0"?y2:v2,P=n==="4.0"?4:4.3;D.useEffect(()=>{(async()=>{const z=await i2();if(z){if(z.scale&&r(z.scale),z.courses&&z.courses.length>0)i(z.courses);else{const se=Array.from({length:5}).map((fe,yt)=>({id:Date.now().toString()+yt,name:"",grade:"B",credits:3}));i(se)}z.currentCGPA&&a(z.currentCGPA),z.completedCredits&&u(z.completedCredits),z.targetCGPA&&f(z.targetCGPA),z.nextCredits&&v(z.nextCredits)}else{const se=Array.from({length:5}).map((fe,yt)=>({id:Date.now().toString()+yt,name:"",grade:"B",credits:3}));i(se)}x(!0)})()},[]),D.useEffect(()=>{A&&s2({scale:n,courses:s,currentCGPA:o,completedCredits:l,targetCGPA:h,nextCredits:m})},[n,s,o,l,h,m,A]);const N=D.useMemo(()=>s.reduce((W,z)=>W+(z.credits||0),0),[s]),V=D.useMemo(()=>s.reduce((W,z)=>{const se=w[z.grade];return W+(se!==void 0?se*z.credits:0)},0),[s,w]),T=D.useMemo(()=>N>0?V/N:0,[V,N]),_=D.useMemo(()=>{const W=parseFloat(o),z=parseFloat(l);return!isNaN(W)&&!isNaN(z)&&z+N>0?(W*z+V)/(z+N):null},[o,l,V,N]),b=D.useMemo(()=>{const W=parseFloat(h),z=parseFloat(o),se=parseFloat(l),fe=parseFloat(m)||N;if(!isNaN(W)&&!isNaN(z)&&!isNaN(se)&&fe>0){const yt=W*(se+fe),Ze=z*se;return(yt-Ze)/fe}return null},[h,o,l,m,N]),C=()=>{const W={id:Date.now().toString(),name:"",grade:"B",credits:3};i([...s,W])},R=W=>{const z=Array.from({length:W}).map((se,fe)=>({id:Date.now().toString()+fe,name:"",grade:"B",credits:3}));i([...s,...z])},j=(W,z,se)=>{i(s.map(fe=>fe.id===W?{...fe,[z]:se}:fe))},k=W=>{i(s.filter(z=>z.id!==W))},ke=W=>{const z=s.find(se=>se.id===W);z&&i([...s,{...z,id:Date.now().toString()}])},bt=()=>{if(window.confirm("Are you sure you want to reset all data?")){const W=Array.from({length:5}).map((z,se)=>({id:Date.now().toString()+se,name:"",grade:"B",credits:3}));i(W),a(""),u(""),f(""),v("")}},or=()=>{i([{id:"1",name:"Introduction to CS",grade:"A",credits:3},{id:"2",name:"Calculus I",grade:"B+",credits:3},{id:"3",name:"English Communication",grade:"A-",credits:3},{id:"4",name:"Physics",grade:"B",credits:3}])},ye=D.useMemo(()=>[{key:"name",header:e.courseName,width:"40%",editable:!0,type:"text"},{key:"grade",header:e.grade,width:"20%",align:"center",editable:!0,type:"select",options:y.map(W=>({value:W,label:W})),render:W=>d.jsx(u2,{grade:W})},{key:"credits",header:e.credits,width:"15%",align:"center",editable:!0,type:"number",validate:W=>{const z=parseFloat(W);return isNaN(z)||z<0||z>10?t==="EN"?"0-10 credits":"0-10 ":null}},{key:"gradePoints",header:e.gradePoints,width:"15%",align:"center",render:(W,z)=>!z.grade||w[z.grade]===void 0?d.jsx("span",{className:"text-[#86868B]",children:""}):d.jsx("span",{className:"font-mono text-sm text-[#1D1D1F]",children:(w[z.grade]*z.credits).toFixed(1)})}],[e,y,w,t]),B=({value:W,max:z,size:se=120})=>{const[fe,yt]=D.useState(0);D.useEffect(()=>{const gh=setTimeout(()=>yt(W),100);return()=>clearTimeout(gh)},[W]);const Ze=se/2-10,Mt=2*Math.PI*Ze,co=Math.min(Math.max(fe/z,0),1),ml=Mt-co*Mt;let Ks="#34C759";return W<2?Ks="#FF3B30":W<3?Ks="#FF9500":W<3.7&&(Ks="#007AFF"),d.jsxs("div",{className:"relative flex items-center justify-center",style:{width:se,height:se},children:[d.jsxs("svg",{width:se,height:se,className:"transform -rotate-90",children:[d.jsx("circle",{cx:se/2,cy:se/2,r:Ze,stroke:"currentColor",strokeWidth:"12",fill:"transparent",className:"text-[var(--color-surface-tertiary)]"}),d.jsx("circle",{cx:se/2,cy:se/2,r:Ze,stroke:Ks,strokeWidth:"12",fill:"transparent",strokeDasharray:Mt,strokeDashoffset:ml,strokeLinecap:"round",className:"transition-all duration-1000 ease-out"})]}),d.jsx("div",{className:"absolute flex flex-col items-center",children:d.jsxs("span",{className:"text-sm font-bold text-[var(--color-text-secondary)]",children:[(fe/z*100).toFixed(0),"%"]})})]})},[K,Y]=D.useState(!1);return d.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-10",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-4xl font-bold text-[var(--color-text-primary)] mb-2 tracking-tight",children:e.title}),d.jsx("p",{className:"text-lg text-[var(--color-text-secondary)]",children:e.subtitle})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"flex items-center gap-1 p-1.5 rounded-xl bg-[var(--color-surface-secondary)] border border-[var(--color-border-primary)]",children:[d.jsx("span",{className:"text-xs font-bold text-[var(--color-text-tertiary)] px-2 uppercase tracking-wider",children:e.scale}),d.jsx("button",{onClick:()=>r("4.0"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all ${n==="4.0"?"bg-[var(--color-bg-elevated)] text-[var(--color-text-primary)] shadow-sm":"text-[var(--color-text-tertiary)] hover:text-[var(--color-text-primary)]"}`,children:"4.0"}),d.jsx("button",{onClick:()=>r("4.3"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all ${n==="4.3"?"bg-[var(--color-bg-elevated)] text-[var(--color-text-primary)] shadow-sm":"text-[var(--color-text-tertiary)] hover:text-[var(--color-text-primary)]"}`,children:"4.3"})]}),d.jsx("button",{onClick:bt,className:"p-3 rounded-full text-[var(--color-text-secondary)] hover:bg-[var(--color-surface-secondary)] hover:text-red-500 transition-colors",title:e.reset,children:d.jsx(RN,{size:20})})]})]}),d.jsxs("div",{className:"flex gap-2 mb-8 overflow-x-auto pb-2 no-scrollbar",children:[d.jsx(dd,{active:I==="tgpa",onClick:()=>S("tgpa"),label:e.tab_tgpa,icon:""}),d.jsx(dd,{active:I==="target",onClick:()=>S("target"),label:e.tab_target,icon:""}),d.jsx(dd,{active:I==="prediction",onClick:()=>S("prediction"),label:e.tab_prediction,icon:""})]}),d.jsx("div",{className:"animate-fade-in-up",children:I==="prediction"?d.jsx(p2,{lang:t,scale:n}):I==="target"?d.jsx(_2,{lang:t,scale:n}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"bg-[var(--color-bg-elevated)] rounded-[24px] p-8 mb-6 shadow-sm border border-[var(--color-border-primary)] flex flex-col md:flex-row items-center justify-between gap-8 relative overflow-hidden",children:[d.jsxs("div",{className:"flex-1 z-10",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("div",{className:"text-sm font-bold text-[var(--color-text-tertiary)] uppercase tracking-wider",children:_!==null?t==="EN"?"Cumulative GPA":" CGPA":t==="EN"?"Current GPA":" GPA"}),_!==null&&d.jsx("span",{className:"px-2 py-0.5 rounded-md bg-[var(--color-surface-secondary)] text-[10px] font-bold text-[var(--color-text-secondary)] uppercase",children:"Projected"})]}),d.jsxs("div",{className:"text-7xl font-black tracking-tighter text-[var(--color-text-primary)] mb-4",children:[(_!==null?_:T).toFixed(2),d.jsxs("span",{className:"text-2xl text-[var(--color-text-tertiary)] font-medium ml-2",children:["/ ",n]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"flex items-center gap-2 bg-[var(--color-surface-secondary)] px-3 py-1.5 rounded-lg",children:[d.jsx(vT,{size:14,className:"text-[var(--color-text-quaternary)]"}),d.jsxs("span",{className:"text-xs font-bold text-[var(--color-text-tertiary)] uppercase tracking-wider",children:[e.targetCGPA,":"]}),d.jsx("input",{type:"number",step:"0.01",value:h,onChange:W=>f(W.target.value),placeholder:"4.00",className:"w-12 bg-transparent border-none p-0 text-sm font-bold text-[var(--color-text-primary)] focus:ring-0"})]}),b!==null&&d.jsxs("span",{className:`text-xs font-bold px-2 py-1 rounded-md ${b>P?"bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400":"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400"}`,children:[t==="EN"?"Need":""," ",b.toFixed(2)]})]})]}),d.jsx("div",{className:"flex-shrink-0 z-10",children:d.jsx(B,{value:_!==null?_:T,max:P})})]}),d.jsxs("div",{className:"mb-6",children:[d.jsxs("button",{onClick:()=>Y(!K),className:"flex items-center gap-2 text-sm font-bold text-[var(--color-text-tertiary)] hover:text-[var(--color-text-primary)] transition-colors mb-3",children:[d.jsx(LN,{size:16}),K?t==="EN"?"Hide Previous Semesters":"":t==="EN"?"Add Previous Semesters":""]}),K&&d.jsx("div",{className:"bg-[var(--color-bg-elevated)] rounded-xl p-6 border border-[var(--color-border-primary)] animate-fade-in-down",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-xs font-bold text-[var(--color-text-tertiary)] uppercase tracking-wider mb-2",children:[e.currentCGPA," (Before this sem)"]}),d.jsx("input",{type:"number",step:"0.01",value:o,onChange:W=>a(W.target.value),placeholder:"0.00",className:"w-full px-4 py-3 rounded-xl bg-[var(--color-surface-secondary)] border-none text-[var(--color-text-primary)] placeholder-[var(--color-text-quaternary)] focus:ring-2 focus:ring-[var(--color-primary)]/20 transition-all outline-none font-mono font-bold"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-[var(--color-text-tertiary)] uppercase tracking-wider mb-2",children:e.completedCredits}),d.jsx("input",{type:"number",value:l,onChange:W=>u(W.target.value),placeholder:"0",className:"w-full px-4 py-3 rounded-xl bg-[var(--color-surface-secondary)] border-none text-[var(--color-text-primary)] placeholder-[var(--color-text-quaternary)] focus:ring-2 focus:ring-[var(--color-primary)]/20 transition-all outline-none font-mono font-bold"})]})]})})]}),d.jsx("div",{className:"flex flex-col gap-6",children:d.jsx("div",{className:"space-y-6",children:s.length===0?d.jsx(l2,{title:e.emptyTitle,description:e.emptyDesc,primaryAction:{label:e.addFirst,onClick:()=>R(5)},secondaryAction:{label:e.loadSample,onClick:or}}):d.jsxs(d.Fragment,{children:[d.jsx(c2,{columns:ye,data:s,onUpdate:j,onDelete:k,onDuplicate:ke}),d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsxs("button",{onClick:C,className:"w-full h-14 bg-[#1D1D1F] dark:bg-white text-white dark:text-black rounded-full font-bold text-lg shadow-lg hover:scale-[1.02] active:scale-[0.98] transition-all flex items-center justify-center gap-2",children:[d.jsx(Bf,{size:24}),e.addCourse]}),d.jsxs("button",{onClick:()=>R(5),className:"text-sm font-medium text-[var(--color-text-tertiary)] hover:text-[var(--color-text-primary)] transition-colors py-2",children:["+ ",t==="EN"?"Quick Add 5 Rows":" 5 "]})]})]})})})]})})]})}const w2=()=>{};var H0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},E2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},AT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let m=(a&15)<<2|u>>6,v=u&63;l||(v=64,o||(m=64)),r.push(n[h],n[f],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(IT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):E2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||f==null)throw new T2;const m=i<<2|a>>4;if(r.push(m),u!==64){const v=a<<4&240|u>>2;if(r.push(v),f!==64){const I=u<<6&192|f;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class T2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const S2=function(t){const e=IT(t);return AT.encodeByteArray(e,!0)},ru=function(t){return S2(t).replace(/\./g,"")},bT=function(t){try{return AT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=()=>I2().__FIREBASE_DEFAULTS__,b2=()=>{if(typeof process>"u"||typeof H0>"u")return;const t=H0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},C2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&bT(t[1]);return e&&JSON.parse(e)},Ku=()=>{try{return w2()||A2()||b2()||C2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},CT=t=>{var e,n;return(n=(e=Ku())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},kT=t=>{const e=CT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},PT=()=>{var t;return(t=Ku())==null?void 0:t.config},RT=t=>{var e;return(e=Ku())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Fm(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ru(JSON.stringify(n)),ru(JSON.stringify(o)),""].join(".")}const ra={};function P2(){const t={prod:[],emulator:[]};for(const e of Object.keys(ra))ra[e]?t.emulator.push(e):t.prod.push(e);return t}function R2(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let q0=!1;function Um(t,e){if(typeof window>"u"||typeof document>"u"||!es(window.location.host)||ra[t]===e||ra[t]||q0)return;ra[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=P2().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,v){m.setAttribute("width","24"),m.setAttribute("id",v),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{q0=!0,o()},m}function h(m,v){m.setAttribute("id",v),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=R2(r),v=n("text"),I=document.getElementById(v)||document.createElement("span"),S=n("learnmore"),A=document.getElementById(S)||document.createElement("a"),x=n("preprendIcon"),y=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const w=m.element;a(w),h(A,S);const P=u();l(y,x),w.append(y,I,A,P),document.body.appendChild(w)}i?(I.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function N2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gt())}function D2(){var e;const t=(e=Ku())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function V2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function j2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function M2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function L2(){const t=gt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function O2(){return!D2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function F2(){try{return typeof indexedDB=="object"}catch{return!1}}function U2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2="FirebaseError";class On extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=B2,Object.setPrototypeOf(this,On.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Za.prototype.create)}}class Za{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?$2(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new On(s,a,r)}}function $2(t,e){return t.replace(z2,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const z2=/\{\$([^}]+)}/g;function W2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(K0(i)&&K0(o)){if(!Vs(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function K0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Bo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function $o(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function G2(t,e){const n=new H2(t,e);return n.subscribe.bind(n)}class H2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");q2(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=fd),s.error===void 0&&(s.error=fd),s.complete===void 0&&(s.complete=fd);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function q2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function fd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t){return t&&t._delegate?t._delegate:t}class $r{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new k2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Y2(e))try{this.getOrInitializeService({instanceIdentifier:ds})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ds){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ds){return this.instances.has(e)}getOptions(e=ds){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Q2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ds){return this.component?this.component.multipleInstances?e:ds:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Q2(t){return t===ds?void 0:t}function Y2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new K2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ie||(ie={}));const J2={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},Z2=ie.INFO,eD={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},tD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=eD[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bm{constructor(e){this.name=e,this._logLevel=Z2,this._logHandler=tD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?J2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...e),this._logHandler(this,ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...e),this._logHandler(this,ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...e),this._logHandler(this,ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...e),this._logHandler(this,ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...e),this._logHandler(this,ie.ERROR,...e)}}const nD=(t,e)=>e.some(n=>t instanceof n);let Q0,Y0;function rD(){return Q0||(Q0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sD(){return Y0||(Y0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DT=new WeakMap,qf=new WeakMap,VT=new WeakMap,pd=new WeakMap,$m=new WeakMap;function iD(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Mr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&DT.set(n,t)}).catch(()=>{}),$m.set(e,t),e}function oD(t){if(qf.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});qf.set(t,e)}let Kf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return qf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||VT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function aD(t){Kf=t(Kf)}function lD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(md(this),e,...n);return VT.set(r,e.sort?e.sort():[e]),Mr(r)}:sD().includes(t)?function(...e){return t.apply(md(this),e),Mr(DT.get(this))}:function(...e){return Mr(t.apply(md(this),e))}}function cD(t){return typeof t=="function"?lD(t):(t instanceof IDBTransaction&&oD(t),nD(t,rD())?new Proxy(t,Kf):t)}function Mr(t){if(t instanceof IDBRequest)return iD(t);if(pd.has(t))return pd.get(t);const e=cD(t);return e!==t&&(pd.set(t,e),$m.set(e,t)),e}const md=t=>$m.get(t);function uD(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Mr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Mr(o.result),l.oldVersion,l.newVersion,Mr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const hD=["get","getKey","getAll","getAllKeys","count"],dD=["put","add","delete","clear"],gd=new Map;function X0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gd.get(e))return gd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=dD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||hD.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return gd.set(e,i),i}aD(t=>({...t,get:(e,n,r)=>X0(e,n)||t.get(e,n,r),has:(e,n)=>!!X0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function pD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qf="@firebase/app",J0="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jn=new Bm("@firebase/app"),mD="@firebase/app-compat",gD="@firebase/analytics-compat",yD="@firebase/analytics",vD="@firebase/app-check-compat",_D="@firebase/app-check",xD="@firebase/auth",wD="@firebase/auth-compat",ED="@firebase/database",TD="@firebase/data-connect",SD="@firebase/database-compat",ID="@firebase/functions",AD="@firebase/functions-compat",bD="@firebase/installations",CD="@firebase/installations-compat",kD="@firebase/messaging",PD="@firebase/messaging-compat",RD="@firebase/performance",ND="@firebase/performance-compat",DD="@firebase/remote-config",VD="@firebase/remote-config-compat",jD="@firebase/storage",MD="@firebase/storage-compat",LD="@firebase/firestore",OD="@firebase/ai",FD="@firebase/firestore-compat",UD="firebase",BD="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf="[DEFAULT]",$D={[Qf]:"fire-core",[mD]:"fire-core-compat",[yD]:"fire-analytics",[gD]:"fire-analytics-compat",[_D]:"fire-app-check",[vD]:"fire-app-check-compat",[xD]:"fire-auth",[wD]:"fire-auth-compat",[ED]:"fire-rtdb",[TD]:"fire-data-connect",[SD]:"fire-rtdb-compat",[ID]:"fire-fn",[AD]:"fire-fn-compat",[bD]:"fire-iid",[CD]:"fire-iid-compat",[kD]:"fire-fcm",[PD]:"fire-fcm-compat",[RD]:"fire-perf",[ND]:"fire-perf-compat",[DD]:"fire-rc",[VD]:"fire-rc-compat",[jD]:"fire-gcs",[MD]:"fire-gcs-compat",[LD]:"fire-fst",[FD]:"fire-fst-compat",[OD]:"fire-vertex","fire-js":"fire-js",[UD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=new Map,zD=new Map,Xf=new Map;function Z0(t,e){try{t.container.addComponent(e)}catch(n){Jn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function js(t){const e=t.name;if(Xf.has(e))return Jn.debug(`There were multiple attempts to register component ${e}.`),!1;Xf.set(e,t);for(const n of su.values())Z0(n,t);for(const n of zD.values())Z0(n,t);return!0}function Qu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Et(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Lr=new Za("app","Firebase",WD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $r("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=BD;function jT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Yf,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Lr.create("bad-app-name",{appName:String(s)});if(n||(n=PT()),!n)throw Lr.create("no-options");const i=su.get(s);if(i){if(Vs(n,i.options)&&Vs(r,i.config))return i;throw Lr.create("duplicate-app",{appName:s})}const o=new X2(s);for(const l of Xf.values())o.addComponent(l);const a=new GD(n,r,o);return su.set(s,a),a}function zm(t=Yf){const e=su.get(t);if(!e&&t===Yf&&PT())return jT();if(!e)throw Lr.create("no-app",{appName:t});return e}function bn(t,e,n){let r=$D[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Jn.warn(o.join(" "));return}js(new $r(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD="firebase-heartbeat-database",qD=1,Ra="firebase-heartbeat-store";let yd=null;function MT(){return yd||(yd=uD(HD,qD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ra)}catch(n){console.warn(n)}}}}).catch(t=>{throw Lr.create("idb-open",{originalErrorMessage:t.message})})),yd}async function KD(t){try{const n=(await MT()).transaction(Ra),r=await n.objectStore(Ra).get(LT(t));return await n.done,r}catch(e){if(e instanceof On)Jn.warn(e.message);else{const n=Lr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Jn.warn(n.message)}}}async function e_(t,e){try{const r=(await MT()).transaction(Ra,"readwrite");await r.objectStore(Ra).put(e,LT(t)),await r.done}catch(n){if(n instanceof On)Jn.warn(n.message);else{const r=Lr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Jn.warn(r.message)}}}function LT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=1024,YD=30;class XD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ZD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=t_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>YD){const o=eV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Jn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=t_(),{heartbeatsToSend:r,unsentEntries:s}=JD(this._heartbeatsCache.heartbeats),i=ru(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Jn.warn(n),""}}}function t_(){return new Date().toISOString().substring(0,10)}function JD(t,e=QD){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),n_(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),n_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ZD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return F2()?U2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await KD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return e_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return e_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function n_(t){return ru(JSON.stringify({version:2,heartbeats:t})).length}function eV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(t){js(new $r("platform-logger",e=>new fD(e),"PRIVATE")),js(new $r("heartbeat",e=>new XD(e),"PRIVATE")),bn(Qf,J0,t),bn(Qf,J0,"esm2020"),bn("fire-js","")}tV("");var r_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Or,OT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,_){function b(){}b.prototype=_.prototype,T.F=_.prototype,T.prototype=new b,T.prototype.constructor=T,T.D=function(C,R,j){for(var k=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)k[ke-2]=arguments[ke];return _.prototype[R].apply(C,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,_,b){b||(b=0);const C=Array(16);if(typeof _=="string")for(var R=0;R<16;++R)C[R]=_.charCodeAt(b++)|_.charCodeAt(b++)<<8|_.charCodeAt(b++)<<16|_.charCodeAt(b++)<<24;else for(R=0;R<16;++R)C[R]=_[b++]|_[b++]<<8|_[b++]<<16|_[b++]<<24;_=T.g[0],b=T.g[1],R=T.g[2];let j=T.g[3],k;k=_+(j^b&(R^j))+C[0]+3614090360&4294967295,_=b+(k<<7&4294967295|k>>>25),k=j+(R^_&(b^R))+C[1]+3905402710&4294967295,j=_+(k<<12&4294967295|k>>>20),k=R+(b^j&(_^b))+C[2]+606105819&4294967295,R=j+(k<<17&4294967295|k>>>15),k=b+(_^R&(j^_))+C[3]+3250441966&4294967295,b=R+(k<<22&4294967295|k>>>10),k=_+(j^b&(R^j))+C[4]+4118548399&4294967295,_=b+(k<<7&4294967295|k>>>25),k=j+(R^_&(b^R))+C[5]+1200080426&4294967295,j=_+(k<<12&4294967295|k>>>20),k=R+(b^j&(_^b))+C[6]+2821735955&4294967295,R=j+(k<<17&4294967295|k>>>15),k=b+(_^R&(j^_))+C[7]+4249261313&4294967295,b=R+(k<<22&4294967295|k>>>10),k=_+(j^b&(R^j))+C[8]+1770035416&4294967295,_=b+(k<<7&4294967295|k>>>25),k=j+(R^_&(b^R))+C[9]+2336552879&4294967295,j=_+(k<<12&4294967295|k>>>20),k=R+(b^j&(_^b))+C[10]+4294925233&4294967295,R=j+(k<<17&4294967295|k>>>15),k=b+(_^R&(j^_))+C[11]+2304563134&4294967295,b=R+(k<<22&4294967295|k>>>10),k=_+(j^b&(R^j))+C[12]+1804603682&4294967295,_=b+(k<<7&4294967295|k>>>25),k=j+(R^_&(b^R))+C[13]+4254626195&4294967295,j=_+(k<<12&4294967295|k>>>20),k=R+(b^j&(_^b))+C[14]+2792965006&4294967295,R=j+(k<<17&4294967295|k>>>15),k=b+(_^R&(j^_))+C[15]+1236535329&4294967295,b=R+(k<<22&4294967295|k>>>10),k=_+(R^j&(b^R))+C[1]+4129170786&4294967295,_=b+(k<<5&4294967295|k>>>27),k=j+(b^R&(_^b))+C[6]+3225465664&4294967295,j=_+(k<<9&4294967295|k>>>23),k=R+(_^b&(j^_))+C[11]+643717713&4294967295,R=j+(k<<14&4294967295|k>>>18),k=b+(j^_&(R^j))+C[0]+3921069994&4294967295,b=R+(k<<20&4294967295|k>>>12),k=_+(R^j&(b^R))+C[5]+3593408605&4294967295,_=b+(k<<5&4294967295|k>>>27),k=j+(b^R&(_^b))+C[10]+38016083&4294967295,j=_+(k<<9&4294967295|k>>>23),k=R+(_^b&(j^_))+C[15]+3634488961&4294967295,R=j+(k<<14&4294967295|k>>>18),k=b+(j^_&(R^j))+C[4]+3889429448&4294967295,b=R+(k<<20&4294967295|k>>>12),k=_+(R^j&(b^R))+C[9]+568446438&4294967295,_=b+(k<<5&4294967295|k>>>27),k=j+(b^R&(_^b))+C[14]+3275163606&4294967295,j=_+(k<<9&4294967295|k>>>23),k=R+(_^b&(j^_))+C[3]+4107603335&4294967295,R=j+(k<<14&4294967295|k>>>18),k=b+(j^_&(R^j))+C[8]+1163531501&4294967295,b=R+(k<<20&4294967295|k>>>12),k=_+(R^j&(b^R))+C[13]+2850285829&4294967295,_=b+(k<<5&4294967295|k>>>27),k=j+(b^R&(_^b))+C[2]+4243563512&4294967295,j=_+(k<<9&4294967295|k>>>23),k=R+(_^b&(j^_))+C[7]+1735328473&4294967295,R=j+(k<<14&4294967295|k>>>18),k=b+(j^_&(R^j))+C[12]+2368359562&4294967295,b=R+(k<<20&4294967295|k>>>12),k=_+(b^R^j)+C[5]+4294588738&4294967295,_=b+(k<<4&4294967295|k>>>28),k=j+(_^b^R)+C[8]+2272392833&4294967295,j=_+(k<<11&4294967295|k>>>21),k=R+(j^_^b)+C[11]+1839030562&4294967295,R=j+(k<<16&4294967295|k>>>16),k=b+(R^j^_)+C[14]+4259657740&4294967295,b=R+(k<<23&4294967295|k>>>9),k=_+(b^R^j)+C[1]+2763975236&4294967295,_=b+(k<<4&4294967295|k>>>28),k=j+(_^b^R)+C[4]+1272893353&4294967295,j=_+(k<<11&4294967295|k>>>21),k=R+(j^_^b)+C[7]+4139469664&4294967295,R=j+(k<<16&4294967295|k>>>16),k=b+(R^j^_)+C[10]+3200236656&4294967295,b=R+(k<<23&4294967295|k>>>9),k=_+(b^R^j)+C[13]+681279174&4294967295,_=b+(k<<4&4294967295|k>>>28),k=j+(_^b^R)+C[0]+3936430074&4294967295,j=_+(k<<11&4294967295|k>>>21),k=R+(j^_^b)+C[3]+3572445317&4294967295,R=j+(k<<16&4294967295|k>>>16),k=b+(R^j^_)+C[6]+76029189&4294967295,b=R+(k<<23&4294967295|k>>>9),k=_+(b^R^j)+C[9]+3654602809&4294967295,_=b+(k<<4&4294967295|k>>>28),k=j+(_^b^R)+C[12]+3873151461&4294967295,j=_+(k<<11&4294967295|k>>>21),k=R+(j^_^b)+C[15]+530742520&4294967295,R=j+(k<<16&4294967295|k>>>16),k=b+(R^j^_)+C[2]+3299628645&4294967295,b=R+(k<<23&4294967295|k>>>9),k=_+(R^(b|~j))+C[0]+4096336452&4294967295,_=b+(k<<6&4294967295|k>>>26),k=j+(b^(_|~R))+C[7]+1126891415&4294967295,j=_+(k<<10&4294967295|k>>>22),k=R+(_^(j|~b))+C[14]+2878612391&4294967295,R=j+(k<<15&4294967295|k>>>17),k=b+(j^(R|~_))+C[5]+4237533241&4294967295,b=R+(k<<21&4294967295|k>>>11),k=_+(R^(b|~j))+C[12]+1700485571&4294967295,_=b+(k<<6&4294967295|k>>>26),k=j+(b^(_|~R))+C[3]+2399980690&4294967295,j=_+(k<<10&4294967295|k>>>22),k=R+(_^(j|~b))+C[10]+4293915773&4294967295,R=j+(k<<15&4294967295|k>>>17),k=b+(j^(R|~_))+C[1]+2240044497&4294967295,b=R+(k<<21&4294967295|k>>>11),k=_+(R^(b|~j))+C[8]+1873313359&4294967295,_=b+(k<<6&4294967295|k>>>26),k=j+(b^(_|~R))+C[15]+4264355552&4294967295,j=_+(k<<10&4294967295|k>>>22),k=R+(_^(j|~b))+C[6]+2734768916&4294967295,R=j+(k<<15&4294967295|k>>>17),k=b+(j^(R|~_))+C[13]+1309151649&4294967295,b=R+(k<<21&4294967295|k>>>11),k=_+(R^(b|~j))+C[4]+4149444226&4294967295,_=b+(k<<6&4294967295|k>>>26),k=j+(b^(_|~R))+C[11]+3174756917&4294967295,j=_+(k<<10&4294967295|k>>>22),k=R+(_^(j|~b))+C[2]+718787259&4294967295,R=j+(k<<15&4294967295|k>>>17),k=b+(j^(R|~_))+C[9]+3951481745&4294967295,T.g[0]=T.g[0]+_&4294967295,T.g[1]=T.g[1]+(R+(k<<21&4294967295|k>>>11))&4294967295,T.g[2]=T.g[2]+R&4294967295,T.g[3]=T.g[3]+j&4294967295}r.prototype.v=function(T,_){_===void 0&&(_=T.length);const b=_-this.blockSize,C=this.C;let R=this.h,j=0;for(;j<_;){if(R==0)for(;j<=b;)s(this,T,j),j+=this.blockSize;if(typeof T=="string"){for(;j<_;)if(C[R++]=T.charCodeAt(j++),R==this.blockSize){s(this,C),R=0;break}}else for(;j<_;)if(C[R++]=T[j++],R==this.blockSize){s(this,C),R=0;break}}this.h=R,this.o+=_},r.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var _=1;_<T.length-8;++_)T[_]=0;_=this.o*8;for(var b=T.length-8;b<T.length;++b)T[b]=_&255,_/=256;for(this.v(T),T=Array(16),_=0,b=0;b<4;++b)for(let C=0;C<32;C+=8)T[_++]=this.g[b]>>>C&255;return T};function i(T,_){var b=a;return Object.prototype.hasOwnProperty.call(b,T)?b[T]:b[T]=_(T)}function o(T,_){this.h=_;const b=[];let C=!0;for(let R=T.length-1;R>=0;R--){const j=T[R]|0;C&&j==_||(b[R]=j,C=!1)}this.g=b}var a={};function l(T){return-128<=T&&T<128?i(T,function(_){return new o([_|0],_<0?-1:0)}):new o([T|0],T<0?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return f;if(T<0)return A(u(-T));const _=[];let b=1;for(let C=0;T>=b;C++)_[C]=T/b|0,b*=4294967296;return new o(_,0)}function h(T,_){if(T.length==0)throw Error("number format error: empty string");if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(T.charAt(0)=="-")return A(h(T.substring(1),_));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=u(Math.pow(_,8));let C=f;for(let j=0;j<T.length;j+=8){var R=Math.min(8,T.length-j);const k=parseInt(T.substring(j,j+R),_);R<8?(R=u(Math.pow(_,R)),C=C.j(R).add(u(k))):(C=C.j(b),C=C.add(u(k)))}return C}var f=l(0),m=l(1),v=l(16777216);t=o.prototype,t.m=function(){if(S(this))return-A(this).m();let T=0,_=1;for(let b=0;b<this.g.length;b++){const C=this.i(b);T+=(C>=0?C:4294967296+C)*_,_*=4294967296}return T},t.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(I(this))return"0";if(S(this))return"-"+A(this).toString(T);const _=u(Math.pow(T,6));var b=this;let C="";for(;;){const R=P(b,_).g;b=x(b,R.j(_));let j=((b.g.length>0?b.g[0]:b.h)>>>0).toString(T);if(b=R,I(b))return j+C;for(;j.length<6;)j="0"+j;C=j+C}},t.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function I(T){if(T.h!=0)return!1;for(let _=0;_<T.g.length;_++)if(T.g[_]!=0)return!1;return!0}function S(T){return T.h==-1}t.l=function(T){return T=x(this,T),S(T)?-1:I(T)?0:1};function A(T){const _=T.g.length,b=[];for(let C=0;C<_;C++)b[C]=~T.g[C];return new o(b,~T.h).add(m)}t.abs=function(){return S(this)?A(this):this},t.add=function(T){const _=Math.max(this.g.length,T.g.length),b=[];let C=0;for(let R=0;R<=_;R++){let j=C+(this.i(R)&65535)+(T.i(R)&65535),k=(j>>>16)+(this.i(R)>>>16)+(T.i(R)>>>16);C=k>>>16,j&=65535,k&=65535,b[R]=k<<16|j}return new o(b,b[b.length-1]&-2147483648?-1:0)};function x(T,_){return T.add(A(_))}t.j=function(T){if(I(this)||I(T))return f;if(S(this))return S(T)?A(this).j(A(T)):A(A(this).j(T));if(S(T))return A(this.j(A(T)));if(this.l(v)<0&&T.l(v)<0)return u(this.m()*T.m());const _=this.g.length+T.g.length,b=[];for(var C=0;C<2*_;C++)b[C]=0;for(C=0;C<this.g.length;C++)for(let R=0;R<T.g.length;R++){const j=this.i(C)>>>16,k=this.i(C)&65535,ke=T.i(R)>>>16,bt=T.i(R)&65535;b[2*C+2*R]+=k*bt,y(b,2*C+2*R),b[2*C+2*R+1]+=j*bt,y(b,2*C+2*R+1),b[2*C+2*R+1]+=k*ke,y(b,2*C+2*R+1),b[2*C+2*R+2]+=j*ke,y(b,2*C+2*R+2)}for(T=0;T<_;T++)b[T]=b[2*T+1]<<16|b[2*T];for(T=_;T<2*_;T++)b[T]=0;return new o(b,0)};function y(T,_){for(;(T[_]&65535)!=T[_];)T[_+1]+=T[_]>>>16,T[_]&=65535,_++}function w(T,_){this.g=T,this.h=_}function P(T,_){if(I(_))throw Error("division by zero");if(I(T))return new w(f,f);if(S(T))return _=P(A(T),_),new w(A(_.g),A(_.h));if(S(_))return _=P(T,A(_)),new w(A(_.g),_.h);if(T.g.length>30){if(S(T)||S(_))throw Error("slowDivide_ only works with positive integers.");for(var b=m,C=_;C.l(T)<=0;)b=N(b),C=N(C);var R=V(b,1),j=V(C,1);for(C=V(C,2),b=V(b,2);!I(C);){var k=j.add(C);k.l(T)<=0&&(R=R.add(b),j=k),C=V(C,1),b=V(b,1)}return _=x(T,R.j(_)),new w(R,_)}for(R=f;T.l(_)>=0;){for(b=Math.max(1,Math.floor(T.m()/_.m())),C=Math.ceil(Math.log(b)/Math.LN2),C=C<=48?1:Math.pow(2,C-48),j=u(b),k=j.j(_);S(k)||k.l(T)>0;)b-=C,j=u(b),k=j.j(_);I(j)&&(j=m),R=R.add(j),T=x(T,k)}return new w(R,T)}t.B=function(T){return P(this,T).h},t.and=function(T){const _=Math.max(this.g.length,T.g.length),b=[];for(let C=0;C<_;C++)b[C]=this.i(C)&T.i(C);return new o(b,this.h&T.h)},t.or=function(T){const _=Math.max(this.g.length,T.g.length),b=[];for(let C=0;C<_;C++)b[C]=this.i(C)|T.i(C);return new o(b,this.h|T.h)},t.xor=function(T){const _=Math.max(this.g.length,T.g.length),b=[];for(let C=0;C<_;C++)b[C]=this.i(C)^T.i(C);return new o(b,this.h^T.h)};function N(T){const _=T.g.length+1,b=[];for(let C=0;C<_;C++)b[C]=T.i(C)<<1|T.i(C-1)>>>31;return new o(b,T.h)}function V(T,_){const b=_>>5;_%=32;const C=T.g.length-b,R=[];for(let j=0;j<C;j++)R[j]=_>0?T.i(j+b)>>>_|T.i(j+b+1)<<32-_:T.i(j+b);return new o(R,T.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,OT=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,Or=o}).apply(typeof r_<"u"?r_:typeof self<"u"?self:typeof window<"u"?window:{});var Gl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var FT,zo,UT,mc,Jf,BT,$T,zT;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gl=="object"&&Gl];for(var p=0;p<c.length;++p){var g=c[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(c,p){if(p)e:{var g=r;c=c.split(".");for(var E=0;E<c.length-1;E++){var M=c[E];if(!(M in g))break e;g=g[M]}c=c[c.length-1],E=g[c],p=p(E),p!=E&&p!=null&&e(g,c,{configurable:!0,writable:!0,value:p})}}s("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(c){return c||function(p){var g=[],E;for(E in p)Object.prototype.hasOwnProperty.call(p,E)&&g.push([E,p[E]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function l(c,p,g){return c.call.apply(c.bind,arguments)}function u(c,p,g){return u=l,u.apply(null,arguments)}function h(c,p){var g=Array.prototype.slice.call(arguments,1);return function(){var E=g.slice();return E.push.apply(E,arguments),c.apply(this,E)}}function f(c,p){function g(){}g.prototype=p.prototype,c.Z=p.prototype,c.prototype=new g,c.prototype.constructor=c,c.Ob=function(E,M,L){for(var $=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)$[ne-2]=arguments[ne];return p.prototype[M].apply(E,$)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function v(c){const p=c.length;if(p>0){const g=Array(p);for(let E=0;E<p;E++)g[E]=c[E];return g}return[]}function I(c,p){for(let E=1;E<arguments.length;E++){const M=arguments[E];var g=typeof M;if(g=g!="object"?g:M?Array.isArray(M)?"array":g:"null",g=="array"||g=="object"&&typeof M.length=="number"){g=c.length||0;const L=M.length||0;c.length=g+L;for(let $=0;$<L;$++)c[g+$]=M[$]}else c.push(M)}}class S{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function A(c){o.setTimeout(()=>{throw c},0)}function x(){var c=T;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class y{constructor(){this.h=this.g=null}add(p,g){const E=w.get();E.set(p,g),this.h?this.h.next=E:this.g=E,this.h=E}}var w=new S(()=>new P,c=>c.reset());class P{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let N,V=!1,T=new y,_=()=>{const c=Promise.resolve(void 0);N=()=>{c.then(b)}};function b(){for(var c;c=x();){try{c.h.call(c.g)}catch(g){A(g)}var p=w;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}V=!1}function C(){this.u=this.u,this.C=this.C}C.prototype.u=!1,C.prototype.dispose=function(){this.u||(this.u=!0,this.N())},C.prototype[Symbol.dispose]=function(){this.dispose()},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var j=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const g=()=>{};o.addEventListener("test",g,p),o.removeEventListener("test",g,p)}catch{}return c}();function k(c){return/^[\s\xa0]*$/.test(c)}function ke(c,p){R.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}f(ke,R),ke.prototype.init=function(c,p){const g=this.type=c.type,E=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(g=="mouseover"?p=c.fromElement:g=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ke.Z.h.call(this)},ke.prototype.h=function(){ke.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var bt="closure_listenable_"+(Math.random()*1e6|0),or=0;function ye(c,p,g,E,M){this.listener=c,this.proxy=null,this.src=p,this.type=g,this.capture=!!E,this.ha=M,this.key=++or,this.da=this.fa=!1}function B(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function K(c,p,g){for(const E in c)p.call(g,c[E],E,c)}function Y(c,p){for(const g in c)p.call(void 0,c[g],g,c)}function W(c){const p={};for(const g in c)p[g]=c[g];return p}const z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(c,p){let g,E;for(let M=1;M<arguments.length;M++){E=arguments[M];for(g in E)c[g]=E[g];for(let L=0;L<z.length;L++)g=z[L],Object.prototype.hasOwnProperty.call(E,g)&&(c[g]=E[g])}}function fe(c){this.src=c,this.g={},this.h=0}fe.prototype.add=function(c,p,g,E,M){const L=c.toString();c=this.g[L],c||(c=this.g[L]=[],this.h++);const $=Ze(c,p,E,M);return $>-1?(p=c[$],g||(p.fa=!1)):(p=new ye(p,this.src,L,!!E,M),p.fa=g,c.push(p)),p};function yt(c,p){const g=p.type;if(g in c.g){var E=c.g[g],M=Array.prototype.indexOf.call(E,p,void 0),L;(L=M>=0)&&Array.prototype.splice.call(E,M,1),L&&(B(p),c.g[g].length==0&&(delete c.g[g],c.h--))}}function Ze(c,p,g,E){for(let M=0;M<c.length;++M){const L=c[M];if(!L.da&&L.listener==p&&L.capture==!!g&&L.ha==E)return M}return-1}var Mt="closure_lm_"+(Math.random()*1e6|0),co={};function ml(c,p,g,E,M){if(Array.isArray(p)){for(let L=0;L<p.length;L++)ml(c,p[L],g,E,M);return null}return g=Ty(g),c&&c[bt]?c.J(p,g,a(E)?!!E.capture:!1,M):Ks(c,p,g,!1,E,M)}function Ks(c,p,g,E,M,L){if(!p)throw Error("Invalid event type");const $=a(M)?!!M.capture:!!M;let ne=vh(c);if(ne||(c[Mt]=ne=new fe(c)),g=ne.add(p,g,E,$,L),g.proxy)return g;if(E=gh(),g.proxy=E,E.src=c,E.listener=g,c.addEventListener)j||(M=$),M===void 0&&(M=!1),c.addEventListener(p.toString(),E,M);else if(c.attachEvent)c.attachEvent(Ey(p.toString()),E);else if(c.addListener&&c.removeListener)c.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return g}function gh(){function c(g){return p.call(c.src,c.listener,g)}const p=Qb;return c}function wy(c,p,g,E,M){if(Array.isArray(p))for(var L=0;L<p.length;L++)wy(c,p[L],g,E,M);else E=a(E)?!!E.capture:!!E,g=Ty(g),c&&c[bt]?(c=c.i,L=String(p).toString(),L in c.g&&(p=c.g[L],g=Ze(p,g,E,M),g>-1&&(B(p[g]),Array.prototype.splice.call(p,g,1),p.length==0&&(delete c.g[L],c.h--)))):c&&(c=vh(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Ze(p,g,E,M)),(g=c>-1?p[c]:null)&&yh(g))}function yh(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[bt])yt(p.i,c);else{var g=c.type,E=c.proxy;p.removeEventListener?p.removeEventListener(g,E,c.capture):p.detachEvent?p.detachEvent(Ey(g),E):p.addListener&&p.removeListener&&p.removeListener(E),(g=vh(p))?(yt(g,c),g.h==0&&(g.src=null,p[Mt]=null)):B(c)}}}function Ey(c){return c in co?co[c]:co[c]="on"+c}function Qb(c,p){if(c.da)c=!0;else{p=new ke(p,this);const g=c.listener,E=c.ha||c.src;c.fa&&yh(c),c=g.call(E,p)}return c}function vh(c){return c=c[Mt],c instanceof fe?c:null}var _h="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ty(c){return typeof c=="function"?c:(c[_h]||(c[_h]=function(p){return c.handleEvent(p)}),c[_h])}function at(){C.call(this),this.i=new fe(this),this.M=this,this.G=null}f(at,C),at.prototype[bt]=!0,at.prototype.removeEventListener=function(c,p,g,E){wy(this,c,p,g,E)};function vt(c,p){var g,E=c.G;if(E)for(g=[];E;E=E.G)g.push(E);if(c=c.M,E=p.type||p,typeof p=="string")p=new R(p,c);else if(p instanceof R)p.target=p.target||c;else{var M=p;p=new R(E,c),se(p,M)}M=!0;let L,$;if(g)for($=g.length-1;$>=0;$--)L=p.g=g[$],M=gl(L,E,!0,p)&&M;if(L=p.g=c,M=gl(L,E,!0,p)&&M,M=gl(L,E,!1,p)&&M,g)for($=0;$<g.length;$++)L=p.g=g[$],M=gl(L,E,!1,p)&&M}at.prototype.N=function(){if(at.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const g=c.g[p];for(let E=0;E<g.length;E++)B(g[E]);delete c.g[p],c.h--}}this.G=null},at.prototype.J=function(c,p,g,E){return this.i.add(String(c),p,!1,g,E)},at.prototype.K=function(c,p,g,E){return this.i.add(String(c),p,!0,g,E)};function gl(c,p,g,E){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let M=!0;for(let L=0;L<p.length;++L){const $=p[L];if($&&!$.da&&$.capture==g){const ne=$.listener,ze=$.ha||$.src;$.fa&&yt(c.i,$),M=ne.call(ze,E)!==!1&&M}}return M&&!E.defaultPrevented}function Yb(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=u(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:o.setTimeout(c,p||0)}function Sy(c){c.g=Yb(()=>{c.g=null,c.i&&(c.i=!1,Sy(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Xb extends C{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Sy(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function uo(c){C.call(this),this.h=c,this.g={}}f(uo,C);var Iy=[];function Ay(c){K(c.g,function(p,g){this.g.hasOwnProperty(g)&&yh(p)},c),c.g={}}uo.prototype.N=function(){uo.Z.N.call(this),Ay(this)},uo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xh=o.JSON.stringify,Jb=o.JSON.parse,Zb=class{stringify(c){return o.JSON.stringify(c,void 0)}parse(c){return o.JSON.parse(c,void 0)}};function by(){}function Cy(){}var ho={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function wh(){R.call(this,"d")}f(wh,R);function Eh(){R.call(this,"c")}f(Eh,R);var ss={},ky=null;function yl(){return ky=ky||new at}ss.Ia="serverreachability";function Py(c){R.call(this,ss.Ia,c)}f(Py,R);function fo(c){const p=yl();vt(p,new Py(p))}ss.STAT_EVENT="statevent";function Ry(c,p){R.call(this,ss.STAT_EVENT,c),this.stat=p}f(Ry,R);function _t(c){const p=yl();vt(p,new Ry(p,c))}ss.Ja="timingevent";function Ny(c,p){R.call(this,ss.Ja,c),this.size=p}f(Ny,R);function po(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){c()},p)}function mo(){this.g=!0}mo.prototype.ua=function(){this.g=!1};function eC(c,p,g,E,M,L){c.info(function(){if(c.g)if(L){var $="",ne=L.split("&");for(let pe=0;pe<ne.length;pe++){var ze=ne[pe].split("=");if(ze.length>1){const Qe=ze[0];ze=ze[1];const _n=Qe.split("_");$=_n.length>=2&&_n[1]=="type"?$+(Qe+"="+ze+"&"):$+(Qe+"=redacted&")}}}else $=null;else $=L;return"XMLHTTP REQ ("+E+") [attempt "+M+"]: "+p+`
`+g+`
`+$})}function tC(c,p,g,E,M,L,$){c.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+M+"]: "+p+`
`+g+`
`+L+" "+$})}function Qs(c,p,g,E){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+rC(c,g)+(E?" "+E:"")})}function nC(c,p){c.info(function(){return"TIMEOUT: "+p})}mo.prototype.info=function(){};function rC(c,p){if(!c.g)return p;if(!p)return null;try{const L=JSON.parse(p);if(L){for(c=0;c<L.length;c++)if(Array.isArray(L[c])){var g=L[c];if(!(g.length<2)){var E=g[1];if(Array.isArray(E)&&!(E.length<1)){var M=E[0];if(M!="noop"&&M!="stop"&&M!="close")for(let $=1;$<E.length;$++)E[$]=""}}}}return xh(L)}catch{return p}}var vl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Dy={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Vy;function Th(){}f(Th,by),Th.prototype.g=function(){return new XMLHttpRequest},Vy=new Th;function go(c){return encodeURIComponent(String(c))}function sC(c){var p=1;c=c.split(":");const g=[];for(;p>0&&c.length;)g.push(c.shift()),p--;return c.length&&g.push(c.join(":")),g}function ar(c,p,g,E){this.j=c,this.i=p,this.l=g,this.S=E||1,this.V=new uo(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new jy}function jy(){this.i=null,this.g="",this.h=!1}var My={},Sh={};function Ih(c,p,g){c.M=1,c.A=xl(vn(p)),c.u=g,c.R=!0,Ly(c,null)}function Ly(c,p){c.F=Date.now(),_l(c),c.B=vn(c.A);var g=c.B,E=c.S;Array.isArray(E)||(E=[String(E)]),Yy(g.i,"t",E),c.C=0,g=c.j.L,c.h=new jy,c.g=pv(c.j,g?p:null,!c.u),c.P>0&&(c.O=new Xb(u(c.Y,c,c.g),c.P)),p=c.V,g=c.g,E=c.ba;var M="readystatechange";Array.isArray(M)||(M&&(Iy[0]=M.toString()),M=Iy);for(let L=0;L<M.length;L++){const $=ml(g,M[L],E||p.handleEvent,!1,p.h||p);if(!$)break;p.g[$.key]=$}p=c.J?W(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),fo(),eC(c.i,c.v,c.B,c.l,c.S,c.u)}ar.prototype.ba=function(c){c=c.target;const p=this.O;p&&ur(c)==3?p.j():this.Y(c)},ar.prototype.Y=function(c){try{if(c==this.g)e:{const ne=ur(this.g),ze=this.g.ya(),pe=this.g.ca();if(!(ne<3)&&(ne!=3||this.g&&(this.h.h||this.g.la()||rv(this.g)))){this.K||ne!=4||ze==7||(ze==8||pe<=0?fo(3):fo(2)),Ah(this);var p=this.g.ca();this.X=p;var g=iC(this);if(this.o=p==200,tC(this.i,this.v,this.B,this.l,this.S,ne,p),this.o){if(this.U&&!this.L){t:{if(this.g){var E,M=this.g;if((E=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(E)){var L=E;break t}}L=null}if(c=L)Qs(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,bh(this,c);else{this.o=!1,this.m=3,_t(12),is(this),yo(this);break e}}if(this.R){c=!0;let Qe;for(;!this.K&&this.C<g.length;)if(Qe=oC(this,g),Qe==Sh){ne==4&&(this.m=4,_t(14),c=!1),Qs(this.i,this.l,null,"[Incomplete Response]");break}else if(Qe==My){this.m=4,_t(15),Qs(this.i,this.l,g,"[Invalid Chunk]"),c=!1;break}else Qs(this.i,this.l,Qe,null),bh(this,Qe);if(Oy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ne!=4||g.length!=0||this.h.h||(this.m=1,_t(16),c=!1),this.o=this.o&&c,!c)Qs(this.i,this.l,g,"[Invalid Chunked Response]"),is(this),yo(this);else if(g.length>0&&!this.W){this.W=!0;var $=this.j;$.g==this&&$.aa&&!$.P&&($.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),jh($),$.P=!0,_t(11))}}else Qs(this.i,this.l,g,null),bh(this,g);ne==4&&is(this),this.o&&!this.K&&(ne==4?uv(this.j,this):(this.o=!1,_l(this)))}else xC(this.g),p==400&&g.indexOf("Unknown SID")>0?(this.m=3,_t(12)):(this.m=0,_t(13)),is(this),yo(this)}}}catch{}finally{}};function iC(c){if(!Oy(c))return c.g.la();const p=rv(c.g);if(p==="")return"";let g="";const E=p.length,M=ur(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return is(c),yo(c),"";c.h.i=new o.TextDecoder}for(let L=0;L<E;L++)c.h.h=!0,g+=c.h.i.decode(p[L],{stream:!(M&&L==E-1)});return p.length=0,c.h.g+=g,c.C=0,c.h.g}function Oy(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function oC(c,p){var g=c.C,E=p.indexOf(`
`,g);return E==-1?Sh:(g=Number(p.substring(g,E)),isNaN(g)?My:(E+=1,E+g>p.length?Sh:(p=p.slice(E,E+g),c.C=E+g,p)))}ar.prototype.cancel=function(){this.K=!0,is(this)};function _l(c){c.T=Date.now()+c.H,Fy(c,c.H)}function Fy(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=po(u(c.aa,c),p)}function Ah(c){c.D&&(o.clearTimeout(c.D),c.D=null)}ar.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(nC(this.i,this.B),this.M!=2&&(fo(),_t(17)),is(this),this.m=2,yo(this)):Fy(this,this.T-c)};function yo(c){c.j.I==0||c.K||uv(c.j,c)}function is(c){Ah(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,Ay(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function bh(c,p){try{var g=c.j;if(g.I!=0&&(g.g==c||Ch(g.h,c))){if(!c.L&&Ch(g.h,c)&&g.I==3){try{var E=g.Ba.g.parse(p)}catch{E=null}if(Array.isArray(E)&&E.length==3){var M=E;if(M[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<c.F)Il(g),Tl(g);else break e;Vh(g),_t(18)}}else g.xa=M[1],0<g.xa-g.K&&M[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=po(u(g.Va,g),6e3));$y(g.h)<=1&&g.ta&&(g.ta=void 0)}else as(g,11)}else if((c.L||g.g==c)&&Il(g),!k(p))for(M=g.Ba.g.parse(p),p=0;p<M.length;p++){let pe=M[p];const Qe=pe[0];if(!(Qe<=g.K))if(g.K=Qe,pe=pe[1],g.I==2)if(pe[0]=="c"){g.M=pe[1],g.ba=pe[2];const _n=pe[3];_n!=null&&(g.ka=_n,g.j.info("VER="+g.ka));const ls=pe[4];ls!=null&&(g.za=ls,g.j.info("SVER="+g.za));const hr=pe[5];hr!=null&&typeof hr=="number"&&hr>0&&(E=1.5*hr,g.O=E,g.j.info("backChannelRequestTimeoutMs_="+E)),E=g;const dr=c.g;if(dr){const bl=dr.g?dr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bl){var L=E.h;L.g||bl.indexOf("spdy")==-1&&bl.indexOf("quic")==-1&&bl.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(kh(L,L.h),L.h=null))}if(E.G){const Mh=dr.g?dr.g.getResponseHeader("X-HTTP-Session-Id"):null;Mh&&(E.wa=Mh,ve(E.J,E.G,Mh))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-c.F,g.j.info("Handshake RTT: "+g.T+"ms")),E=g;var $=c;if(E.na=fv(E,E.L?E.ba:null,E.W),$.L){zy(E.h,$);var ne=$,ze=E.O;ze&&(ne.H=ze),ne.D&&(Ah(ne),_l(ne)),E.g=$}else lv(E);g.i.length>0&&Sl(g)}else pe[0]!="stop"&&pe[0]!="close"||as(g,7);else g.I==3&&(pe[0]=="stop"||pe[0]=="close"?pe[0]=="stop"?as(g,7):Dh(g):pe[0]!="noop"&&g.l&&g.l.qa(pe),g.A=0)}}fo(4)}catch{}}var aC=class{constructor(c,p){this.g=c,this.map=p}};function Uy(c){this.l=c||10,o.PerformanceNavigationTiming?(c=o.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function By(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function $y(c){return c.h?1:c.g?c.g.size:0}function Ch(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function kh(c,p){c.g?c.g.add(p):c.h=p}function zy(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Uy.prototype.cancel=function(){if(this.i=Wy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Wy(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const g of c.g.values())p=p.concat(g.G);return p}return v(c.i)}var Gy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lC(c,p){if(c){c=c.split("&");for(let g=0;g<c.length;g++){const E=c[g].indexOf("=");let M,L=null;E>=0?(M=c[g].substring(0,E),L=c[g].substring(E+1)):M=c[g],p(M,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function lr(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof lr?(this.l=c.l,vo(this,c.j),this.o=c.o,this.g=c.g,_o(this,c.u),this.h=c.h,Ph(this,Xy(c.i)),this.m=c.m):c&&(p=String(c).match(Gy))?(this.l=!1,vo(this,p[1]||"",!0),this.o=xo(p[2]||""),this.g=xo(p[3]||"",!0),_o(this,p[4]),this.h=xo(p[5]||"",!0),Ph(this,p[6]||"",!0),this.m=xo(p[7]||"")):(this.l=!1,this.i=new Eo(null,this.l))}lr.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(wo(p,Hy,!0),":");var g=this.g;return(g||p=="file")&&(c.push("//"),(p=this.o)&&c.push(wo(p,Hy,!0),"@"),c.push(go(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&c.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(wo(g,g.charAt(0)=="/"?hC:uC,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",wo(g,fC)),c.join("")},lr.prototype.resolve=function(c){const p=vn(this);let g=!!c.j;g?vo(p,c.j):g=!!c.o,g?p.o=c.o:g=!!c.g,g?p.g=c.g:g=c.u!=null;var E=c.h;if(g)_o(p,c.u);else if(g=!!c.h){if(E.charAt(0)!="/")if(this.g&&!this.h)E="/"+E;else{var M=p.h.lastIndexOf("/");M!=-1&&(E=p.h.slice(0,M+1)+E)}if(M=E,M==".."||M==".")E="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){E=M.lastIndexOf("/",0)==0,M=M.split("/");const L=[];for(let $=0;$<M.length;){const ne=M[$++];ne=="."?E&&$==M.length&&L.push(""):ne==".."?((L.length>1||L.length==1&&L[0]!="")&&L.pop(),E&&$==M.length&&L.push("")):(L.push(ne),E=!0)}E=L.join("/")}else E=M}return g?p.h=E:g=c.i.toString()!=="",g?Ph(p,Xy(c.i)):g=!!c.m,g&&(p.m=c.m),p};function vn(c){return new lr(c)}function vo(c,p,g){c.j=g?xo(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function _o(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function Ph(c,p,g){p instanceof Eo?(c.i=p,pC(c.i,c.l)):(g||(p=wo(p,dC)),c.i=new Eo(p,c.l))}function ve(c,p,g){c.i.set(p,g)}function xl(c){return ve(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function xo(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function wo(c,p,g){return typeof c=="string"?(c=encodeURI(c).replace(p,cC),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function cC(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Hy=/[#\/\?@]/g,uC=/[#\?:]/g,hC=/[#\?]/g,dC=/[#\?@]/g,fC=/#/g;function Eo(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function os(c){c.g||(c.g=new Map,c.h=0,c.i&&lC(c.i,function(p,g){c.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}t=Eo.prototype,t.add=function(c,p){os(this),this.i=null,c=Ys(this,c);let g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(p),this.h+=1,this};function qy(c,p){os(c),p=Ys(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Ky(c,p){return os(c),p=Ys(c,p),c.g.has(p)}t.forEach=function(c,p){os(this),this.g.forEach(function(g,E){g.forEach(function(M){c.call(p,M,E,this)},this)},this)};function Qy(c,p){os(c);let g=[];if(typeof p=="string")Ky(c,p)&&(g=g.concat(c.g.get(Ys(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)g=g.concat(c[p]);return g}t.set=function(c,p){return os(this),this.i=null,c=Ys(this,c),Ky(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=Qy(this,c),c.length>0?String(c[0]):p):p};function Yy(c,p,g){qy(c,p),g.length>0&&(c.i=null,c.g.set(Ys(c,p),v(g)),c.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let E=0;E<p.length;E++){var g=p[E];const M=go(g);g=Qy(this,g);for(let L=0;L<g.length;L++){let $=M;g[L]!==""&&($+="="+go(g[L])),c.push($)}}return this.i=c.join("&")};function Xy(c){const p=new Eo;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function Ys(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function pC(c,p){p&&!c.j&&(os(c),c.i=null,c.g.forEach(function(g,E){const M=E.toLowerCase();E!=M&&(qy(this,E),Yy(this,M,g))},c)),c.j=p}function mC(c,p){const g=new mo;if(o.Image){const E=new Image;E.onload=h(cr,g,"TestLoadImage: loaded",!0,p,E),E.onerror=h(cr,g,"TestLoadImage: error",!1,p,E),E.onabort=h(cr,g,"TestLoadImage: abort",!1,p,E),E.ontimeout=h(cr,g,"TestLoadImage: timeout",!1,p,E),o.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=c}else p(!1)}function gC(c,p){const g=new mo,E=new AbortController,M=setTimeout(()=>{E.abort(),cr(g,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:E.signal}).then(L=>{clearTimeout(M),L.ok?cr(g,"TestPingServer: ok",!0,p):cr(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(M),cr(g,"TestPingServer: error",!1,p)})}function cr(c,p,g,E,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),E(g)}catch{}}function yC(){this.g=new Zb}function Rh(c){this.i=c.Sb||null,this.h=c.ab||!1}f(Rh,by),Rh.prototype.g=function(){return new wl(this.i,this.h)};function wl(c,p){at.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(wl,at),t=wl.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,So(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||o).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,To(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,So(this)),this.g&&(this.readyState=3,So(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Jy(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Jy(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?To(this):So(this),this.readyState==3&&Jy(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,To(this))},t.Na=function(c){this.g&&(this.response=c,To(this))},t.ga=function(){this.g&&To(this)};function To(c){c.readyState=4,c.l=null,c.j=null,c.B=null,So(c)}t.setRequestHeader=function(c,p){this.A.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=p.next();return c.join(`\r
`)};function So(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(wl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Zy(c){let p="";return K(c,function(g,E){p+=E,p+=":",p+=g,p+=`\r
`}),p}function Nh(c,p,g){e:{for(E in g){var E=!1;break e}E=!0}E||(g=Zy(g),typeof c=="string"?g!=null&&go(g):ve(c,p,g))}function Pe(c){at.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Pe,at);var vC=/^https?$/i,_C=["POST","PUT"];t=Pe.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,p,g,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Vy.g(),this.g.onreadystatechange=m(u(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(L){ev(this,L);return}if(c=g||"",g=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var M in E)g.set(M,E[M]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const L of E.keys())g.set(L,E.get(L));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(g.keys()).find(L=>L.toLowerCase()=="content-type"),M=o.FormData&&c instanceof o.FormData,!(Array.prototype.indexOf.call(_C,p,void 0)>=0)||E||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,$]of g)this.g.setRequestHeader(L,$);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(L){ev(this,L)}};function ev(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,tv(c),El(c)}function tv(c){c.A||(c.A=!0,vt(c,"complete"),vt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,vt(this,"complete"),vt(this,"abort"),El(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),El(this,!0)),Pe.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?nv(this):this.Xa())},t.Xa=function(){nv(this)};function nv(c){if(c.h&&typeof i<"u"){if(c.v&&ur(c)==4)setTimeout(c.Ca.bind(c),0);else if(vt(c,"readystatechange"),ur(c)==4){c.h=!1;try{const L=c.ca();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var E;if(E=L===0){let $=String(c.D).match(Gy)[1]||null;!$&&o.self&&o.self.location&&($=o.self.location.protocol.slice(0,-1)),E=!vC.test($?$.toLowerCase():"")}g=E}if(g)vt(c,"complete"),vt(c,"success");else{c.o=6;try{var M=ur(c)>2?c.g.statusText:""}catch{M=""}c.l=M+" ["+c.ca()+"]",tv(c)}}finally{El(c)}}}}function El(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const g=c.g;c.g=null,p||vt(c,"ready");try{g.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ur(c){return c.g?c.g.readyState:0}t.ca=function(){try{return ur(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Jb(p)}};function rv(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function xC(c){const p={};c=(c.g&&ur(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<c.length;E++){if(k(c[E]))continue;var g=sC(c[E]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const L=p[M]||[];p[M]=L,L.push(g)}Y(p,function(E){return E.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Io(c,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||p}function sv(c){this.za=0,this.i=[],this.j=new mo,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Io("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Io("baseRetryDelayMs",5e3,c),this.Za=Io("retryDelaySeedMs",1e4,c),this.Ta=Io("forwardChannelMaxRetries",2,c),this.va=Io("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Uy(c&&c.concurrentRequestLimit),this.Ba=new yC,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=sv.prototype,t.ka=8,t.I=1,t.connect=function(c,p,g,E){_t(0),this.W=c,this.H=p||{},g&&E!==void 0&&(this.H.OSID=g,this.H.OAID=E),this.F=this.X,this.J=fv(this,null,this.W),Sl(this)};function Dh(c){if(iv(c),c.I==3){var p=c.V++,g=vn(c.J);if(ve(g,"SID",c.M),ve(g,"RID",p),ve(g,"TYPE","terminate"),Ao(c,g),p=new ar(c,c.j,p),p.M=2,p.A=xl(vn(g)),g=!1,o.navigator&&o.navigator.sendBeacon)try{g=o.navigator.sendBeacon(p.A.toString(),"")}catch{}!g&&o.Image&&(new Image().src=p.A,g=!0),g||(p.g=pv(p.j,null),p.g.ea(p.A)),p.F=Date.now(),_l(p)}dv(c)}function Tl(c){c.g&&(jh(c),c.g.cancel(),c.g=null)}function iv(c){Tl(c),c.v&&(o.clearTimeout(c.v),c.v=null),Il(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&o.clearTimeout(c.m),c.m=null)}function Sl(c){if(!By(c.h)&&!c.m){c.m=!0;var p=c.Ea;N||_(),V||(N(),V=!0),T.add(p,c),c.D=0}}function wC(c,p){return $y(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=po(u(c.Ea,c,p),hv(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const M=new ar(this,this.j,c);let L=this.o;if(this.U&&(L?(L=W(L),se(L,this.U)):L=this.U),this.u!==null||this.R||(M.J=L,L=null),this.S)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var E=this.i[g];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(p+=E,p>4096){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=av(this,M,p),g=vn(this.J),ve(g,"RID",c),ve(g,"CVER",22),this.G&&ve(g,"X-HTTP-Session-Id",this.G),Ao(this,g),L&&(this.R?p="headers="+go(Zy(L))+"&"+p:this.u&&Nh(g,this.u,L)),kh(this.h,M),this.Ra&&ve(g,"TYPE","init"),this.S?(ve(g,"$req",p),ve(g,"SID","null"),M.U=!0,Ih(M,g,null)):Ih(M,g,p),this.I=2}}else this.I==3&&(c?ov(this,c):this.i.length==0||By(this.h)||ov(this))};function ov(c,p){var g;p?g=p.l:g=c.V++;const E=vn(c.J);ve(E,"SID",c.M),ve(E,"RID",g),ve(E,"AID",c.K),Ao(c,E),c.u&&c.o&&Nh(E,c.u,c.o),g=new ar(c,c.j,g,c.D+1),c.u===null&&(g.J=c.o),p&&(c.i=p.G.concat(c.i)),p=av(c,g,1e3),g.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),kh(c.h,g),Ih(g,E,p)}function Ao(c,p){c.H&&K(c.H,function(g,E){ve(p,E,g)}),c.l&&K({},function(g,E){ve(p,E,g)})}function av(c,p,g){g=Math.min(c.i.length,g);const E=c.l?u(c.l.Ka,c.l,c):null;e:{var M=c.i;let ne=-1;for(;;){const ze=["count="+g];ne==-1?g>0?(ne=M[0].g,ze.push("ofs="+ne)):ne=0:ze.push("ofs="+ne);let pe=!0;for(let Qe=0;Qe<g;Qe++){var L=M[Qe].g;const _n=M[Qe].map;if(L-=ne,L<0)ne=Math.max(0,M[Qe].g-100),pe=!1;else try{L="req"+L+"_"||"";try{var $=_n instanceof Map?_n:Object.entries(_n);for(const[ls,hr]of $){let dr=hr;a(hr)&&(dr=xh(hr)),ze.push(L+ls+"="+encodeURIComponent(dr))}}catch(ls){throw ze.push(L+"type="+encodeURIComponent("_badmap")),ls}}catch{E&&E(_n)}}if(pe){$=ze.join("&");break e}}$=void 0}return c=c.i.splice(0,g),p.G=c,$}function lv(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;N||_(),V||(N(),V=!0),T.add(p,c),c.A=0}}function Vh(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=po(u(c.Da,c),hv(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,cv(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=po(u(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_t(10),Tl(this),cv(this))};function jh(c){c.B!=null&&(o.clearTimeout(c.B),c.B=null)}function cv(c){c.g=new ar(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=vn(c.na);ve(p,"RID","rpc"),ve(p,"SID",c.M),ve(p,"AID",c.K),ve(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&ve(p,"TO",c.ia),ve(p,"TYPE","xmlhttp"),Ao(c,p),c.u&&c.o&&Nh(p,c.u,c.o),c.O&&(c.g.H=c.O);var g=c.g;c=c.ba,g.M=1,g.A=xl(vn(p)),g.u=null,g.R=!0,Ly(g,c)}t.Va=function(){this.C!=null&&(this.C=null,Tl(this),Vh(this),_t(19))};function Il(c){c.C!=null&&(o.clearTimeout(c.C),c.C=null)}function uv(c,p){var g=null;if(c.g==p){Il(c),jh(c),c.g=null;var E=2}else if(Ch(c.h,p))g=p.G,zy(c.h,p),E=1;else return;if(c.I!=0){if(p.o)if(E==1){g=p.u?p.u.length:0,p=Date.now()-p.F;var M=c.D;E=yl(),vt(E,new Ny(E,g)),Sl(c)}else lv(c);else if(M=p.m,M==3||M==0&&p.X>0||!(E==1&&wC(c,p)||E==2&&Vh(c)))switch(g&&g.length>0&&(p=c.h,p.i=p.i.concat(g)),M){case 1:as(c,5);break;case 4:as(c,10);break;case 3:as(c,6);break;default:as(c,2)}}}function hv(c,p){let g=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(g*=2),g*p}function as(c,p){if(c.j.info("Error code "+p),p==2){var g=u(c.bb,c),E=c.Ua;const M=!E;E=new lr(E||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||vo(E,"https"),xl(E),M?mC(E.toString(),g):gC(E.toString(),g)}else _t(2);c.I=0,c.l&&c.l.pa(p),dv(c),iv(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function dv(c){if(c.I=0,c.ja=[],c.l){const p=Wy(c.h);(p.length!=0||c.i.length!=0)&&(I(c.ja,p),I(c.ja,c.i),c.h.i.length=0,v(c.i),c.i.length=0),c.l.oa()}}function fv(c,p,g){var E=g instanceof lr?vn(g):new lr(g);if(E.g!="")p&&(E.g=p+"."+E.g),_o(E,E.u);else{var M=o.location;E=M.protocol,p=p?p+"."+M.hostname:M.hostname,M=+M.port;const L=new lr(null);E&&vo(L,E),p&&(L.g=p),M&&_o(L,M),g&&(L.h=g),E=L}return g=c.G,p=c.wa,g&&p&&ve(E,g,p),ve(E,"VER",c.ka),Ao(c,E),E}function pv(c,p,g){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new Pe(new Rh({ab:g})):new Pe(c.ma),p.Fa(c.L),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function mv(){}t=mv.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Al(){}Al.prototype.g=function(c,p){return new Lt(c,p)};function Lt(c,p){at.call(this),this.g=new sv(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!k(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!k(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Xs(this)}f(Lt,at),Lt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Lt.prototype.close=function(){Dh(this.g)},Lt.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.v&&(g={},g.__data__=xh(c),c=g);p.i.push(new aC(p.Ya++,c)),p.I==3&&Sl(p)},Lt.prototype.N=function(){this.g.l=null,delete this.j,Dh(this.g),delete this.g,Lt.Z.N.call(this)};function gv(c){wh.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const g in p){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}f(gv,wh);function yv(){Eh.call(this),this.status=1}f(yv,Eh);function Xs(c){this.g=c}f(Xs,mv),Xs.prototype.ra=function(){vt(this.g,"a")},Xs.prototype.qa=function(c){vt(this.g,new gv(c))},Xs.prototype.pa=function(c){vt(this.g,new yv)},Xs.prototype.oa=function(){vt(this.g,"b")},Al.prototype.createWebChannel=Al.prototype.g,Lt.prototype.send=Lt.prototype.o,Lt.prototype.open=Lt.prototype.m,Lt.prototype.close=Lt.prototype.close,zT=function(){return new Al},$T=function(){return yl()},BT=ss,Jf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},vl.NO_ERROR=0,vl.TIMEOUT=8,vl.HTTP_ERROR=6,mc=vl,Dy.COMPLETE="complete",UT=Dy,Cy.EventType=ho,ho.OPEN="a",ho.CLOSE="b",ho.ERROR="c",ho.MESSAGE="d",at.prototype.listen=at.prototype.J,zo=Cy,Pe.prototype.listenOnce=Pe.prototype.K,Pe.prototype.getLastError=Pe.prototype.Ha,Pe.prototype.getLastErrorCode=Pe.prototype.ya,Pe.prototype.getStatus=Pe.prototype.ca,Pe.prototype.getResponseJson=Pe.prototype.La,Pe.prototype.getResponseText=Pe.prototype.la,Pe.prototype.send=Pe.prototype.ea,Pe.prototype.setWithCredentials=Pe.prototype.Fa,FT=Pe}).apply(typeof Gl<"u"?Gl:typeof self<"u"?self:typeof window<"u"?window:{});const s_="@firebase/firestore",i_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ht.UNAUTHENTICATED=new ht(null),ht.GOOGLE_CREDENTIALS=new ht("google-credentials-uid"),ht.FIRST_PARTY=new ht("first-party-uid"),ht.MOCK_USER=new ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=new Bm("@firebase/firestore");function Zs(){return Ms.logLevel}function H(t,...e){if(Ms.logLevel<=ie.DEBUG){const n=e.map(Wm);Ms.debug(`Firestore (${eo}): ${t}`,...n)}}function Zn(t,...e){if(Ms.logLevel<=ie.ERROR){const n=e.map(Wm);Ms.error(`Firestore (${eo}): ${t}`,...n)}}function $i(t,...e){if(Ms.logLevel<=ie.WARN){const n=e.map(Wm);Ms.warn(`Firestore (${eo}): ${t}`,...n)}}function Wm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,WT(t,r,n)}function WT(t,e,n){let r=`FIRESTORE (${eo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Zn(r),new Error(r)}function he(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||WT(e,s,r)}function te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends On{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ht.UNAUTHENTICATED))}shutdown(){}}class rV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class sV{constructor(e){this.t=e,this.currentUser=ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){he(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Ts;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ts,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ts)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(he(typeof r.accessToken=="string",31837,{l:r}),new GT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return he(e===null||typeof e=="string",2055,{h:e}),new ht(e)}}class iV{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ht.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class oV{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new iV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class o_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Et(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){he(this.o===void 0,3512);const r=i=>{i.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,H("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new o_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(he(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new o_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=lV(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function oe(t,e){return t<e?-1:t>e?1:0}function Zf(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return vd(s)===vd(i)?oe(s,i):vd(s)?1:-1}return oe(t.length,e.length)}const cV=55296,uV=57343;function vd(t){const e=t.charCodeAt(0);return e>=cV&&e<=uV}function zi(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="__name__";class En{constructor(e,n,r){n===void 0?n=0:n>e.length&&J(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&J(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return En.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof En?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=En.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return oe(e.length,n.length)}static compareSegments(e,n){const r=En.isNumericId(e),s=En.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?En.extractNumericId(e).compare(En.extractNumericId(n)):Zf(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Or.fromString(e.substring(4,e.length-2))}}class me extends En{construct(e,n,r){return new me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new G(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new me(n)}static emptyPath(){return new me([])}}const hV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rt extends En{construct(e,n,r){return new rt(e,n,r)}static isValidIdentifier(e){return hV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===a_}static keyField(){return new rt([a_])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new G(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new G(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new G(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new G(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rt(n)}static emptyPath(){return new rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(me.fromString(e))}static fromName(e){return new Q(me.fromString(e).popFirst(5))}static empty(){return new Q(me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new me(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(t,e,n){if(!n)throw new G(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function dV(t,e,n,r){if(e===!0&&r===!0)throw new G(O.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function l_(t){if(!Q.isDocumentKey(t))throw new G(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function c_(t){if(Q.isDocumentKey(t))throw new G(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qT(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Yu(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":J(12329,{type:typeof t})}function Ci(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yu(t);throw new G(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(t,e){const n={typeString:t};return e&&(n.value=e),n}function tl(t,e){if(!qT(t))throw new G(O.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new G(O.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_=-62135596800,h_=1e6;class xe{static now(){return xe.fromMillis(Date.now())}static fromDate(e){return xe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*h_);return new xe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<u_)throw new G(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/h_}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(tl(e,xe._jsonSchema))return new xe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-u_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xe._jsonSchemaVersion="firestore/timestamp/1.0",xe._jsonSchema={type:$e("string",xe._jsonSchemaVersion),seconds:$e("number"),nanoseconds:$e("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{static fromTimestamp(e){return new ee(e)}static min(){return new ee(new xe(0,0))}static max(){return new ee(new xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=-1;function fV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ee.fromTimestamp(r===1e9?new xe(n+1,0):new xe(n,r));return new zr(s,Q.empty(),e)}function pV(t){return new zr(t.readTime,t.key,Na)}class zr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new zr(ee.min(),Q.empty(),Na)}static max(){return new zr(ee.max(),Q.empty(),Na)}}function mV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function to(t){if(t.code!==O.FAILED_PRECONDITION||t.message!==gV)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&J(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(s=>s?F.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new F((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(h=>{o[u]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new F((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function vV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function no(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Xu.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm=-1;function Ju(t){return t==null}function iu(t){return t===0&&1/t==-1/0}function _V(t){return typeof t=="number"&&Number.isInteger(t)&&!iu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="";function xV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=d_(e)),e=wV(t.get(n),e);return d_(e)}function wV(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case KT:n+="";break;default:n+=i}}return n}function d_(t){return t+KT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function zs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function QT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e,n){this.comparator=e,this.root=n||nt.EMPTY}insert(e,n){return new Ce(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nt.BLACK,null,null))}remove(e){return new Ce(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hl(this.root,e,this.comparator,!0)}}class Hl{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??nt.RED,this.left=s??nt.EMPTY,this.right=i??nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new nt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return nt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw J(43730,{key:this.key,value:this.value});if(this.right.isRed())throw J(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw J(27949);return e+(this.isRed()?0:1)}}nt.EMPTY=null,nt.RED=!0,nt.BLACK=!1;nt.EMPTY=new class{constructor(){this.size=0}get key(){throw J(57766)}get value(){throw J(16141)}get color(){throw J(16727)}get left(){throw J(29726)}get right(){throw J(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new nt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.comparator=e,this.data=new Ce(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new p_(this.data.getIterator())}getIteratorFrom(e){return new p_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ke)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ke(this.comparator);return n.data=e,n}}class p_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.fields=e,e.sort(rt.comparator)}static empty(){return new hn([])}unionWith(e){let n=new Ke(rt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new hn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new YT("Invalid base64 string: "+i):i}}(e);return new ot(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new ot(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ot.EMPTY_BYTE_STRING=new ot("");const EV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wr(t){if(he(!!t,39018),typeof t=="string"){let e=0;const n=EV.exec(t);if(he(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:je(t.seconds),nanos:je(t.nanos)}}function je(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Gr(t){return typeof t=="string"?ot.fromBase64String(t):ot.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="server_timestamp",JT="__type__",ZT="__previous_value__",eS="__local_write_time__";function qm(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[JT])==null?void 0:r.stringValue)===XT}function Zu(t){const e=t.mapValue.fields[ZT];return qm(e)?Zu(e):e}function Da(t){const e=Wr(t.mapValue.fields[eS].timestampValue);return new xe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e,n,r,s,i,o,a,l,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=h}}const ou="(default)";class Va{constructor(e,n){this.projectId=e,this.database=n||ou}static empty(){return new Va("","")}get isDefaultDatabase(){return this.database===ou}isEqual(e){return e instanceof Va&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="__type__",SV="__max__",ql={mapValue:{}},nS="__vector__",au="value";function Hr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qm(t)?4:AV(t)?9007199254740991:IV(t)?10:11:J(28295,{value:t})}function Ln(t,e){if(t===e)return!0;const n=Hr(t);if(n!==Hr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Da(t).isEqual(Da(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Wr(s.timestampValue),a=Wr(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Gr(s.bytesValue).isEqual(Gr(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return je(s.geoPointValue.latitude)===je(i.geoPointValue.latitude)&&je(s.geoPointValue.longitude)===je(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return je(s.integerValue)===je(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=je(s.doubleValue),a=je(i.doubleValue);return o===a?iu(o)===iu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return zi(t.arrayValue.values||[],e.arrayValue.values||[],Ln);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(f_(o)!==f_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ln(o[l],a[l])))return!1;return!0}(t,e);default:return J(52216,{left:t})}}function ja(t,e){return(t.values||[]).find(n=>Ln(n,e))!==void 0}function Wi(t,e){if(t===e)return 0;const n=Hr(t),r=Hr(e);if(n!==r)return oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return oe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=je(i.integerValue||i.doubleValue),l=je(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return m_(t.timestampValue,e.timestampValue);case 4:return m_(Da(t),Da(e));case 5:return Zf(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Gr(i),l=Gr(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=oe(a[u],l[u]);if(h!==0)return h}return oe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=oe(je(i.latitude),je(o.latitude));return a!==0?a:oe(je(i.longitude),je(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return g_(t.arrayValue,e.arrayValue);case 10:return function(i,o){var m,v,I,S;const a=i.fields||{},l=o.fields||{},u=(m=a[au])==null?void 0:m.arrayValue,h=(v=l[au])==null?void 0:v.arrayValue,f=oe(((I=u==null?void 0:u.values)==null?void 0:I.length)||0,((S=h==null?void 0:h.values)==null?void 0:S.length)||0);return f!==0?f:g_(u,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===ql.mapValue&&o===ql.mapValue)return 0;if(i===ql.mapValue)return 1;if(o===ql.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const m=Zf(l[f],h[f]);if(m!==0)return m;const v=Wi(a[l[f]],u[h[f]]);if(v!==0)return v}return oe(l.length,h.length)}(t.mapValue,e.mapValue);default:throw J(23264,{he:n})}}function m_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return oe(t,e);const n=Wr(t),r=Wr(e),s=oe(n.seconds,r.seconds);return s!==0?s:oe(n.nanos,r.nanos)}function g_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Wi(n[s],r[s]);if(i)return i}return oe(n.length,r.length)}function Gi(t){return ep(t)}function ep(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Wr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Gr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=ep(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${ep(n.fields[o])}`;return s+"}"}(t.mapValue):J(61005,{value:t})}function gc(t){switch(Hr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zu(t);return e?16+gc(e):16;case 5:return 2*t.stringValue.length;case 6:return Gr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+gc(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return zs(r.fields,(i,o)=>{s+=i.length+gc(o)}),s}(t.mapValue);default:throw J(13486,{value:t})}}function y_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function tp(t){return!!t&&"integerValue"in t}function Km(t){return!!t&&"arrayValue"in t}function v_(t){return!!t&&"nullValue"in t}function __(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function yc(t){return!!t&&"mapValue"in t}function IV(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[tS])==null?void 0:r.stringValue)===nS}function sa(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return zs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=sa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=sa(t.arrayValue.values[n]);return e}return{...t}}function AV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===SV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.value=e}static empty(){return new Qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!yc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=sa(n)}setAll(e){let n=rt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=sa(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());yc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ln(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];yc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){zs(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Qt(sa(this.value))}}function rS(t){const e=[];return zs(t.fields,(n,r)=>{const s=new rt([n]);if(yc(r)){const i=rS(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ft(e,0,ee.min(),ee.min(),ee.min(),Qt.empty(),0)}static newFoundDocument(e,n,r,s){return new ft(e,1,n,ee.min(),r,s,0)}static newNoDocument(e,n){return new ft(e,2,n,ee.min(),ee.min(),Qt.empty(),0)}static newUnknownDocument(e,n){return new ft(e,3,n,ee.min(),ee.min(),Qt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n){this.position=e,this.inclusive=n}}function x_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Q.comparator(Q.fromName(o.referenceValue),n.key):r=Wi(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function w_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ln(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,n="asc"){this.field=e,this.dir=n}}function bV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{}class Be extends sS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new kV(e,n,r):n==="array-contains"?new NV(e,r):n==="in"?new DV(e,r):n==="not-in"?new VV(e,r):n==="array-contains-any"?new jV(e,r):new Be(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new PV(e,r):new RV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Wi(n,this.value)):n!==null&&Hr(this.value)===Hr(n)&&this.matchesComparison(Wi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yn extends sS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new yn(e,n)}matches(e){return iS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function iS(t){return t.op==="and"}function oS(t){return CV(t)&&iS(t)}function CV(t){for(const e of t.filters)if(e instanceof yn)return!1;return!0}function np(t){if(t instanceof Be)return t.field.canonicalString()+t.op.toString()+Gi(t.value);if(oS(t))return t.filters.map(e=>np(e)).join(",");{const e=t.filters.map(n=>np(n)).join(",");return`${t.op}(${e})`}}function aS(t,e){return t instanceof Be?function(r,s){return s instanceof Be&&r.op===s.op&&r.field.isEqual(s.field)&&Ln(r.value,s.value)}(t,e):t instanceof yn?function(r,s){return s instanceof yn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&aS(o,s.filters[a]),!0):!1}(t,e):void J(19439)}function lS(t){return t instanceof Be?function(n){return`${n.field.canonicalString()} ${n.op} ${Gi(n.value)}`}(t):t instanceof yn?function(n){return n.op.toString()+" {"+n.getFilters().map(lS).join(" ,")+"}"}(t):"Filter"}class kV extends Be{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class PV extends Be{constructor(e,n){super(e,"in",n),this.keys=cS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class RV extends Be{constructor(e,n){super(e,"not-in",n),this.keys=cS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function cS(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class NV extends Be{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Km(n)&&ja(n.arrayValue,this.value)}}class DV extends Be{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ja(this.value.arrayValue,n)}}class VV extends Be{constructor(e,n){super(e,"not-in",n)}matches(e){if(ja(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ja(this.value.arrayValue,n)}}class jV extends Be{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Km(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ja(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function E_(t,e=null,n=[],r=[],s=null,i=null,o=null){return new MV(t,e,n,r,s,i,o)}function Qm(t){const e=te(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>np(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Ju(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Gi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Gi(r)).join(",")),e.Te=n}return e.Te}function Ym(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!bV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!aS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!w_(t.startAt,e.startAt)&&w_(t.endAt,e.endAt)}function rp(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function LV(t,e,n,r,s,i,o,a){return new ro(t,e,n,r,s,i,o,a)}function Xm(t){return new ro(t)}function T_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function uS(t){return t.collectionGroup!==null}function ia(t){const e=te(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ke(rt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Ma(i,r))}),n.has(rt.keyField().canonicalString())||e.Ie.push(new Ma(rt.keyField(),r))}return e.Ie}function Cn(t){const e=te(t);return e.Ee||(e.Ee=OV(e,ia(t))),e.Ee}function OV(t,e){if(t.limitType==="F")return E_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Ma(s.field,i)});const n=t.endAt?new lu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new lu(t.startAt.position,t.startAt.inclusive):null;return E_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function sp(t,e){const n=t.filters.concat([e]);return new ro(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ip(t,e,n){return new ro(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function eh(t,e){return Ym(Cn(t),Cn(e))&&t.limitType===e.limitType}function hS(t){return`${Qm(Cn(t))}|lt:${t.limitType}`}function ei(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>lS(s)).join(", ")}]`),Ju(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Gi(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Gi(s)).join(",")),`Target(${r})`}(Cn(t))}; limitType=${t.limitType})`}function th(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Q.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of ia(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=x_(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,ia(r),s)||r.endAt&&!function(o,a,l){const u=x_(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,ia(r),s))}(t,e)}function FV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function dS(t){return(e,n)=>{let r=!1;for(const s of ia(t)){const i=UV(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function UV(t,e,n){const r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?Wi(l,u):J(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return J(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){zs(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return QT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=new Ce(Q.comparator);function er(){return BV}const fS=new Ce(Q.comparator);function Wo(...t){let e=fS;for(const n of t)e=e.insert(n.key,n);return e}function pS(t){let e=fS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ys(){return oa()}function mS(){return oa()}function oa(){return new Ws(t=>t.toString(),(t,e)=>t.isEqual(e))}const $V=new Ce(Q.comparator),zV=new Ke(Q.comparator);function ae(...t){let e=zV;for(const n of t)e=e.add(n);return e}const WV=new Ke(oe);function GV(){return WV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:iu(e)?"-0":e}}function gS(t){return{integerValue:""+t}}function HV(t,e){return _V(e)?gS(e):Jm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(){this._=void 0}}function qV(t,e,n){return t instanceof La?function(s,i){const o={fields:{[JT]:{stringValue:XT},[eS]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&qm(i)&&(i=Zu(i)),i&&(o.fields[ZT]=i),{mapValue:o}}(n,e):t instanceof Oa?vS(t,e):t instanceof Fa?_S(t,e):function(s,i){const o=yS(s,i),a=S_(o)+S_(s.Ae);return tp(o)&&tp(s.Ae)?gS(a):Jm(s.serializer,a)}(t,e)}function KV(t,e,n){return t instanceof Oa?vS(t,e):t instanceof Fa?_S(t,e):n}function yS(t,e){return t instanceof cu?function(r){return tp(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class La extends nh{}class Oa extends nh{constructor(e){super(),this.elements=e}}function vS(t,e){const n=xS(e);for(const r of t.elements)n.some(s=>Ln(s,r))||n.push(r);return{arrayValue:{values:n}}}class Fa extends nh{constructor(e){super(),this.elements=e}}function _S(t,e){let n=xS(e);for(const r of t.elements)n=n.filter(s=>!Ln(s,r));return{arrayValue:{values:n}}}class cu extends nh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function S_(t){return je(t.integerValue||t.doubleValue)}function xS(t){return Km(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e,n){this.field=e,this.transform=n}}function YV(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Oa&&s instanceof Oa||r instanceof Fa&&s instanceof Fa?zi(r.elements,s.elements,Ln):r instanceof cu&&s instanceof cu?Ln(r.Ae,s.Ae):r instanceof La&&s instanceof La}(t.transform,e.transform)}class XV{constructor(e,n){this.version=e,this.transformResults=n}}class kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new kn}static exists(e){return new kn(void 0,e)}static updateTime(e){return new kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class rh{}function wS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Zm(t.key,kn.none()):new nl(t.key,t.data,kn.none());{const n=t.data,r=Qt.empty();let s=new Ke(rt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Gs(t.key,r,new hn(s.toArray()),kn.none())}}function JV(t,e,n){t instanceof nl?function(s,i,o){const a=s.value.clone(),l=A_(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Gs?function(s,i,o){if(!vc(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=A_(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(ES(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function aa(t,e,n,r){return t instanceof nl?function(i,o,a,l){if(!vc(i.precondition,o))return a;const u=i.value.clone(),h=b_(i.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Gs?function(i,o,a,l){if(!vc(i.precondition,o))return a;const u=b_(i.fieldTransforms,l,o),h=o.data;return h.setAll(ES(i)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return vc(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function ZV(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=yS(r.transform,s||null);i!=null&&(n===null&&(n=Qt.empty()),n.set(r.field,i))}return n||null}function I_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&zi(r,s,(i,o)=>YV(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class nl extends rh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Gs extends rh{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function ES(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function A_(t,e,n){const r=new Map;he(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,KV(o,a,n[s]))}return r}function b_(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,qV(i,o,e))}return r}class Zm extends rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ej extends rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&JV(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=aa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=aa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=mS();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=wS(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ae())}isEqual(e){return this.batchId===e.batchId&&zi(this.mutations,e.mutations,(n,r)=>I_(n,r))&&zi(this.baseMutations,e.baseMutations,(n,r)=>I_(n,r))}}class eg{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){he(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return $V}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new eg(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe,le;function sj(t){switch(t){case O.OK:return J(64938);case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return J(15467,{code:t})}}function TS(t){if(t===void 0)return Zn("GRPC error has no .code"),O.UNKNOWN;switch(t){case Oe.OK:return O.OK;case Oe.CANCELLED:return O.CANCELLED;case Oe.UNKNOWN:return O.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return O.INTERNAL;case Oe.UNAVAILABLE:return O.UNAVAILABLE;case Oe.UNAUTHENTICATED:return O.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case Oe.NOT_FOUND:return O.NOT_FOUND;case Oe.ALREADY_EXISTS:return O.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return O.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case Oe.ABORTED:return O.ABORTED;case Oe.OUT_OF_RANGE:return O.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return O.UNIMPLEMENTED;case Oe.DATA_LOSS:return O.DATA_LOSS;default:return J(39323,{code:t})}}(le=Oe||(Oe={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj=new Or([4294967295,4294967295],0);function C_(t){const e=ij().encode(t),n=new OT;return n.update(e),new Uint8Array(n.digest())}function k_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Or([n,r],0),new Or([s,i],0)]}class tg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Go(`Invalid padding: ${n}`);if(r<0)throw new Go(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Go(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Go(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Or.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Or.fromNumber(r)));return s.compare(oj)===1&&(s=new Or([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=C_(e),[r,s]=k_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new tg(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=C_(e),[r,s]=k_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Go extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,rl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new sh(ee.min(),s,new Ce(oe),er(),ae())}}class rl{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new rl(r,n,ae(),ae(),ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class SS{constructor(e,n){this.targetId=e,this.Ce=n}}class IS{constructor(e,n,r=ot.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class P_{constructor(){this.ve=0,this.Fe=R_(),this.Me=ot.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ae(),n=ae(),r=ae();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:J(38017,{changeType:i})}}),new rl(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=R_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,he(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class aj{constructor(e){this.Ge=e,this.ze=new Map,this.je=er(),this.Je=Kl(),this.He=Kl(),this.Ye=new Ce(oe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:J(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(rp(i))if(r===0){const o=new Q(i.path);this.et(n,o,ft.newNoDocument(o,ee.min()))}else he(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Gr(r).toUint8Array()}catch(l){if(l instanceof YT)return $i("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new tg(o,s,i)}catch(l){return $i(l instanceof Go?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&rp(a.target)){const l=new Q(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,ft.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=ae();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new sh(e,n,this.Ye,this.je,r);return this.je=er(),this.Je=Kl(),this.He=Kl(),this.Ye=new Ce(oe),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new P_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ke(oe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ke(oe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||H("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new P_),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Kl(){return new Ce(Q.comparator)}function R_(){return new Ce(Q.comparator)}const lj={asc:"ASCENDING",desc:"DESCENDING"},cj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uj={and:"AND",or:"OR"};class hj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function op(t,e){return t.useProto3Json||Ju(e)?e:{value:e}}function uu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function dj(t,e){return uu(t,e.toTimestamp())}function Pn(t){return he(!!t,49232),ee.fromTimestamp(function(n){const r=Wr(n);return new xe(r.seconds,r.nanos)}(t))}function ng(t,e){return ap(t,e).canonicalString()}function ap(t,e){const n=function(s){return new me(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function bS(t){const e=me.fromString(t);return he(NS(e),10190,{key:e.toString()}),e}function lp(t,e){return ng(t.databaseId,e.path)}function _d(t,e){const n=bS(e);if(n.get(1)!==t.databaseId.projectId)throw new G(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(kS(n))}function CS(t,e){return ng(t.databaseId,e)}function fj(t){const e=bS(t);return e.length===4?me.emptyPath():kS(e)}function cp(t){return new me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function kS(t){return he(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function N_(t,e,n){return{name:lp(t,e),fields:n.value.mapValue.fields}}function pj(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:J(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,h){return u.useProto3Json?(he(h===void 0||typeof h=="string",58123),ot.fromBase64String(h||"")):(he(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),ot.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?O.UNKNOWN:TS(u.code);return new G(h,u.message||"")}(o);n=new IS(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=_d(t,r.document.name),i=Pn(r.document.updateTime),o=r.document.createTime?Pn(r.document.createTime):ee.min(),a=new Qt({mapValue:{fields:r.document.fields}}),l=ft.newFoundDocument(s,i,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new _c(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=_d(t,r.document),i=r.readTime?Pn(r.readTime):ee.min(),o=ft.newNoDocument(s,i),a=r.removedTargetIds||[];n=new _c([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=_d(t,r.document),i=r.removedTargetIds||[];n=new _c([],i,s,null)}else{if(!("filter"in e))return J(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new rj(s,i),a=r.targetId;n=new SS(a,o)}}return n}function mj(t,e){let n;if(e instanceof nl)n={update:N_(t,e.key,e.value)};else if(e instanceof Zm)n={delete:lp(t,e.key)};else if(e instanceof Gs)n={update:N_(t,e.key,e.data),updateMask:Sj(e.fieldMask)};else{if(!(e instanceof ej))return J(16599,{Vt:e.type});n={verify:lp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof La)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Oa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Fa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof cu)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw J(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:dj(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:J(27497)}(t,e.precondition)),n}function gj(t,e){return t&&t.length>0?(he(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Pn(s.updateTime):Pn(i);return o.isEqual(ee.min())&&(o=Pn(i)),new XV(o,s.transformResults||[])}(n,e))):[]}function yj(t,e){return{documents:[CS(t,e.path)]}}function vj(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=CS(t,s);const i=function(u){if(u.length!==0)return RS(yn.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(h=>function(m){return{field:ti(m.field),direction:wj(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=op(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function _j(t){let e=fj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){he(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const m=PS(f);return m instanceof yn&&oS(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(I){return new Ma(ni(I.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,Ju(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(f){const m=!!f.before,v=f.values||[];return new lu(v,m)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const m=!f.before,v=f.values||[];return new lu(v,m)}(n.endAt)),LV(e,s,o,i,a,"F",l,u)}function xj(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return J(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function PS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ni(n.unaryFilter.field);return Be.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ni(n.unaryFilter.field);return Be.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ni(n.unaryFilter.field);return Be.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ni(n.unaryFilter.field);return Be.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return J(61313);default:return J(60726)}}(t):t.fieldFilter!==void 0?function(n){return Be.create(ni(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return J(58110);default:return J(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return yn.create(n.compositeFilter.filters.map(r=>PS(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return J(1026)}}(n.compositeFilter.op))}(t):J(30097,{filter:t})}function wj(t){return lj[t]}function Ej(t){return cj[t]}function Tj(t){return uj[t]}function ti(t){return{fieldPath:t.canonicalString()}}function ni(t){return rt.fromServerFormat(t.fieldPath)}function RS(t){return t instanceof Be?function(n){if(n.op==="=="){if(__(n.value))return{unaryFilter:{field:ti(n.field),op:"IS_NAN"}};if(v_(n.value))return{unaryFilter:{field:ti(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(__(n.value))return{unaryFilter:{field:ti(n.field),op:"IS_NOT_NAN"}};if(v_(n.value))return{unaryFilter:{field:ti(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ti(n.field),op:Ej(n.op),value:n.value}}}(t):t instanceof yn?function(n){const r=n.getFilters().map(s=>RS(s));return r.length===1?r[0]:{compositeFilter:{op:Tj(n.op),filters:r}}}(t):J(54877,{filter:t})}function Sj(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function NS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,n,r,s,i=ee.min(),o=ee.min(),a=ot.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e){this.yt=e}}function Aj(t){const e=_j({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ip(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(){this.Cn=new Cj}addToCollectionParentIndex(e,n){return this.Cn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(zr.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(zr.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class Cj{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Ke(me.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ke(me.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DS=41943040;class Ct{static withCacheSize(e){return new Ct(e,Ct.DEFAULT_COLLECTION_PERCENTILE,Ct.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ct.DEFAULT_COLLECTION_PERCENTILE=10,Ct.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ct.DEFAULT=new Ct(DS,Ct.DEFAULT_COLLECTION_PERCENTILE,Ct.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ct.DISABLED=new Ct(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Hi(0)}static cr(){return new Hi(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="LruGarbageCollector",kj=1048576;function j_([t,e],[n,r]){const s=oe(t,n);return s===0?oe(e,r):s}class Pj{constructor(e){this.Ir=e,this.buffer=new Ke(j_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();j_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Rj{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){H(V_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){no(n)?H(V_,"Ignoring IndexedDB error during garbage collection: ",n):await to(n)}await this.Vr(3e5)})}}class Nj{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return F.resolve(Xu.ce);const r=new Pj(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(D_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),D_):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Zs()<=ie.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function Dj(t,e){return new Nj(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(){this.changes=new Ws(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&aa(r.mutation,s,hn.empty(),xe.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ae()){const s=ys();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Wo();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ys();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ae()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=er();const o=oa(),a=function(){return oa()}();return n.forEach((l,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof Gs)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),aa(h.mutation,u,h.mutation.getFieldMask(),xe.now())):o.set(u.key,hn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>a.set(u,new jj(h,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=oa();let s=new Ce((o,a)=>o-a),i=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||hn.empty();h=a.applyToLocalView(u,h),r.set(l,h);const f=(s.get(a.batchId)||ae()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,f=mS();h.forEach(m=>{if(!i.has(m)){const v=wS(n.get(m),r.get(m));v!==null&&f.set(m,v),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):uS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):F.resolve(ys());let a=Na,l=i;return o.next(u=>F.forEach(u,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?F.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{l=l.insert(h,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,ae())).next(h=>({batchId:a,changes:pS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let s=Wo();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Wo();return this.indexManager.getCollectionParents(e,i).next(a=>F.forEach(a,l=>{const u=function(f,m){return new ro(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,ft.newInvalidDocument(h)))});let a=Wo();return o.forEach((l,u)=>{const h=i.get(l);h!==void 0&&aa(h.mutation,u,hn.empty(),xe.now()),th(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return F.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Pn(s.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:Aj(s.bundledQuery),readTime:Pn(s.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(){this.overlays=new Ce(Q.comparator),this.qr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ys();return F.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const s=ys(),i=n.length+1,o=new Q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return F.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ce((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=ys(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=ys(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=s)););return F.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new nj(n,r));let i=this.qr.get(n);i===void 0&&(i=ae(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(){this.sessionToken=ot.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(){this.Qr=new Ke(Ye.$r),this.Ur=new Ke(Ye.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ye(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Ye(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Q(new me([])),r=new Ye(n,e),s=new Ye(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Q(new me([])),r=new Ye(n,e),s=new Ye(n,e+1);let i=ae();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Ye(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ye{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Q.comparator(e.key,n.key)||oe(e.Yr,n.Yr)}static Kr(e,n){return oe(e.Yr,n.Yr)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ke(Ye.$r)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new tj(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new Ye(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return F.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?Hm:this.tr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ye(n,0),s=new Ye(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),F.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ke(oe);return n.forEach(s=>{const i=new Ye(s,0),o=new Ye(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),F.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Q.isDocumentKey(i)||(i=i.child(""));const o=new Ye(new Q(i),0);let a=new Ke(oe);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Yr)),!0)},o),F.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){he(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return F.forEach(n.mutations,s=>{const i=new Ye(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Ye(n,0),s=this.Zr.firstAfterOrEqual(r);return F.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(e){this.ri=e,this.docs=function(){return new Ce(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():ft.newInvalidDocument(n))}getEntries(e,n){let r=er();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():ft.newInvalidDocument(s))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=er();const o=n.path,a=new Q(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||mV(pV(h),r)<=0||(s.has(h.key)||th(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return F.resolve(i)}getAllFromCollectionGroup(e,n,r,s){J(9500)}ii(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new $j(this)}getSize(e){return F.resolve(this.size)}}class $j extends Vj{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(e){this.persistence=e,this.si=new Ws(n=>Qm(n),Ym),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.oi=0,this._i=new rg,this.targetCount=0,this.ai=Hi.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),F.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Hi(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Pr(n),F.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),F.waitFor(i).next(()=>s)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),F.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,n){this.ui={},this.overlays={},this.ci=new Xu(0),this.li=!1,this.li=!0,this.hi=new Fj,this.referenceDelegate=e(this),this.Pi=new zj(this),this.indexManager=new bj,this.remoteDocumentCache=function(s){return new Bj(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new Ij(n),this.Ii=new Lj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Oj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Uj(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);const s=new Wj(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return F.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class Wj extends yV{constructor(e){super(),this.currentSequenceNumber=e}}class sg{constructor(e){this.persistence=e,this.Ri=new rg,this.Vi=null}static mi(e){return new sg(e)}get fi(){if(this.Vi)return this.Vi;throw J(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),F.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.fi,r=>{const s=Q.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,ee.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return F.or([()=>F.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class hu{constructor(e,n){this.persistence=e,this.pi=new Ws(r=>xV(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=Dj(this,n)}static mi(e,n){return new hu(e,n)}Ei(){}di(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return F.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?F.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,ee.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),F.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=gc(e.data.value)),n}br(e,n,r){return F.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return F.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=ae(),s=ae();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new ig(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return O2()?8:vV(gt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new Gj;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Zs()<=ie.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",ei(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),F.resolve()):(Zs()<=ie.DEBUG&&H("QueryEngine","Query:",ei(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Zs()<=ie.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",ei(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cn(n))):F.resolve())}ys(e,n){if(T_(n))return F.resolve(null);let r=Cn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=ip(n,null,"F"),r=Cn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ae(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,a);return this.Cs(n,u,o,l.readTime)?this.ys(e,ip(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,s){return T_(n)||s.isEqual(ee.min())?F.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?F.resolve(null):(Zs()<=ie.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ei(n)),this.vs(e,o,n,fV(s,Na)).next(a=>a))})}Ds(e,n){let r=new Ke(dS(e));return n.forEach((s,i)=>{th(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Zs()<=ie.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",ei(n)),this.ps.getDocumentsMatchingQuery(e,n,zr.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="LocalStore",qj=3e8;class Kj{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Ce(oe),this.xs=new Ws(i=>Qm(i),Ym),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Mj(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function Qj(t,e,n,r){return new Kj(t,e,n,r)}async function jS(t,e){const n=te(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=ae();for(const u of s){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of i){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function Yj(t,e){const n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const f=u.batch,m=f.keys();let v=F.resolve();return m.forEach(I=>{v=v.next(()=>h.getEntry(l,I)).next(S=>{const A=u.docVersions.get(I);he(A!==null,48541),S.version.compareTo(A)<0&&(f.applyToRemoteDocument(S,u),S.isValidDocument()&&(S.setReadTime(u.commitVersion),h.addEntry(S)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ae();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function MS(t){const e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function Xj(t,e){const n=te(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((h,f)=>{const m=s.get(f);if(!m)return;a.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,f)));let v=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?v=v.withResumeToken(ot.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),s=s.insert(f,v),function(S,A,x){return S.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=qj?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(m,v,h)&&a.push(n.Pi.updateTargetData(i,v))});let l=er(),u=ae();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(Jj(i,o,e.documentUpdates).next(h=>{l=h.ks,u=h.qs})),!r.isEqual(ee.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return F.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.Ms=s,i))}function Jj(t,e,n){let r=ae(),s=ae();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=er();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ee.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):H(og,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:o,qs:s}})}function Zj(t,e){const n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Hm),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function eM(t,e){const n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,F.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new br(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function up(t,e,n){const r=te(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!no(o))throw o;H(og,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function M_(t,e,n){const r=te(t);let s=ee.min(),i=ae();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,h){const f=te(l),m=f.xs.get(h);return m!==void 0?F.resolve(f.Ms.get(m)):f.Pi.getTargetData(u,h)}(r,o,Cn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:ee.min(),n?i:ae())).next(a=>(tM(r,FV(e),a),{documents:a,Qs:i})))}function tM(t,e,n){let r=t.Os.get(e)||ee.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class L_{constructor(){this.activeTargetIds=GV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nM{constructor(){this.Mo=new L_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new L_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="ConnectivityMonitor";class F_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){H(O_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){H(O_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ql=null;function hp(){return Ql===null?Ql=function(){return 268435456+Math.round(2147483648*Math.random())}():Ql++,"0x"+Ql.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="RestConnection",sM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class iM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===ou?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=hp(),a=this.zo(e,n.toUriEncodedString());H(xd,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:u}=new URL(a),h=es(u);return this.Jo(e,a,l,r,h).then(f=>(H(xd,`Received RPC '${e}' ${o}: `,f),f),f=>{throw $i(xd,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+eo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=sM[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ut="WebChannelConnection";class aM extends iM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=hp();return new Promise((a,l)=>{const u=new FT;u.setWithCredentials(!0),u.listenOnce(UT.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case mc.NO_ERROR:const f=u.getResponseJson();H(ut,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case mc.TIMEOUT:H(ut,`RPC '${e}' ${o} timed out`),l(new G(O.DEADLINE_EXCEEDED,"Request time out"));break;case mc.HTTP_ERROR:const m=u.getStatus();if(H(ut,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);const I=v==null?void 0:v.error;if(I&&I.status&&I.message){const S=function(x){const y=x.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(y)>=0?y:O.UNKNOWN}(I.status);l(new G(S,I.message))}else l(new G(O.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new G(O.UNAVAILABLE,"Connection failed."));break;default:J(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{H(ut,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);H(ut,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",h,r,15)})}T_(e,n,r){const s=hp(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=zT(),a=$T(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");H(ut,`Creating RPC '${e}' stream ${s}: ${h}`,l);const f=o.createWebChannel(h,l);this.I_(f);let m=!1,v=!1;const I=new oM({Yo:A=>{v?H(ut,`Not sending because RPC '${e}' stream ${s} is closed:`,A):(m||(H(ut,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),H(ut,`RPC '${e}' stream ${s} sending:`,A),f.send(A))},Zo:()=>f.close()}),S=(A,x,y)=>{A.listen(x,w=>{try{y(w)}catch(P){setTimeout(()=>{throw P},0)}})};return S(f,zo.EventType.OPEN,()=>{v||(H(ut,`RPC '${e}' stream ${s} transport opened.`),I.o_())}),S(f,zo.EventType.CLOSE,()=>{v||(v=!0,H(ut,`RPC '${e}' stream ${s} transport closed`),I.a_(),this.E_(f))}),S(f,zo.EventType.ERROR,A=>{v||(v=!0,$i(ut,`RPC '${e}' stream ${s} transport errored. Name:`,A.name,"Message:",A.message),I.a_(new G(O.UNAVAILABLE,"The operation could not be completed")))}),S(f,zo.EventType.MESSAGE,A=>{var x;if(!v){const y=A.data[0];he(!!y,16349);const w=y,P=(w==null?void 0:w.error)||((x=w[0])==null?void 0:x.error);if(P){H(ut,`RPC '${e}' stream ${s} received error:`,P);const N=P.status;let V=function(b){const C=Oe[b];if(C!==void 0)return TS(C)}(N),T=P.message;V===void 0&&(V=O.INTERNAL,T="Unknown error status: "+N+" with message "+P.message),v=!0,I.a_(new G(V,T)),f.close()}else H(ut,`RPC '${e}' stream ${s} received:`,y),I.u_(y)}}),S(a,BT.STAT_EVENT,A=>{A.stat===Jf.PROXY?H(ut,`RPC '${e}' stream ${s} detected buffering proxy`):A.stat===Jf.NOPROXY&&H(ut,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{I.__()},0),I}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function wd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(t){return new hj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&H("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="PersistentStream";class OS{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new LS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(Zn(n.toString()),Zn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new G(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return H(U_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(H(U_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lM extends OS{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=pj(this.serializer,e),r=function(i){if(!("targetChange"in i))return ee.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ee.min():o.readTime?Pn(o.readTime):ee.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=cp(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=rp(l)?{documents:yj(i,l)}:{query:vj(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=AS(i,o.resumeToken);const u=op(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ee.min())>0){a.readTime=uu(i,o.snapshotVersion.toTimestamp());const u=op(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=xj(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=cp(this.serializer),n.removeTarget=e,this.q_(n)}}class cM extends OS{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return he(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,he(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){he(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=gj(e.writeResults,e.commitTime),r=Pn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=cp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>mj(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{}class hM extends uM{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new G(O.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,ap(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new G(O.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,ap(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(O.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class dM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zn(n),this.aa=!1):H("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="RemoteStore";class fM{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Hs(this)&&(H(Ls,"Restarting streams for network reachability change."),await async function(l){const u=te(l);u.Ea.add(4),await sl(u),u.Ra.set("Unknown"),u.Ea.delete(4),await oh(u)}(this))})}),this.Ra=new dM(r,s)}}async function oh(t){if(Hs(t))for(const e of t.da)await e(!0)}async function sl(t){for(const e of t.da)await e(!1)}function FS(t,e){const n=te(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ug(n)?cg(n):so(n).O_()&&lg(n,e))}function ag(t,e){const n=te(t),r=so(n);n.Ia.delete(e),r.O_()&&US(n,e),n.Ia.size===0&&(r.O_()?r.L_():Hs(n)&&n.Ra.set("Unknown"))}function lg(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}so(t).Y_(e)}function US(t,e){t.Va.Ue(e),so(t).Z_(e)}function cg(t){t.Va=new aj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),so(t).start(),t.Ra.ua()}function ug(t){return Hs(t)&&!so(t).x_()&&t.Ia.size>0}function Hs(t){return te(t).Ea.size===0}function BS(t){t.Va=void 0}async function pM(t){t.Ra.set("Online")}async function mM(t){t.Ia.forEach((e,n)=>{lg(t,e)})}async function gM(t,e){BS(t),ug(t)?(t.Ra.ha(e),cg(t)):t.Ra.set("Unknown")}async function yM(t,e,n){if(t.Ra.set("Online"),e instanceof IS&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){H(Ls,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await du(t,r)}else if(e instanceof _c?t.Va.Ze(e):e instanceof SS?t.Va.st(e):t.Va.tt(e),!n.isEqual(ee.min()))try{const r=await MS(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.Ia.get(u);h&&i.Ia.set(u,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const h=i.Ia.get(l);if(!h)return;i.Ia.set(l,h.withResumeToken(ot.EMPTY_BYTE_STRING,h.snapshotVersion)),US(i,l);const f=new br(h.target,l,u,h.sequenceNumber);lg(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){H(Ls,"Failed to raise snapshot:",r),await du(t,r)}}async function du(t,e,n){if(!no(e))throw e;t.Ea.add(1),await sl(t),t.Ra.set("Offline"),n||(n=()=>MS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H(Ls,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await oh(t)})}function $S(t,e){return e().catch(n=>du(t,n,e))}async function ah(t){const e=te(t),n=qr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Hm;for(;vM(e);)try{const s=await Zj(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,_M(e,s)}catch(s){await du(e,s)}zS(e)&&WS(e)}function vM(t){return Hs(t)&&t.Ta.length<10}function _M(t,e){t.Ta.push(e);const n=qr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function zS(t){return Hs(t)&&!qr(t).x_()&&t.Ta.length>0}function WS(t){qr(t).start()}async function xM(t){qr(t).ra()}async function wM(t){const e=qr(t);for(const n of t.Ta)e.ea(n.mutations)}async function EM(t,e,n){const r=t.Ta.shift(),s=eg.from(r,e,n);await $S(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await ah(t)}async function TM(t,e){e&&qr(t).X_&&await async function(r,s){if(function(o){return sj(o)&&o!==O.ABORTED}(s.code)){const i=r.Ta.shift();qr(r).B_(),await $S(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await ah(r)}}(t,e),zS(t)&&WS(t)}async function B_(t,e){const n=te(t);n.asyncQueue.verifyOperationInProgress(),H(Ls,"RemoteStore received new credentials");const r=Hs(n);n.Ea.add(3),await sl(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await oh(n)}async function SM(t,e){const n=te(t);e?(n.Ea.delete(2),await oh(n)):e||(n.Ea.add(2),await sl(n),n.Ra.set("Unknown"))}function so(t){return t.ma||(t.ma=function(n,r,s){const i=te(n);return i.sa(),new lM(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:pM.bind(null,t),t_:mM.bind(null,t),r_:gM.bind(null,t),H_:yM.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),ug(t)?cg(t):t.Ra.set("Unknown")):(await t.ma.stop(),BS(t))})),t.ma}function qr(t){return t.fa||(t.fa=function(n,r,s){const i=te(n);return i.sa(),new cM(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:xM.bind(null,t),r_:TM.bind(null,t),ta:wM.bind(null,t),na:EM.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await ah(t)):(await t.fa.stop(),t.Ta.length>0&&(H(Ls,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new hg(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dg(t,e){if(Zn("AsyncQueue",`${e}: ${t}`),no(t))return new G(O.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{static emptySet(e){return new ki(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=Wo(),this.sortedSet=new Ce(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ki)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ki;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(){this.ga=new Ce(Q.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):J(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class qi{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new qi(e,n,ki.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class AM{constructor(){this.queries=z_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=te(n),i=s.queries;s.queries=z_(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new G(O.ABORTED,"Firestore shutting down"))}}function z_(){return new Ws(t=>hS(t),eh)}async function bM(t,e){const n=te(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new IM,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=dg(o,`Initialization of query '${ei(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&fg(n)}async function CM(t,e){const n=te(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function kM(t,e){const n=te(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&fg(n)}function PM(t,e,n){const r=te(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function fg(t){t.Ca.forEach(e=>{e.next()})}var dp,W_;(W_=dp||(dp={})).Ma="default",W_.Cache="cache";class RM{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new qi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=qi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==dp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){this.key=e}}class HS{constructor(e){this.key=e}}class NM{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ae(),this.mutatedKeys=ae(),this.eu=dS(e),this.tu=new ki(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new $_,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const m=s.get(h),v=th(this.query,f)?f:null,I=!!m&&this.mutatedKeys.has(m.key),S=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let A=!1;m&&v?m.data.isEqual(v.data)?I!==S&&(r.track({type:3,doc:v}),A=!0):this.su(m,v)||(r.track({type:2,doc:v}),A=!0,(l&&this.eu(v,l)>0||u&&this.eu(v,u)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),A=!0):m&&!v&&(r.track({type:1,doc:m}),A=!0,(l||u)&&(a=!0)),A&&(v?(o=o.add(v),i=S?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(v,I){const S=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J(20277,{Rt:A})}};return S(v)-S(I)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new qi(this.query,e.tu,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ae(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new HS(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new GS(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ae();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return qi.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const pg="SyncEngine";class DM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class VM{constructor(e){this.key=e,this.hu=!1}}class jM{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ws(a=>hS(a),eh),this.Iu=new Map,this.Eu=new Set,this.du=new Ce(Q.comparator),this.Au=new Map,this.Ru=new rg,this.Vu={},this.mu=new Map,this.fu=Hi.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function MM(t,e,n=!0){const r=JS(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await qS(r,e,n,!0),s}async function LM(t,e){const n=JS(t);await qS(n,e,!0,!1)}async function qS(t,e,n,r){const s=await eM(t.localStore,Cn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await OM(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&FS(t.remoteStore,s),a}async function OM(t,e,n,r,s){t.pu=(f,m,v)=>async function(S,A,x,y){let w=A.view.ru(x);w.Cs&&(w=await M_(S.localStore,A.query,!1).then(({documents:T})=>A.view.ru(T,w)));const P=y&&y.targetChanges.get(A.targetId),N=y&&y.targetMismatches.get(A.targetId)!=null,V=A.view.applyChanges(w,S.isPrimaryClient,P,N);return H_(S,A.targetId,V.au),V.snapshot}(t,f,m,v);const i=await M_(t.localStore,e,!0),o=new NM(e,i.Qs),a=o.ru(i.documents),l=rl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);H_(t,n,u.au);const h=new DM(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function FM(t,e,n){const r=te(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!eh(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await up(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&ag(r.remoteStore,s.targetId),fp(r,s.targetId)}).catch(to)):(fp(r,s.targetId),await up(r.localStore,s.targetId,!0))}async function UM(t,e){const n=te(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ag(n.remoteStore,r.targetId))}async function BM(t,e,n){const r=KM(t);try{const s=await function(o,a){const l=te(o),u=xe.now(),h=a.reduce((v,I)=>v.add(I.key),ae());let f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let I=er(),S=ae();return l.Ns.getEntries(v,h).next(A=>{I=A,I.forEach((x,y)=>{y.isValidDocument()||(S=S.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,I)).next(A=>{f=A;const x=[];for(const y of a){const w=ZV(y,f.get(y.key).overlayedDocument);w!=null&&x.push(new Gs(y.key,w,rS(w.value.mapValue),kn.exists(!0)))}return l.mutationQueue.addMutationBatch(v,u,x,a)}).next(A=>{m=A;const x=A.applyToLocalDocumentSet(f,S);return l.documentOverlayCache.saveOverlays(v,A.batchId,x)})}).then(()=>({batchId:m.batchId,changes:pS(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new Ce(oe)),u=u.insert(a,l),o.Vu[o.currentUser.toKey()]=u}(r,s.batchId,n),await il(r,s.changes),await ah(r.remoteStore)}catch(s){const i=dg(s,"Failed to persist write");n.reject(i)}}async function KS(t,e){const n=te(t);try{const r=await Xj(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(he(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?he(o.hu,14607):s.removedDocuments.size>0&&(he(o.hu,42227),o.hu=!1))}),await il(n,r,e)}catch(r){await to(r)}}function G_(t,e,n){const r=te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=te(o);l.onlineState=a;let u=!1;l.queries.forEach((h,f)=>{for(const m of f.Sa)m.va(a)&&(u=!0)}),u&&fg(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $M(t,e,n){const r=te(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Ce(Q.comparator);o=o.insert(i,ft.newNoDocument(i,ee.min()));const a=ae().add(i),l=new sh(ee.min(),new Map,new Ce(oe),o,a);await KS(r,l),r.du=r.du.remove(i),r.Au.delete(e),mg(r)}else await up(r.localStore,e,!1).then(()=>fp(r,e,n)).catch(to)}async function zM(t,e){const n=te(t),r=e.batch.batchId;try{const s=await Yj(n.localStore,e);YS(n,r,null),QS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await il(n,s)}catch(s){await to(s)}}async function WM(t,e,n){const r=te(t);try{const s=await function(o,a){const l=te(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(he(f!==null,37113),h=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);YS(r,e,n),QS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await il(r,s)}catch(s){await to(s)}}function QS(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function YS(t,e,n){const r=te(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function fp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||XS(t,r)})}function XS(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(ag(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),mg(t))}function H_(t,e,n){for(const r of n)r instanceof GS?(t.Ru.addReference(r.key,e),GM(t,r)):r instanceof HS?(H(pg,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||XS(t,r.key)):J(19791,{wu:r})}function GM(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(H(pg,"New document in limbo: "+n),t.Eu.add(r),mg(t))}function mg(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Q(me.fromString(e)),r=t.fu.next();t.Au.set(r,new VM(n)),t.du=t.du.insert(n,r),FS(t.remoteStore,new br(Cn(Xm(n.path)),r,"TargetPurposeLimboResolution",Xu.ce))}}async function il(t,e,n){const r=te(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){s.push(u);const f=ig.As(l.targetId,u);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(l,u){const h=te(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>F.forEach(u,m=>F.forEach(m.Es,v=>h.persistence.referenceDelegate.addReference(f,m.targetId,v)).next(()=>F.forEach(m.ds,v=>h.persistence.referenceDelegate.removeReference(f,m.targetId,v)))))}catch(f){if(!no(f))throw f;H(og,"Failed to update sequence numbers: "+f)}for(const f of u){const m=f.targetId;if(!f.fromCache){const v=h.Ms.get(m),I=v.snapshotVersion,S=v.withLastLimboFreeSnapshotVersion(I);h.Ms=h.Ms.insert(m,S)}}}(r.localStore,i))}async function HM(t,e){const n=te(t);if(!n.currentUser.isEqual(e)){H(pg,"User change. New user:",e.toKey());const r=await jS(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new G(O.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await il(n,r.Ls)}}function qM(t,e){const n=te(t),r=n.Au.get(e);if(r&&r.hu)return ae().add(r.key);{let s=ae();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function JS(t){const e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=KS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$M.bind(null,e),e.Pu.H_=kM.bind(null,e.eventManager),e.Pu.yu=PM.bind(null,e.eventManager),e}function KM(t){const e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WM.bind(null,e),e}class fu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ih(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Qj(this.persistence,new Hj,e.initialUser,this.serializer)}Cu(e){return new VS(sg.mi,this.serializer)}Du(e){return new nM}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fu.provider={build:()=>new fu};class QM extends fu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){he(this.persistence.referenceDelegate instanceof hu,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Rj(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ct.withCacheSize(this.cacheSizeBytes):Ct.DEFAULT;return new VS(r=>hu.mi(r,n),this.serializer)}}class pp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>G_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=HM.bind(null,this.syncEngine),await SM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new AM}()}createDatastore(e){const n=ih(e.databaseInfo.databaseId),r=function(i){return new aM(i)}(e.databaseInfo);return function(i,o,a,l){return new hM(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new fM(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>G_(this.syncEngine,n,0),function(){return F_.v()?new F_:new rM}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,h){const f=new jM(s,i,o,a,l,u);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=te(s);H(Ls,"RemoteStore shutting down."),i.Ea.add(5),await sl(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}pp.provider={build:()=>new pp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Zn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr="FirestoreClient";class XM{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=ht.UNAUTHENTICATED,this.clientId=Gm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{H(Kr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(H(Kr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=dg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ed(t,e){t.asyncQueue.verifyOperationInProgress(),H(Kr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await jS(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function q_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await JM(t);H(Kr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>B_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>B_(e.remoteStore,s)),t._onlineComponents=e}async function JM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H(Kr,"Using user provided OfflineComponentProvider");try{await Ed(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===O.FAILED_PRECONDITION||s.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;$i("Error using user provided cache. Falling back to memory cache: "+n),await Ed(t,new fu)}}else H(Kr,"Using default OfflineComponentProvider"),await Ed(t,new QM(void 0));return t._offlineComponents}async function ZS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H(Kr,"Using user provided OnlineComponentProvider"),await q_(t,t._uninitializedComponentsProvider._online)):(H(Kr,"Using default OnlineComponentProvider"),await q_(t,new pp))),t._onlineComponents}function ZM(t){return ZS(t).then(e=>e.syncEngine)}async function K_(t){const e=await ZS(t),n=e.eventManager;return n.onListen=MM.bind(null,e.syncEngine),n.onUnlisten=FM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=LM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=UM.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="firestore.googleapis.com",Y_=!0;class X_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new G(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tI,this.ssl=Y_}else this.host=e.host,this.ssl=e.ssl??Y_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=DS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kj)throw new G(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eI(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new G(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new G(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new G(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lh{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new X_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new G(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new X_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new nV;switch(r.type){case"firstParty":return new oV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Q_.get(n);r&&(H("ComponentProvider","Removing Datastore"),Q_.delete(n),r.terminate())}(this),Promise.resolve()}}function e4(t,e,n,r={}){var u;t=Ci(t,lh);const s=es(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(Fm(`https://${a}`),Um("Firestore",!0)),i.host!==tI&&i.host!==a&&$i("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!Vs(l,o)&&(t._setSettings(l),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=ht.MOCK_USER;else{h=NT(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new G(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new ht(m)}t._authCredentials=new rV(new GT(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qs(this.firestore,e,this._query)}}class qe{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qe(this.firestore,e,this._key)}toJSON(){return{type:qe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(tl(n,qe._jsonSchema))return new qe(e,r||null,new Q(me.fromString(n.referencePath)))}}qe._jsonSchemaVersion="firestore/documentReference/1.0",qe._jsonSchema={type:$e("string",qe._jsonSchemaVersion),referencePath:$e("string")};class Fr extends qs{constructor(e,n,r){super(e,n,Xm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qe(this.firestore,null,new Q(e))}withConverter(e){return new Fr(this.firestore,e,this._path)}}function J_(t,e,...n){if(t=Le(t),HT("collection","path",e),t instanceof lh){const r=me.fromString(e,...n);return c_(r),new Fr(t,null,r)}{if(!(t instanceof qe||t instanceof Fr))throw new G(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(me.fromString(e,...n));return c_(r),new Fr(t.firestore,null,r)}}function nI(t,e,...n){if(t=Le(t),arguments.length===1&&(e=Gm.newId()),HT("doc","path",e),t instanceof lh){const r=me.fromString(e,...n);return l_(r),new qe(t,null,new Q(r))}{if(!(t instanceof qe||t instanceof Fr))throw new G(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(me.fromString(e,...n));return l_(r),new qe(t.firestore,t instanceof Fr?t.converter:null,new Q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="AsyncQueue";class ex{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new LS(this,"async_queue_retry"),this._c=()=>{const r=wd();r&&H(Z_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=wd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=wd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ts;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!no(e))throw e;H(Z_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Zn("INTERNAL UNHANDLED ERROR: ",tx(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=hg.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&J(47125,{Pc:tx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function tx(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Ua extends lh{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new ex,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ex(e),this._firestoreClient=void 0,await e}}}function t4(t,e){const n=typeof t=="object"?t:zm(),r=typeof t=="string"?t:ou,s=Qu(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=kT("firestore");i&&e4(s,...i)}return s}function rI(t){if(t._terminated)throw new G(O.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||n4(t),t._firestoreClient}function n4(t){var r,s,i;const e=t._freezeSettings(),n=function(a,l,u,h){return new TV(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,eI(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new XM(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yt(ot.fromBase64String(e))}catch(n){throw new G(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yt(ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(tl(e,Yt._jsonSchema))return Yt.fromBase64String(e.bytes)}}Yt._jsonSchemaVersion="firestore/bytes/1.0",Yt._jsonSchema={type:$e("string",Yt._jsonSchemaVersion),bytes:$e("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Rn._jsonSchemaVersion}}static fromJSON(e){if(tl(e,Rn._jsonSchema))return new Rn(e.latitude,e.longitude)}}Rn._jsonSchemaVersion="firestore/geoPoint/1.0",Rn._jsonSchema={type:$e("string",Rn._jsonSchemaVersion),latitude:$e("number"),longitude:$e("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Nn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(tl(e,Nn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Nn(e.vectorValues);throw new G(O.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Nn._jsonSchemaVersion="firestore/vectorValue/1.0",Nn._jsonSchema={type:$e("string",Nn._jsonSchemaVersion),vectorValues:$e("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=/^__.*__$/;class s4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Gs(e,this.data,this.fieldMask,n,this.fieldTransforms):new nl(e,this.data,n,this.fieldTransforms)}}function sI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J(40011,{Ac:t})}}class vg{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new vg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return pu(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(sI(this.Ac)&&r4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class i4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ih(e)}Cc(e,n,r,s=!1){return new vg({Ac:e,methodName:n,Dc:r,path:rt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function iI(t){const e=t._freezeSettings(),n=ih(t._databaseId);return new i4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function o4(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);lI("Data must be an object, but it was:",o,r);const a=oI(r,o);let l,u;if(i.merge)l=new hn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const m=l4(e,f,n);if(!o.contains(m))throw new G(O.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);u4(h,m)||h.push(m)}l=new hn(h),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new s4(new Qt(a),l,u)}class _g extends yg{_toFieldTransform(e){return new QV(e.path,new La)}isEqual(e){return e instanceof _g}}function a4(t,e,n,r=!1){return xg(n,t.Cc(r?4:3,e))}function xg(t,e){if(aI(t=Le(t)))return lI("Unsupported field value:",e,t),oI(t,e);if(t instanceof yg)return function(r,s){if(!sI(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=xg(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Le(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return HV(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=xe.fromDate(r);return{timestampValue:uu(s.serializer,i)}}if(r instanceof xe){const i=new xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uu(s.serializer,i)}}if(r instanceof Rn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yt)return{bytesValue:AS(s.serializer,r._byteString)};if(r instanceof qe){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ng(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Nn)return function(o,a){return{mapValue:{fields:{[tS]:{stringValue:nS},[au]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return Jm(a.serializer,u)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Yu(r)}`)}(t,e)}function oI(t,e){const n={};return QT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zs(t,(r,s)=>{const i=xg(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function aI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xe||t instanceof Rn||t instanceof Yt||t instanceof qe||t instanceof yg||t instanceof Nn)}function lI(t,e,n){if(!aI(n)||!qT(n)){const r=Yu(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function l4(t,e,n){if((e=Le(e))instanceof gg)return e._internalPath;if(typeof e=="string")return cI(t,e);throw pu("Field path arguments must be of type string or ",t,!1,void 0,n)}const c4=new RegExp("[~\\*/\\[\\]]");function cI(t,e,n){if(e.search(c4)>=0)throw pu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new gg(...e.split("."))._internalPath}catch{throw pu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function pu(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new G(O.INVALID_ARGUMENT,a+t+l)}function u4(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new qe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new h4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(wg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class h4 extends uI{data(){return super.data()}}function wg(t,e){return typeof e=="string"?cI(t,e):e instanceof gg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Eg{}class hI extends Eg{}function f4(t,e,...n){let r=[];e instanceof Eg&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof Sg).length,a=i.filter(l=>l instanceof Tg).length;if(o>1||o>0&&a>0)throw new G(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Tg extends hI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Tg(e,n,r)}_apply(e){const n=this._parse(e);return dI(e._query,n),new qs(e.firestore,e.converter,sp(e._query,n))}_parse(e){const n=iI(e.firestore);return function(i,o,a,l,u,h,f){let m;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new G(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){sx(f,h);const I=[];for(const S of f)I.push(rx(l,i,S));m={arrayValue:{values:I}}}else m=rx(l,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||sx(f,h),m=a4(a,o,f,h==="in"||h==="not-in");return Be.create(u,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Sg extends Eg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Sg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:yn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)dI(o,l),o=sp(o,l)}(e._query,n),new qs(e.firestore,e.converter,sp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ig extends hI{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ig(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new G(O.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new G(O.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ma(i,o)}(e._query,this._field,this._direction);return new qs(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new ro(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function p4(t,e="asc"){const n=e,r=wg("orderBy",t);return Ig._create(r,n)}function rx(t,e,n){if(typeof(n=Le(n))=="string"){if(n==="")throw new G(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uS(e)&&n.indexOf("/")!==-1)throw new G(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(me.fromString(n));if(!Q.isDocumentKey(r))throw new G(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return y_(t,new Q(r))}if(n instanceof qe)return y_(t,n._key);throw new G(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yu(n)}.`)}function sx(t,e){if(!Array.isArray(t)||t.length===0)throw new G(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dI(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new G(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new G(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class m4{convertValue(e,n="none"){switch(Hr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Gr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw J(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return zs(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[au].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>je(o.doubleValue));return new Nn(n)}convertGeoPoint(e){return new Rn(je(e.latitude),je(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Zu(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Da(e));default:return null}}convertTimestamp(e){const n=Wr(e);return new xe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=me.fromString(e);he(NS(r),9688,{name:e});const s=new Va(r.get(1),r.get(3)),i=new Q(r.popFirst(5));return s.isEqual(n)||Zn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Ho{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ss extends uI{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(wg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new G(O.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ss._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ss._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ss._jsonSchema={type:$e("string",Ss._jsonSchemaVersion),bundleSource:$e("string","DocumentSnapshot"),bundleName:$e("string"),bundle:$e("string")};class xc extends Ss{data(e={}){return super.data(e)}}class Pi{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ho(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new xc(this._firestore,this._userDataWriter,r.key,r,new Ho(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new xc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ho(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new xc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ho(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:y4(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new G(O.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Pi._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Gm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function y4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J(61501,{type:t})}}Pi._jsonSchemaVersion="firestore/querySnapshot/1.0",Pi._jsonSchema={type:$e("string",Pi._jsonSchemaVersion),bundleSource:$e("string","QuerySnapshot"),bundleName:$e("string"),bundle:$e("string")};class fI extends m4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qe(this.firestore,null,n)}}function v4(t){return pI(Ci(t.firestore,Ua),[new Zm(t._key,kn.none())])}function _4(t,e){const n=Ci(t.firestore,Ua),r=nI(t),s=g4(t.converter,e);return pI(n,[o4(iI(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,kn.exists(!1))]).then(()=>r)}function x4(t,...e){var l,u,h;t=Le(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||nx(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(nx(e[r])){const f=e[r];e[r]=(l=f.next)==null?void 0:l.bind(f),e[r+1]=(u=f.error)==null?void 0:u.bind(f),e[r+2]=(h=f.complete)==null?void 0:h.bind(f)}let i,o,a;if(t instanceof qe)o=Ci(t.firestore,Ua),a=Xm(t._key.path),i={next:f=>{e[r]&&e[r](w4(o,t,f))},error:e[r+1],complete:e[r+2]};else{const f=Ci(t,qs);o=Ci(f.firestore,Ua),a=f._query;const m=new fI(o);i={next:v=>{e[r]&&e[r](new Pi(o,m,f,v))},error:e[r+1],complete:e[r+2]},d4(t._query)}return function(m,v,I,S){const A=new YM(S),x=new RM(v,A,I);return m.asyncQueue.enqueueAndForget(async()=>bM(await K_(m),x)),()=>{A.Nu(),m.asyncQueue.enqueueAndForget(async()=>CM(await K_(m),x))}}(rI(o),a,s,i)}function pI(t,e){return function(r,s){const i=new Ts;return r.asyncQueue.enqueueAndForget(async()=>BM(await ZM(r),s,i)),i.promise}(rI(t),e)}function w4(t,e,n){const r=n.docs.get(e._key),s=new fI(t);return new Ss(t,s,e._key,r,new Ho(n.hasPendingWrites,n.fromCache),e.converter)}function E4(){return new _g("serverTimestamp")}(function(e,n=!0){(function(s){eo=s})($s),js(new $r("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Ua(new sV(r.getProvider("auth-internal")),new aV(o,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new G(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Va(u.options.projectId,h)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),bn(s_,i_,e),bn(s_,i_,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="firebasestorage.googleapis.com",gI="storageBucket",T4=2*60*1e3,S4=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve extends On{constructor(e,n,r=0){super(Td(e),`Firebase Storage: ${n} (${Td(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ve.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Td(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var De;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(De||(De={}));function Td(t){return"storage/"+t}function Ag(){const t="An unknown error occurred, please check the error payload for server response.";return new Ve(De.UNKNOWN,t)}function I4(t){return new Ve(De.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function A4(t){return new Ve(De.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function b4(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ve(De.UNAUTHENTICATED,t)}function C4(){return new Ve(De.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function k4(t){return new Ve(De.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function P4(){return new Ve(De.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function R4(){return new Ve(De.CANCELED,"User canceled the upload/download.")}function N4(t){return new Ve(De.INVALID_URL,"Invalid URL '"+t+"'.")}function D4(t){return new Ve(De.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function V4(){return new Ve(De.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+gI+"' property when initializing the app?")}function j4(){return new Ve(De.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function M4(){return new Ve(De.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function L4(t){return new Ve(De.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function mp(t){return new Ve(De.INVALID_ARGUMENT,t)}function yI(){return new Ve(De.APP_DELETED,"The Firebase app was deleted.")}function O4(t){return new Ve(De.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function la(t,e){return new Ve(De.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function jo(t){throw new Ve(De.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Bt.makeFromUrl(e,n)}catch{return new Bt(e,"")}if(r.path==="")return r;throw D4(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function u(P){P.path_=decodeURIComponent(P.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",v=new RegExp(`^https?://${f}/${h}/b/${s}/o${m}`,"i"),I={bucket:1,path:3},S=n===mI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,A="([^?#]*)",x=new RegExp(`^https?://${S}/${s}/${A}`,"i"),w=[{regex:a,indices:l,postModify:i},{regex:v,indices:I,postModify:u},{regex:x,indices:{bucket:1,path:2},postModify:u}];for(let P=0;P<w.length;P++){const N=w[P],V=N.regex.exec(e);if(V){const T=V[N.indices.bucket];let _=V[N.indices.path];_||(_=""),r=new Bt(T,_),N.postModify(r);break}}if(r==null)throw N4(e);return r}}class F4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let u=!1;function h(...A){u||(u=!0,e.apply(null,A))}function f(A){s=setTimeout(()=>{s=null,t(v,l())},A)}function m(){i&&clearTimeout(i)}function v(A,...x){if(u){m();return}if(A){m(),h.call(null,A,...x);return}if(l()||o){m(),h.call(null,A,...x);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,f(w)}let I=!1;function S(A){I||(I=!0,m(),!u&&(s!==null?(A||(a=2),clearTimeout(s),f(0)):A||(a=1)))}return f(0),i=setTimeout(()=>{o=!0,S(!0)},n),S}function B4(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $4(t){return t!==void 0}function z4(t){return typeof t=="object"&&!Array.isArray(t)}function bg(t){return typeof t=="string"||t instanceof String}function ix(t){return Cg()&&t instanceof Blob}function Cg(){return typeof Blob<"u"}function ox(t,e,n,r){if(r<e)throw mp(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw mp(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function vI(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Is;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Is||(Is={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e,n,r,s,i,o,a,l,u,h,f,m=!0,v=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=f,this.retry=m,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,S)=>{this.resolve_=I,this.reject_=S,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Yl(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Is.NO_ERROR,l=i.getStatus();if(!a||W4(l,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===Is.ABORT;r(!1,new Yl(!1,null,h));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Yl(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());$4(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=Ag();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?yI():R4();o(l)}else{const l=P4();o(l)}};this.canceled_?n(!1,new Yl(!1,null,!0)):this.backoffId_=U4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&B4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Yl{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function H4(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function q4(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function K4(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Q4(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Y4(t,e,n,r,s,i,o=!0,a=!1){const l=vI(t.urlParams),u=t.url+l,h=Object.assign({},t.headers);return K4(h,e),H4(h,n),q4(h,i),Q4(h,r),new G4(u,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function J4(...t){const e=X4();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Cg())return new Blob(t);throw new Ve(De.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Z4(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eL(t){if(typeof atob>"u")throw L4("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Sd{constructor(e,n){this.data=e,this.contentType=n||null}}function tL(t,e){switch(t){case Sn.RAW:return new Sd(_I(e));case Sn.BASE64:case Sn.BASE64URL:return new Sd(xI(t,e));case Sn.DATA_URL:return new Sd(rL(e),sL(e))}throw Ag()}function _I(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function nL(t){let e;try{e=decodeURIComponent(t)}catch{throw la(Sn.DATA_URL,"Malformed data URL.")}return _I(e)}function xI(t,e){switch(t){case Sn.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw la(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Sn.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw la(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=eL(e)}catch(s){throw s.message.includes("polyfill")?s:la(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class wI{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw la(Sn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=iL(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function rL(t){const e=new wI(t);return e.base64?xI(Sn.BASE64,e.rest):nL(e.rest)}function sL(t){return new wI(t).contentType}function iL(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n){let r=0,s="";ix(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(ix(this.data_)){const r=this.data_,s=Z4(r,e,n);return s===null?null:new xr(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new xr(r,!0)}}static getBlob(...e){if(Cg()){const n=e.map(r=>r instanceof xr?r.data_:r);return new xr(J4.apply(null,n))}else{const n=e.map(o=>bg(o)?tL(Sn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new xr(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(t){let e;try{e=JSON.parse(t)}catch{return null}return z4(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function aL(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function TI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(t,e){return e}class xt{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||lL}}let Xl=null;function cL(t){return!bg(t)||t.length<2?t:TI(t)}function SI(){if(Xl)return Xl;const t=[];t.push(new xt("bucket")),t.push(new xt("generation")),t.push(new xt("metageneration")),t.push(new xt("name","fullPath",!0));function e(i,o){return cL(o)}const n=new xt("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new xt("size");return s.xform=r,t.push(s),t.push(new xt("timeCreated")),t.push(new xt("updated")),t.push(new xt("md5Hash",null,!0)),t.push(new xt("cacheControl",null,!0)),t.push(new xt("contentDisposition",null,!0)),t.push(new xt("contentEncoding",null,!0)),t.push(new xt("contentLanguage",null,!0)),t.push(new xt("contentType",null,!0)),t.push(new xt("metadata","customMetadata",!0)),Xl=t,Xl}function uL(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Bt(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function hL(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return uL(r,t),r}function II(t,e,n){const r=EI(e);return r===null?null:hL(t,r,n)}function dL(t,e,n,r){const s=EI(e);if(s===null||!bg(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(u=>{const h=t.bucket,f=t.fullPath,m="/b/"+o(h)+"/o/"+o(f),v=kg(m,n,r),I=vI({alt:"media",token:u});return v+I})[0]}function fL(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class AI{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(t){if(!t)throw Ag()}function pL(t,e){function n(r,s){const i=II(t,s,e);return bI(i!==null),i}return n}function mL(t,e){function n(r,s){const i=II(t,s,e);return bI(i!==null),dL(i,s,t.host,t._protocol)}return n}function CI(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=C4():s=b4():n.getStatus()===402?s=A4(t.bucket):n.getStatus()===403?s=k4(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function gL(t){const e=CI(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=I4(t.path)),i.serverResponse=s.serverResponse,i}return n}function yL(t,e,n){const r=e.fullServerUrl(),s=kg(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new AI(s,i,mL(t,n),o);return a.errorHandler=gL(e),a}function vL(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function _L(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=vL(null,e)),r}function xL(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let w="";for(let P=0;P<2;P++)w=w+Math.random().toString().slice(2);return w}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=_L(e,r,s),h=fL(u,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,m=`\r
--`+l+"--",v=xr.getBlob(f,r,m);if(v===null)throw j4();const I={name:u.fullPath},S=kg(i,t.host,t._protocol),A="POST",x=t.maxUploadRetryTime,y=new AI(S,A,pL(t,n),x);return y.urlParams=I,y.headers=o,y.body=v.uploadData(),y.errorHandler=CI(e),y}class wL{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Is.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Is.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Is.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,i){if(this.sent_)throw jo("cannot .send() more than once");if(es(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw jo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw jo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw jo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw jo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class EL extends wL{initXhr(){this.xhr_.responseType="text"}}function kI(){return new EL}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,n){this._service=e,n instanceof Bt?this._location=n:this._location=Bt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Os(e,n)}get root(){const e=new Bt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return TI(this._location.path)}get storage(){return this._service}get parent(){const e=oL(this._location.path);if(e===null)return null;const n=new Bt(this._location.bucket,e);return new Os(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw O4(e)}}function TL(t,e,n){t._throwIfRoot("uploadBytes");const r=xL(t.storage,t._location,SI(),new xr(e,!0),n);return t.storage.makeRequestWithTokens(r,kI).then(s=>({metadata:s,ref:t}))}function SL(t){t._throwIfRoot("getDownloadURL");const e=yL(t.storage,t._location,SI());return t.storage.makeRequestWithTokens(e,kI).then(n=>{if(n===null)throw M4();return n})}function IL(t,e){const n=aL(t._location.path,e),r=new Bt(t._location.bucket,n);return new Os(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(t){return/^[A-Za-z]+:\/\//.test(t)}function bL(t,e){return new Os(t,e)}function PI(t,e){if(t instanceof Pg){const n=t;if(n._bucket==null)throw V4();const r=new Os(n,n._bucket);return e!=null?PI(r,e):r}else return e!==void 0?IL(t,e):t}function CL(t,e){if(e&&AL(e)){if(t instanceof Pg)return bL(t,e);throw mp("To use ref(service, url), the first argument must be a Storage instance.")}else return PI(t,e)}function ax(t,e){const n=e==null?void 0:e[gI];return n==null?null:Bt.makeFromBucketSpec(n,t)}function kL(t,e,n,r={}){t.host=`${e}:${n}`;const s=es(e);s&&(Fm(`https://${t.host}/b`),Um("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:NT(i,t.app.options.projectId))}class Pg{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=mI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=T4,this._maxUploadRetryTime=S4,this._requests=new Set,s!=null?this._bucket=Bt.makeFromBucketSpec(s,this._host):this._bucket=ax(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Bt.makeFromBucketSpec(this._url,e):this._bucket=ax(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ox("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ox("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Et(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Os(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new F4(yI());{const o=Y4(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const lx="@firebase/storage",cx="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="storage";function PL(t,e,n){return t=Le(t),TL(t,e,n)}function RL(t){return t=Le(t),SL(t)}function NL(t,e){return t=Le(t),CL(t,e)}function DL(t=zm(),e){t=Le(t);const r=Qu(t,RI).getImmediate({identifier:e}),s=kT("storage");return s&&VL(r,...s),r}function VL(t,e,n,r={}){kL(t,e,n,r)}function jL(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Pg(n,r,s,e,$s)}function ML(){js(new $r(RI,jL,"PUBLIC").setMultipleInstances(!0)),bn(lx,cx,""),bn(lx,cx,"esm2020")}ML();function NI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LL=NI,DI=new Za("auth","Firebase",NI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=new Bm("@firebase/auth");function OL(t,...e){mu.logLevel<=ie.WARN&&mu.warn(`Auth (${$s}): ${t}`,...e)}function wc(t,...e){mu.logLevel<=ie.ERROR&&mu.error(`Auth (${$s}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t,...e){throw Ng(t,...e)}function Dn(t,...e){return Ng(t,...e)}function Rg(t,e,n){const r={...LL(),[e]:n};return new Za("auth","Firebase",r).create(e,{appName:t.name})}function mn(t){return Rg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function FL(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&rn(t,"argument-error"),Rg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ng(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return DI.create(t,...e)}function X(t,e,...n){if(!t)throw Ng(e,...n)}function Gn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw wc(e),new Error(e)}function tr(t,e){t||Gn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gp(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function UL(){return ux()==="http:"||ux()==="https:"}function ux(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UL()||j2()||"connection"in navigator)?navigator.onLine:!0}function $L(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n){this.shortDelay=e,this.longDelay=n,tr(n>e,"Short delay should be less than long delay!"),this.isMobile=N2()||M2()}get(){return BL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(t,e){tr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GL=new ol(3e4,6e4);function ts(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ns(t,e,n,r,s={}){return jI(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=el({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...i};return V2()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&es(t.emulatorConfig.host)&&(u.credentials="include"),VI.fetch()(await MI(t,t.config.apiHost,n,a),u)})}async function jI(t,e,n){t._canInitEmulator=!1;const r={...zL,...e};try{const s=new qL(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Jl(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jl(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Jl(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Jl(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Rg(t,h,u);rn(t,h)}}catch(s){if(s instanceof On)throw s;rn(t,"network-request-failed",{message:String(s)})}}async function al(t,e,n,r,s={}){const i=await ns(t,e,n,r,s);return"mfaPendingCredential"in i&&rn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function MI(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Dg(t.config,s):`${t.config.apiScheme}://${s}`;return WL.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function HL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Dn(this.auth,"network-request-failed")),GL.get())})}}function Jl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Dn(t,e,r);return s.customData._tokenResponse=n,s}function hx(t){return t!==void 0&&t.enterprise!==void 0}class KL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return HL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function QL(t,e){return ns(t,"GET","/v2/recaptchaConfig",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YL(t,e){return ns(t,"POST","/v1/accounts:delete",e)}async function gu(t,e){return ns(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function XL(t,e=!1){const n=Le(t),r=await n.getIdToken(e),s=Vg(r);X(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:ca(Id(s.auth_time)),issuedAtTime:ca(Id(s.iat)),expirationTime:ca(Id(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Id(t){return Number(t)*1e3}function Vg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return wc("JWT malformed, contained fewer than 3 sections"),null;try{const s=bT(n);return s?JSON.parse(s):(wc("Failed to decode base64 JWT payload"),null)}catch(s){return wc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function dx(t){const e=Vg(t);return X(e,"internal-error"),X(typeof e.exp<"u","internal-error"),X(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof On&&JL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function JL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ca(this.lastLoginAt),this.creationTime=ca(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Ba(t,gu(e,{idToken:n}));X(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?LI(s.providerUserInfo):[],o=tO(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=a?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new yp(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function eO(t){const e=Le(t);await yu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tO(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function LI(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nO(t,e){const n=await jI(t,{},async()=>{const r=el({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await MI(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&es(t.emulatorConfig.host)&&(l.credentials="include"),VI.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function rO(t,e){return ns(t,"POST","/v2/accounts:revokeToken",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){X(e.idToken,"internal-error"),X(typeof e.idToken<"u","internal-error"),X(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){X(e.length!==0,"internal-error");const n=dx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(X(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await nO(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Ri;return r&&(X(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(X(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(X(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ri,this.toJSON())}_performRefresh(){return Gn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(t,e){X(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class dn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new ZL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new yp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ba(this,this.stsTokenManager.getToken(this.auth,e));return X(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return XL(this,e)}reload(){return eO(this)}_assign(e){this!==e&&(X(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new dn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await yu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Et(this.auth.app))return Promise.reject(mn(this.auth));const e=await this.getIdToken();return await Ba(this,YL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:v,providerData:I,stsTokenManager:S}=n;X(f&&S,e,"internal-error");const A=Ri.fromJSON(this.name,S);X(typeof f=="string",e,"internal-error"),pr(r,e.name),pr(s,e.name),X(typeof m=="boolean",e,"internal-error"),X(typeof v=="boolean",e,"internal-error"),pr(i,e.name),pr(o,e.name),pr(a,e.name),pr(l,e.name),pr(u,e.name),pr(h,e.name);const x=new dn({uid:f,auth:e,email:s,emailVerified:m,displayName:r,isAnonymous:v,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:A,createdAt:u,lastLoginAt:h});return I&&Array.isArray(I)&&(x.providerData=I.map(y=>({...y}))),l&&(x._redirectEventId=l),x}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ri;s.updateFromServerResponse(n);const i=new dn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await yu(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];X(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?LI(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Ri;a.updateFromIdToken(r);const l=new dn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new yp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx=new Map;function Hn(t){tr(t instanceof Function,"Expected a class definition");let e=fx.get(t);return e?(tr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,fx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}OI.type="NONE";const px=OI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(t,e,n){return`firebase:${t}:${e}:${n}`}class Ni{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Ec(this.userKey,s.apiKey,i),this.fullPersistenceKey=Ec("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await gu(this.auth,{idToken:e}).catch(()=>{});return n?dn._fromGetAccountInfoResponse(this.auth,n,e):null}return dn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ni(Hn(px),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Hn(px);const o=Ec(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){let f;if(typeof h=="string"){const m=await gu(e,{idToken:h}).catch(()=>{});if(!m)break;f=await dn._fromGetAccountInfoResponse(e,m,h)}else f=dn._fromJSON(e,h);u!==i&&(a=f),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Ni(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Ni(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($I(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WI(e))return"Blackberry";if(GI(e))return"Webos";if(UI(e))return"Safari";if((e.includes("chrome/")||BI(e))&&!e.includes("edge/"))return"Chrome";if(zI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function FI(t=gt()){return/firefox\//i.test(t)}function UI(t=gt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BI(t=gt()){return/crios\//i.test(t)}function $I(t=gt()){return/iemobile/i.test(t)}function zI(t=gt()){return/android/i.test(t)}function WI(t=gt()){return/blackberry/i.test(t)}function GI(t=gt()){return/webos/i.test(t)}function jg(t=gt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function sO(t=gt()){var e;return jg(t)&&!!((e=window.navigator)!=null&&e.standalone)}function iO(){return L2()&&document.documentMode===10}function HI(t=gt()){return jg(t)||zI(t)||GI(t)||WI(t)||/windows phone/i.test(t)||$I(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(t,e=[]){let n;switch(t){case"Browser":n=mx(gt());break;case"Worker":n=`${mx(gt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$s}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aO(t,e={}){return ns(t,"GET","/v2/passwordPolicy",ts(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=6;class cO{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??lO,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gx(this),this.idTokenSubscription=new gx(this),this.beforeStateQueue=new oO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Hn(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Ni.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await gu(this,{idToken:e}),r=await dn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Et(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await yu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$L()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Et(this.app))return Promise.reject(mn(this));const n=e?Le(e):null;return n&&X(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&X(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Et(this.app)?Promise.reject(mn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Et(this.app)?Promise.reject(mn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aO(this),n=new cO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Za("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await rO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Hn(e)||this._popupRedirectResolver;X(n,this,"argument-error"),this.redirectPersistenceManager=await Ni.create(this,[Hn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Et(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&OL(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Fn(t){return Le(t)}class gx{constructor(e){this.auth=e,this.observer=null,this.addObserver=G2(n=>this.observer=n)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ch={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hO(t){ch=t}function KI(t){return ch.loadJS(t)}function dO(){return ch.recaptchaEnterpriseScript}function fO(){return ch.gapiScript}function pO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class mO{constructor(){this.enterprise=new gO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class gO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const yO="recaptcha-enterprise",QI="NO_RECAPTCHA";class vO{constructor(e){this.type=yO,this.auth=Fn(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{QL(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new KL(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;hx(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(QI)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mO().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&hx(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=dO();l.length!==0&&(l+=a),KI(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function yx(t,e,n,r=!1,s=!1){const i=new vO(t);let o;if(s)o=QI;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function vp(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await yx(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await yx(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(t,e){const n=Qu(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Vs(i,e??{}))return s;rn(s,"already-initialized")}return n.initialize({options:e})}function xO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Hn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function wO(t,e,n){const r=Fn(t);X(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=YI(e),{host:o,port:a}=EO(e),l=a===null?"":`:${a}`,u={url:`${i}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){X(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),X(Vs(u,r.config.emulator)&&Vs(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,es(o)?(Fm(`${i}//${o}${l}`),Um("Auth",!0)):TO()}function YI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function EO(t){const e=YI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:vx(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:vx(o)}}}function vx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function TO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gn("not implemented")}_getIdTokenResponse(e){return Gn("not implemented")}_linkToIdToken(e,n){return Gn("not implemented")}_getReauthenticationResolver(e){return Gn("not implemented")}}async function SO(t,e){return ns(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IO(t,e){return al(t,"POST","/v1/accounts:signInWithPassword",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AO(t,e){return al(t,"POST","/v1/accounts:signInWithEmailLink",ts(t,e))}async function bO(t,e){return al(t,"POST","/v1/accounts:signInWithEmailLink",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a extends Mg{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new $a(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new $a(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vp(e,n,"signInWithPassword",IO);case"emailLink":return AO(e,{email:this._email,oobCode:this._password});default:rn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vp(e,r,"signUpPassword",SO);case"emailLink":return bO(e,{idToken:n,email:this._email,oobCode:this._password});default:rn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Di(t,e){return al(t,"POST","/v1/accounts:signInWithIdp",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO="http://localhost";class Fs extends Mg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Fs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):rn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Fs(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Di(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Di(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Di(e,n)}buildRequest(){const e={requestUri:CO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=el(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function PO(t){const e=Bo($o(t)).link,n=e?Bo($o(e)).deep_link_id:null,r=Bo($o(t)).deep_link_id;return(r?Bo($o(r)).link:null)||r||n||e||t}class Lg{constructor(e){const n=Bo($o(e)),r=n.apiKey??null,s=n.oobCode??null,i=kO(n.mode??null);X(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=PO(e);try{return new Lg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.providerId=io.PROVIDER_ID}static credential(e,n){return $a._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Lg.parseLink(n);return X(r,"argument-error"),$a._fromEmailAndCode(e,r.code,r.tenantId)}}io.PROVIDER_ID="password";io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll extends Og{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends ll{constructor(){super("facebook.com")}static credential(e){return Fs._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wr.credential(e.oauthAccessToken)}catch{return null}}}wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";wr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n extends ll{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Fs._fromParams({providerId:$n.PROVIDER_ID,signInMethod:$n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return $n.credentialFromTaggedObject(e)}static credentialFromError(e){return $n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return $n.credential(n,r)}catch{return null}}}$n.GOOGLE_SIGN_IN_METHOD="google.com";$n.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends ll{constructor(){super("github.com")}static credential(e){return Fs._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Er.credentialFromTaggedObject(e)}static credentialFromError(e){return Er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Er.credential(e.oauthAccessToken)}catch{return null}}}Er.GITHUB_SIGN_IN_METHOD="github.com";Er.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends ll{constructor(){super("twitter.com")}static credential(e,n){return Fs._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Tr.credentialFromTaggedObject(e)}static credentialFromError(e){return Tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Tr.credential(n,r)}catch{return null}}}Tr.TWITTER_SIGN_IN_METHOD="twitter.com";Tr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XI(t,e){return al(t,"POST","/v1/accounts:signUp",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await dn._fromIdTokenResponse(e,r,s),o=_x(r);return new nr({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=_x(r);return new nr({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function _x(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xx(t){var s;if(Et(t.app))return Promise.reject(mn(t));const e=Fn(t);if(await e._initializationPromise,(s=e.currentUser)!=null&&s.isAnonymous)return new nr({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await XI(e,{returnSecureToken:!0}),r=await nr._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends On{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,vu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new vu(e,n,r,s)}}function JI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?vu._fromErrorAndOperation(t,i,e,r):i})}async function RO(t,e,n=!1){const r=await Ba(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return nr._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NO(t,e,n=!1){const{auth:r}=t;if(Et(r.app))return Promise.reject(mn(r));const s="reauthenticate";try{const i=await Ba(t,JI(r,s,e,t),n);X(i.idToken,r,"internal-error");const o=Vg(i.idToken);X(o,r,"internal-error");const{sub:a}=o;return X(t.uid===a,r,"user-mismatch"),nr._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&rn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZI(t,e,n=!1){if(Et(t.app))return Promise.reject(mn(t));const r="signIn",s=await JI(t,r,e),i=await nr._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function DO(t,e){return ZI(Fn(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eA(t){const e=Fn(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function VO(t,e,n){if(Et(t.app))return Promise.reject(mn(t));const r=Fn(t),o=await vp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",XI).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&eA(t),l}),a=await nr._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function jO(t,e,n){return Et(t.app)?Promise.reject(mn(t)):DO(Le(t),io.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&eA(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(t,e){return Le(t).setPersistence(e)}function LO(t,e,n,r){return Le(t).onIdTokenChanged(e,n,r)}function OO(t,e,n){return Le(t).beforeAuthStateChanged(e,n)}function FO(t,e,n,r){return Le(t).onAuthStateChanged(e,n,r)}function UO(t){return Le(t).signOut()}const _u="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_u,"1"),this.storage.removeItem(_u),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=1e3,$O=10;class nA extends tA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=HI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);iO()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,$O):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},BO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nA.type="LOCAL";const rA=nA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA extends tA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}sA.type="SESSION";const iA=sA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new uh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await zO(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=Fg("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(){return window}function GO(t){Vn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(){return typeof Vn().WorkerGlobalScope<"u"&&typeof Vn().importScripts=="function"}async function HO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function KO(){return oA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="firebaseLocalStorageDb",QO=1,xu="firebaseLocalStorage",lA="fbase_key";class cl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hh(t,e){return t.transaction([xu],e?"readwrite":"readonly").objectStore(xu)}function YO(){const t=indexedDB.deleteDatabase(aA);return new cl(t).toPromise()}function _p(){const t=indexedDB.open(aA,QO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(xu,{keyPath:lA})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(xu)?e(r):(r.close(),await YO(),e(await _p()))})})}async function wx(t,e,n){const r=hh(t,!0).put({[lA]:e,value:n});return new cl(r).toPromise()}async function XO(t,e){const n=hh(t,!1).get(e),r=await new cl(n).toPromise();return r===void 0?null:r.value}function Ex(t,e){const n=hh(t,!0).delete(e);return new cl(n).toPromise()}const JO=800,ZO=3;class cA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _p(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ZO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uh._getInstance(KO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await HO(),!this.activeServiceWorker)return;this.sender=new WO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _p();return await wx(e,_u,"1"),await Ex(e,_u),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>wx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>XO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ex(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=hh(s,!1).getAll();return new cl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cA.type="LOCAL";const e3=cA;new ol(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(t,e){return e?Hn(e):(X(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug extends Mg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Di(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Di(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Di(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function t3(t){return ZI(t.auth,new Ug(t),t.bypassAuthState)}function n3(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),NO(n,new Ug(t),t.bypassAuthState)}async function r3(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),RO(n,new Ug(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return t3;case"linkViaPopup":case"linkViaRedirect":return r3;case"reauthViaPopup":case"reauthViaRedirect":return n3;default:rn(this.auth,"internal-error")}}resolve(e){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3=new ol(2e3,1e4);class mi extends hA{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,mi.currentPopupAction&&mi.currentPopupAction.cancel(),mi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return X(e,this.auth,"internal-error"),e}async onExecution(){tr(this.filter.length===1,"Popup operations only handle one event");const e=Fg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Dn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Dn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,s3.get())};e()}}mi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3="pendingRedirect",Tc=new Map;class o3 extends hA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Tc.get(this.auth._key());if(!e){try{const r=await a3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Tc.set(this.auth._key(),e)}return this.bypassAuthState||Tc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function a3(t,e){const n=fA(e),r=dA(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}async function l3(t,e){return dA(t)._set(fA(e),"true")}function c3(t,e){Tc.set(t._key(),e)}function dA(t){return Hn(t._redirectPersistence)}function fA(t){return Ec(i3,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(t,e,n){return u3(t,e,n)}async function u3(t,e,n){if(Et(t.app))return Promise.reject(mn(t));const r=Fn(t);FL(t,e,Og),await r._initializationPromise;const s=uA(r,n);return await l3(s,r),s._openRedirect(r,e,"signInViaRedirect")}async function h3(t,e){return await Fn(t)._initializationPromise,pA(t,e,!1)}async function pA(t,e,n=!1){if(Et(t.app))return Promise.reject(mn(t));const r=Fn(t),s=uA(r,e),o=await new o3(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3=10*60*1e3;class f3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!p3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!mA(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Dn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=d3&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sx(e))}saveEventToCache(e){this.cachedEventUids.add(Sx(e)),this.lastProcessedEventTime=Date.now()}}function Sx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function mA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function p3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m3(t,e={}){return ns(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,y3=/^https?/;async function v3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await m3(t);for(const n of e)try{if(_3(n))return}catch{}rn(t,"unauthorized-domain")}function _3(t){const e=gp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!y3.test(n))return!1;if(g3.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3=new ol(3e4,6e4);function Ix(){const t=Vn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function w3(t){return new Promise((e,n)=>{var s,i,o;function r(){Ix(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ix(),n(Dn(t,"network-request-failed"))},timeout:x3.get()})}if((i=(s=Vn().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Vn().gapi)!=null&&o.load)r();else{const a=pO("iframefcb");return Vn()[a]=()=>{gapi.load?r():n(Dn(t,"network-request-failed"))},KI(`${fO()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Sc=null,e})}let Sc=null;function E3(t){return Sc=Sc||w3(t),Sc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3=new ol(5e3,15e3),S3="__/auth/iframe",I3="emulator/auth/iframe",A3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},b3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function C3(t){const e=t.config;X(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Dg(e,I3):`https://${t.config.authDomain}/${S3}`,r={apiKey:e.apiKey,appName:t.name,v:$s},s=b3.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${el(r).slice(1)}`}async function k3(t){const e=await E3(t),n=Vn().gapi;return X(n,t,"internal-error"),e.open({where:document.body,url:C3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:A3,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Dn(t,"network-request-failed"),a=Vn().setTimeout(()=>{i(o)},T3.get());function l(){Vn().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},R3=500,N3=600,D3="_blank",V3="http://localhost";class Ax{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function j3(t,e,n,r=R3,s=N3){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...P3,width:r.toString(),height:s.toString(),top:i,left:o},u=gt().toLowerCase();n&&(a=BI(u)?D3:n),FI(u)&&(e=e||V3,l.scrollbars="yes");const h=Object.entries(l).reduce((m,[v,I])=>`${m}${v}=${I},`,"");if(sO(u)&&a!=="_self")return M3(e||"",a),new Ax(null);const f=window.open(e||"",a,h);X(f,t,"popup-blocked");try{f.focus()}catch{}return new Ax(f)}function M3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3="__/auth/handler",O3="emulator/auth/handler",F3=encodeURIComponent("fac");async function bx(t,e,n,r,s,i){X(t.config.authDomain,t,"auth-domain-config-required"),X(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$s,eventId:s};if(e instanceof Og){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",W2(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof ll){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${F3}=${encodeURIComponent(l)}`:"";return`${U3(t)}?${el(a).slice(1)}${u}`}function U3({config:t}){return t.emulator?Dg(t,O3):`https://${t.authDomain}/${L3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad="webStorageSupport";class B3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iA,this._completeRedirectFn=pA,this._overrideRedirectResult=c3}async _openPopup(e,n,r,s){var o;tr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await bx(e,n,r,gp(),s);return j3(e,i,Fg())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await bx(e,n,r,gp(),s);return GO(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(tr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await k3(e),r=new f3(e);return n.register("authEvent",s=>(X(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ad,{type:Ad},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Ad];i!==void 0&&n(!!i),rn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=v3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return HI()||UI()||jg()}}const $3=B3;var Cx="@firebase/auth",kx="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function G3(t){js(new $r("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;X(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qI(t)},u=new uO(r,s,i,l);return xO(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),js(new $r("auth-internal",e=>{const n=Fn(e.getProvider("auth").getImmediate());return(r=>new z3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),bn(Cx,kx,W3(t)),bn(Cx,kx,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3=5*60,q3=RT("authIdTokenMaxAge")||H3;let Px=null;const K3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>q3)return;const s=n==null?void 0:n.token;Px!==s&&(Px=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Q3(t=zm()){const e=Qu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_O(t,{popupRedirectResolver:$3,persistence:[e3,rA,iA]}),r=RT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=K3(i.toString());OO(n,o,()=>o(n.currentUser)),LO(n,a=>o(a))}}const s=CT("auth");return s&&wO(n,`http://${s}`),n}function Y3(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}hO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Dn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Y3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});G3("Browser");var X3="firebase",J3="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn(X3,J3,"app");const Z3={apiKey:"AIzaSyA6m3A92d29iO4F7szFX04vf8Lh5oRapfM",authDomain:"ba14-dcddb.firebaseapp.com",projectId:"ba14-dcddb",storageBucket:"ba14-dcddb.firebasestorage.app",messagingSenderId:"785275492010",appId:"1:785275492010:web:b6bc2ef94d4832eb51a2d3",measurementId:"G-33X2W9E7VS"},Bg=jT(Z3),Ft=Q3(Bg);MO(Ft,rA).catch(t=>{console.error("Error setting persistence:",t)});const xp=new $n;xp.setCustomParameters({prompt:"select_account"});const bd=t4(Bg),e6=DL(Bg);function t6(){const[t,e]=D.useState([]),[n,r]=D.useState(!1),[s,i]=D.useState(!0),[o,a]=D.useState(!1),[l,u]=D.useState(null),h=D.useRef(null),[f,m]=D.useState([]),v=D.useRef(null);D.useEffect(()=>{localStorage.getItem("journal_admin")==="true"&&(r(!0),Ft.currentUser||xx(Ft).catch(V=>{console.error("Auto-signin failed",V)})),i(!1)},[]);const I=async()=>{if(prompt("Enter Admin Code:")==="ba14")try{u(null),Ft.currentUser||await xx(Ft),r(!0),localStorage.setItem("journal_admin","true")}catch(V){console.error("Auth failed:",V),alert(`Could not sign in: ${V.message}`),r(!0),localStorage.setItem("journal_admin","true")}};D.useEffect(()=>{const N=f4(J_(bd,"journal_entries"),p4("timestamp","desc")),V=x4(N,T=>{const _=T.docs.map(b=>({id:b.id,...b.data()}));e(_),i(!1)});return()=>V()},[]);const S=(N,V=void 0)=>{var T;document.execCommand(N,!1,V),(T=h.current)==null||T.focus()},A=async N=>{if(!N.target.files||N.target.files.length===0)return;const V=N.target.files[0],T=V.type.startsWith("image/");a(!0);try{const _=NL(e6,`journal_attachments/${Date.now()}_${V.name}`);await PL(_,V);const b=await RL(_);m(C=>[...C,{type:T?"image":"file",url:b,name:V.name}])}catch(_){console.error("Upload failed:",_),alert("Upload failed. Check console.")}finally{a(!1),v.current&&(v.current.value="")}},x=N=>{m(V=>V.filter((T,_)=>_!==N))},y=async N=>{var T;if(N.preventDefault(),!h.current||!n)return;const V=h.current.innerHTML;if(!(!V.trim()&&f.length===0)){a(!0),u(null);try{await _4(J_(bd,"journal_entries"),{content:V,attachments:f,timestamp:E4(),authorEmail:((T=Ft.currentUser)==null?void 0:T.email)||"anonymous",secretCode:"ba14"}),h.current&&(h.current.innerHTML=""),m([])}catch(_){console.error("Error posting entry:",_),_.code==="permission-denied"?u("Permission denied. Check Firestore rules."):u(`Failed to post: ${_.message}`)}finally{a(!1)}}},w=async N=>{if(!(!n||!window.confirm("Delete this entry?")))try{await v4(nI(bd,"journal_entries",N))}catch(V){console.error("Error deleting entry:",V),alert("Failed to delete: "+V.message)}},P=N=>{if(!N)return"Just now";const V=N.toDate();return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}).format(V)};return d.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-8",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("div",{onClick:I,className:"inline-flex items-center justify-center w-20 h-20 rounded-3xl bg-black text-white dark:bg-white dark:text-black shadow-xl mb-6 cursor-pointer hover:scale-105 transition-transform",children:d.jsx(Zi,{emoji:"",className:"w-10 h-10"})}),d.jsx("h1",{className:"text-4xl font-black text-black dark:text-white mb-3 tracking-tight",children:"My Journal"}),d.jsxs("p",{className:"text-lg text-gray-600 dark:text-gray-300 flex items-center justify-center gap-2 font-medium",children:[d.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-green-500 animate-pulse shadow-[0_0_10px_rgba(34,197,94,0.5)]"}),"Live Updates"]})]}),n&&d.jsx("div",{className:"mb-12 animate-fade-in",children:d.jsxs("form",{onSubmit:y,className:"relative group",children:[d.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-200 to-purple-200 dark:from-blue-900 dark:to-purple-900 rounded-3xl blur opacity-50"}),d.jsxs("div",{className:"relative bg-white dark:bg-[#1C1C1E] rounded-3xl p-6 shadow-2xl border border-gray-100 dark:border-white/10",children:[l&&d.jsxs("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm font-bold rounded-xl flex items-center gap-2",children:[d.jsx($N,{size:16,className:"flex-shrink-0"}),d.jsx("span",{children:l})]}),d.jsxs("div",{className:"flex items-center gap-2 mb-4 pb-4 border-b border-gray-100 dark:border-white/5",children:[d.jsx("button",{type:"button",onClick:()=>S("bold"),className:"p-2 hover:bg-gray-100 dark:hover:bg-white/10 rounded-lg transition-colors",title:"Bold",children:d.jsx(qR,{size:18,className:"text-gray-600 dark:text-gray-300"})}),d.jsx("button",{type:"button",onClick:()=>S("italic"),className:"p-2 hover:bg-gray-100 dark:hover:bg-white/10 rounded-lg transition-colors",title:"Italic",children:d.jsx(mN,{size:18,className:"text-gray-600 dark:text-gray-300"})}),d.jsx("button",{type:"button",onClick:()=>S("backColor","yellow"),className:"p-2 hover:bg-gray-100 dark:hover:bg-white/10 rounded-lg transition-colors",title:"Highlight",children:d.jsx(fN,{size:18,className:"text-gray-600 dark:text-gray-300"})}),d.jsx("div",{className:"w-px h-6 bg-gray-200 dark:bg-white/10 mx-2"}),d.jsx("button",{type:"button",onClick:()=>{var N;return(N=v.current)==null?void 0:N.click()},className:"p-2 hover:bg-gray-100 dark:hover:bg-white/10 rounded-lg transition-colors",title:"Attach File",children:d.jsx(bN,{size:18,className:"text-gray-600 dark:text-gray-300"})}),d.jsx("input",{type:"file",ref:v,className:"hidden",onChange:A,accept:"image/*,.pdf"})]}),d.jsx("div",{ref:h,contentEditable:!0,className:"w-full bg-transparent border-none focus:ring-0 text-lg text-gray-900 dark:text-white min-h-[120px] outline-none prose dark:prose-invert max-w-none mb-4",onKeyDown:N=>{N.key==="Enter"&&N.shiftKey}}),f.length>0&&d.jsx("div",{className:"flex flex-wrap gap-3 mb-6",children:f.map((N,V)=>d.jsxs("div",{className:"relative group",children:[N.type==="image"?d.jsx("div",{className:"w-20 h-20 rounded-xl overflow-hidden border border-gray-200 dark:border-white/10",children:d.jsx("img",{src:N.url,alt:"preview",className:"w-full h-full object-cover"})}):d.jsxs("div",{className:"w-20 h-20 rounded-xl bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 flex flex-col items-center justify-center p-2 text-center",children:[d.jsx(M0,{size:20,className:"text-gray-400 mb-1"}),d.jsx("span",{className:"text-[10px] text-gray-500 truncate w-full",children:N.name})]}),d.jsx("button",{onClick:()=>x(V),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 shadow-md opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsx(Om,{size:12})})]},V))}),d.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-100 dark:border-white/5",children:[d.jsxs("button",{type:"button",onClick:()=>{r(!1),localStorage.removeItem("journal_admin")},className:"text-xs font-bold text-gray-400 hover:text-red-500 uppercase tracking-wider flex items-center gap-1",children:[d.jsx(yN,{size:12}),"Lock"]}),d.jsx("button",{type:"submit",disabled:o,className:"flex items-center gap-2 px-8 py-3 bg-blue-600 text-white rounded-2xl font-bold text-sm hover:bg-blue-700 active:scale-95 disabled:opacity-50 disabled:scale-100 disabled:cursor-not-allowed transition-all shadow-lg shadow-blue-500/20",children:o?"Posting...":d.jsxs(d.Fragment,{children:["Post Update ",d.jsx(jN,{size:14})]})})]})]})]})}),d.jsx("div",{className:"space-y-8",children:s?d.jsx("div",{className:"text-center py-12 text-gray-400",children:"Loading thoughts..."}):t.length===0?d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-500 font-medium",children:"No entries yet."})}):t.map(N=>d.jsxs("div",{className:"flex flex-col items-start animate-slide-in-from-bottom-4",children:[d.jsx("div",{className:"self-center mb-4",children:d.jsx("span",{className:"text-xs font-bold text-[var(--color-text-tertiary)] uppercase tracking-wider bg-[var(--color-surface-secondary)] px-3 py-1 rounded-full",children:P(N.timestamp)})}),d.jsxs("div",{className:"relative max-w-[90%] md:max-w-[80%] self-start group",children:[d.jsxs("div",{className:"bg-[var(--color-bg-elevated)] rounded-2xl rounded-tl-sm p-5 shadow-sm border border-[var(--color-border-primary)] text-[17px] leading-relaxed text-[var(--color-text-primary)]",children:[d.jsx("div",{className:"prose dark:prose-invert max-w-none mb-3 break-words",dangerouslySetInnerHTML:{__html:N.content}}),N.attachments&&N.attachments.length>0&&d.jsx("div",{className:"grid grid-cols-2 gap-2 mt-3",children:N.attachments.map((V,T)=>d.jsx("a",{href:V.url,target:"_blank",rel:"noopener noreferrer",className:`block overflow-hidden rounded-xl border border-[var(--color-border-primary)] transition-transform hover:scale-[1.02] ${V.type==="image"?"col-span-2 md:col-span-1":"col-span-2"}`,children:V.type==="image"?d.jsx("img",{src:V.url,alt:"attachment",className:"w-full h-48 object-cover"}):d.jsxs("div",{className:"flex items-center gap-3 p-3 bg-[var(--color-surface-secondary)]",children:[d.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/30 text-red-600 rounded-lg",children:d.jsx(M0,{size:20})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-sm font-medium text-[var(--color-text-primary)] truncate",children:V.name}),d.jsx("p",{className:"text-xs text-[var(--color-text-tertiary)]",children:"PDF Document"})]})]})},T))})]}),n&&d.jsx("button",{onClick:()=>w(N.id),className:"absolute -right-10 top-2 p-2 text-gray-300 hover:text-red-500 transition-colors opacity-0 group-hover:opacity-100",children:d.jsx(nu,{size:16})})]})]},N.id))})]})}const n6={EN:{title:"About Me",subtitle:"DSE 14 Points  No Full Cert  HKU in 1 Year",bio:"From a 14-point DSE score to HKU in just one year.",location:"Hong Kong",skills:"Tech Stack",interests:"Vibe Check",contact:"Get in Touch",education:"Education",university:"University of Hong Kong",major:"BA in English & Linguistics",nowPlaying:"Now Playing",song:"Lofi Beats to Code To",artist:"Chill Hop",experience:"Journey",projects:"Featured Projects",philosophy:"Philosophy",philosophyText:"Hi, I created this website hoping to help you if you're feeling lost right now, because I've been through the same phase myself.",exchange:"Exchange at NUS (Asia's #1 University)"},:{title:"",subtitle:"DSE 14  Full Cert  HKU",bio:" DSE 14 Full Cert HKU",location:"",skills:"",interests:"",contact:"",education:"",university:"",major:" ( & )",nowPlaying:"",song:"Lofi Beats to Code To",artist:"Chill Hop",experience:"",projects:"",philosophy:"",philosophyText:"Hi website WhatsApp groupIG!",exchange:" ()"}},Rx=({children:t,icon:e})=>d.jsxs("h3",{className:"text-[13px] font-bold text-gray-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[e&&d.jsx(e,{className:"w-4 h-4"}),t]});function r6({lang:t}){const e=t===""?"":"EN",n=n6[e];return d.jsx("div",{className:"min-h-screen bg-[var(--color-bg-page)] font-sans text-[var(--color-text-primary)] py-12 px-6",children:d.jsxs("div",{className:"max-w-3xl mx-auto space-y-8",children:[d.jsxs("div",{className:"flex flex-col items-center text-center space-y-6 mb-12",children:[d.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-white dark:border-white/10 shadow-lg",children:d.jsx("img",{src:"/askba14/profile.png",alt:"Profile",className:"w-full h-full object-cover"})}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[d.jsx("span",{className:"px-3 py-1 rounded-full bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 text-xs font-bold uppercase tracking-widest",children:"Student"}),d.jsxs("span",{className:"px-3 py-1 rounded-full bg-gray-100 dark:bg-white/10 text-gray-500 dark:text-gray-400 text-xs font-bold flex items-center gap-1",children:[d.jsx(xN,{className:"w-3 h-3"})," ",n.location]})]}),d.jsx("h1",{className:"text-5xl font-bold tracking-tight text-[var(--color-text-primary)]",children:d.jsxs("a",{href:"https://www.instagram.com/baaa.14_?igsh=OTAwZ3Fuemx4OWg5&utm_source=qr",target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:["BA",d.jsx("span",{className:"text-blue-500",children:"."}),"14"]})}),d.jsx("p",{className:"text-[19px] text-[var(--color-text-secondary)] max-w-xl mx-auto leading-relaxed",children:n.bio})]})]}),d.jsxs("div",{className:"bg-[var(--color-bg-elevated)] rounded-2xl p-8 shadow-sm border border-[var(--color-border-primary)]",children:[d.jsx(Rx,{icon:SN,children:n.philosophy}),d.jsx("div",{className:"space-y-6",children:e===""?d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-xl font-medium leading-relaxed text-[var(--color-text-primary)]",children:'"Hi,  website "'}),d.jsxs("div",{className:"inline-flex items-center gap-3 p-4 rounded-xl bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 transition-colors hover:bg-blue-100 dark:hover:bg-blue-900/30 cursor-pointer w-full",children:[d.jsx(Zi,{emoji:"",className:"w-5 h-5 shrink-0"}),d.jsxs("p",{className:"text-[15px] font-bold",children:[" ",d.jsx("span",{className:"underline decoration-2 underline-offset-2",children:"WhatsApp group / IG"})," !"]})]})]}):d.jsxs("blockquote",{className:"text-xl font-medium leading-relaxed text-[var(--color-text-primary)]",children:['"',n.philosophyText,'"']})})]}),d.jsxs("div",{className:"bg-[var(--color-bg-elevated)] rounded-2xl p-8 shadow-sm border border-[var(--color-border-primary)]",children:[d.jsx(Rx,{icon:hN,children:n.education}),d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"flex gap-4",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-white dark:bg-white/10 p-1 border border-gray-100 dark:border-white/10 shrink-0 overflow-hidden flex items-center justify-center",children:d.jsx("img",{src:"/askba14/samp_logo.jpg",className:"w-full h-full object-contain",alt:"SaMP Lab"})}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-lg font-bold text-[var(--color-text-primary)]",children:"Undergraduate Researcher"}),d.jsx("p",{className:"text-[15px] text-[var(--color-text-secondary)]",children:"Speech and Music Perception Lab"}),d.jsx("p",{className:"text-sm text-[var(--color-text-tertiary)]",children:"Research Assistant"})]})]}),d.jsxs("div",{className:"flex gap-4",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-white dark:bg-white/10 p-1 border border-gray-100 dark:border-white/10 shrink-0 overflow-hidden flex items-center justify-center",children:d.jsx("img",{src:"/askba14/hku_logo.jpg",className:"w-full h-full object-contain",alt:"HKU"})}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-lg font-bold text-[var(--color-text-primary)]",children:"University of Hong Kong"}),d.jsx("p",{className:"text-[15px] text-[var(--color-text-secondary)]",children:"Bachelor of Arts"}),d.jsxs("ul",{className:"list-disc list-inside text-sm text-[var(--color-text-tertiary)] mt-1 space-y-0.5",children:[d.jsx("li",{children:"Double Major: English Studies, General Linguistics"}),d.jsx("li",{children:"Minor: Urban Studies"})]})]})]}),d.jsxs("div",{className:"flex gap-4",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-white dark:bg-white/10 p-1 border border-gray-100 dark:border-white/10 shrink-0 overflow-hidden flex items-center justify-center",children:d.jsx("img",{src:"/askba14/hkuspace_logo.png",className:"w-full h-full object-contain",alt:"HKU SPACE"})}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-lg font-bold text-[var(--color-text-primary)]",children:"HKUSPACE"}),d.jsx("p",{className:"text-[15px] text-[var(--color-text-secondary)]",children:"Associate of Arts"})]})]}),d.jsxs("div",{className:"flex gap-4",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-white dark:bg-white/10 p-1 border border-gray-100 dark:border-white/10 shrink-0 overflow-hidden flex items-center justify-center",children:d.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/en/b/b9/NUS_coat_of_arms.svg",className:"w-full h-full object-contain",alt:"NUS"})}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-lg font-bold text-[var(--color-text-primary)]",children:"National University of Singapore"}),d.jsx("p",{className:"text-[15px] text-[var(--color-text-secondary)]",children:"Exchange Student"}),d.jsx("p",{className:"text-sm text-[var(--color-text-tertiary)]",children:"Faculty of Arts and Social Sciences"})]})]}),d.jsxs("div",{className:"flex gap-4",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-white dark:bg-white/10 p-1 border border-gray-100 dark:border-white/10 shrink-0 overflow-hidden flex items-center justify-center",children:d.jsx("img",{src:"/askba14/HKEAA_logo.jpg",className:"w-full h-full object-contain",alt:"HKEAA"})}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-lg font-bold text-[var(--color-text-primary)]",children:"DSE"}),d.jsx("p",{className:"text-[15px] text-[var(--color-text-secondary)]",children:"Best 5 only 14 lol"})]})]})]})]})]})})}const s6=[{id:"stage-1",stage:"9",timeframe:"Year 1 Sem 1 ",title:"",subtitle:"",chipLabel:"9",color:"text-gray-900",icon:"",goals:["","",""],actions:[" Course Outline Deadline",""," Orientation ",""],risks:[""," Groupmates"," Deadline"]},{id:"stage-2",stage:"912",timeframe:"Year 1 Sem 1",title:"",subtitle:"",chipLabel:"Sem 1 ",color:"text-gray-900",icon:"",goals:["","",""],actions:["","","",""],risks:["",""," Participation "]},{id:"stage-3",stage:"Stage 1",timeframe:"912 ",title:"Year 1 Sem 1",subtitle:"",chipLabel:"Year 1 Sem 1",color:"text-primary",icon:"",goals:["assessment ",""," groupmates "],actions:[" course outline / assessment  / deadline"," group project meeting "," deadline"," weekly routine"],risks:[" Asso / HD  510% ",""," participation / attendance "]},{id:"stage-2",stage:"Stage 2",timeframe:"12 1 ",title:"Sem 1   Sem Break",subtitle:" Sem Break",chipLabel:"Sem 1 Exam",color:"text-primary",icon:"",goals:[" Sem 1  GPA"," Sem Break",""],actions:[""," final presentation","Sem  GPA ","Sem Break basic Excel"],risks:["","Sem Break  Sem 1 "," / "]},{id:"stage-3",stage:"121",timeframe:"Sem Break",title:"",subtitle:"",chipLabel:"Sem Break",color:"text-primary",icon:"",goals:[" Sem 1 ","",""],actions:["","","","","Sem Break "],risks:[" Sem 1 ","",""]},{id:"stage-4",stage:"16",timeframe:"Year 1 Sem 2",title:"",subtitle:"",chipLabel:"Sem 2",color:"text-primary",icon:"",goals:["",""," GPA"],actions:["","","",""],risks:["timetable ",""," Sem 1 "]},{id:"stage-5",stage:"56",timeframe:"Year 1 Sem 2 ",title:"",subtitle:"",chipLabel:"",color:"text-primary",icon:"",goals:["",""," Year 1  GPA"],actions:["","","",""],risks:[""," Deadline",""]},{id:"stage-6",stage:"68",timeframe:"",title:"Year 1  Year 2 ",subtitle:"",chipLabel:"",color:"text-primary",icon:"",goals:["","",""],actions:["","",""," Year 1 ","IELTS / IGCSE"],risks:["","",""]},{id:"stage-7",stage:"911",timeframe:"Year 2 Sem 1 ",title:"",subtitle:"",chipLabel:"Year 2 ",color:"text-primary",icon:"",goals:["",""," GPA"],actions:["","","",""],risks:["","",""]},{id:"stage-8",stage:"111",timeframe:"",title:"",subtitle:"Non-JUPAS ",chipLabel:"",color:"text-primary",icon:"",goals:["","",""],actions:["","","",""],risks:[" Deadline","",""]},{id:"stage-9",stage:"122",timeframe:"",title:"Sem Break ",subtitle:"",chipLabel:"",color:"text-primary",icon:"",goals:["","",""],actions:["","","","",""],risks:["","",""]},{id:"stage-10",stage:"15",timeframe:"Year 2 Sem 2",title:"",subtitle:" GPA",chipLabel:"Sem 2 ",color:"text-primary",icon:"",goals:[" Conditional Offer "," GPA ",""],actions:["Conditional Offer"," GPA",""," offer"],risks:[" Offer ","",""]},{id:"stage-11",stage:"6",timeframe:"",title:"",subtitle:"",chipLabel:"",color:"text-primary",icon:"",goals:["","",""],actions:["","","",""],risks:["","",""]},{id:"stage-12",stage:"78",timeframe:"",title:"",subtitle:"",chipLabel:"",color:"text-primary",icon:"",goals:["","",""],actions:["","","",""],risks:["","",""]}],i6=[{title:"",icon:"",color:"text-primary",summary:"",details:d.jsxs("ul",{className:"space-y-2 text-sm text-muted",children:[d.jsxs("li",{children:["  ",d.jsx("strong",{children:"GPA "})," (A=4.0, A-=3.7) C "]}),d.jsxs("li",{children:["  ",d.jsx("strong",{children:"Syllabus"}),""]})]})},{title:"Deadline ",icon:"",color:"text-primary",summary:" 35 ",details:d.jsxs("ul",{className:"space-y-2 text-sm text-muted",children:[d.jsx("li",{children:" "}),d.jsx("li",{children:" "})]})},{title:"",icon:"",color:"text-primary",summary:"",details:d.jsxs("ul",{className:"space-y-2 text-sm text-muted",children:[d.jsx("li",{children:"  (e.g. )"}),d.jsx("li",{children:" "})]})},{title:"",icon:"",color:"text-primary",summary:"",details:d.jsxs("ul",{className:"space-y-2 text-sm text-muted",children:[d.jsx("li",{children:" "}),d.jsx("li",{children:" "})]})},{title:"",icon:"",color:"text-primary",summary:"",details:d.jsxs("ul",{className:"space-y-2 text-sm text-muted",children:[d.jsx("li",{children:"  () "}),d.jsx("li",{children:" "})]})},{title:"Group Project ",icon:"",color:"text-primary",summary:"",details:d.jsxs("ul",{className:"space-y-2 text-sm text-muted",children:[d.jsx("li",{children:" "}),d.jsx("li",{children:"  Free-rider"})]})},{title:"",icon:"",color:"text-primary",summary:" GPA",details:d.jsxs("div",{className:"space-y-4 text-sm text-muted",children:[d.jsxs("div",{children:[d.jsx("strong",{className:"text-foreground block mb-1",children:""}),d.jsx("p",{children:" GPA"})]}),d.jsxs("div",{children:[d.jsx("strong",{className:"text-foreground block mb-1",children:""}),d.jsx("p",{children:" 3.3+ "})]})]})}],o6={title:" Personal Statement Non-JUPAS ",intro:" Non-JUPAS  Personal Statement",faq:{question:" JUPAS ",answer:[""," Personal Statement Non-JUPAS "]},writingDirection:{title:"",wordCount:" 700800 ",structure:[{title:"1. Introduction",content:[""," "," ","  23 /","  program","Introduction  body paragraphs"]},{title:"2. Body Paragraphs",content:[" 23 /","","(a) Topic Sentence/","","(b) Elaborate program","","(c) Example","","","(d) Concluding Sentence"," ","In light of this, this quality has strengthened my readiness for the academic and practical demands of the programme, and reinforces my commitment to further develop in this field.","Therefore, I believe this strength aligns well with the programmes emphasis on both foundational knowledge and applied learning.","Overall, this trait enables me to contribute meaningfully to the learning environment while steadily advancing my professional competence in the discipline."]},{title:"3. Conclusion",content:["","  23 ","  long-term "," "]}]}},a6={title:"Referencing Style",intro:"",modules:[{title:"DSE",lessons:[{title:" 1.1",goals:"",content:["","ClaimEvidence","Academic IntegrityPlagiarism"]},{title:" 1.2",goals:"",content:["Credit","Academic Trail"]}]},{title:"",lessons:[{title:" 2.1",goals:"",content:["APA (American Psychological Association)","MLA (Modern Language Association)","Chicago ()-Notes-Bibliography-Author-DateAPA",""]}]},{title:"APA7",lessons:[{title:" 3.1",goals:"APA",content:["In-text Citation","Reference List"]},{title:" 3.2",goals:"",content:["Smith, 2020","Direct QuoteSmith (2020) (p. 15)","Smith & Lee, 2021","Smith et al., 2019et al. =  . ","A Guide to Academic Writing, 2023","Paraphrasing"]},{title:" 3.3",goals:"",content:["A-Z"]}]},{title:"",lessons:[{title:" 4.1",goals:"",content:["PDFDOI/URL"]},{title:" 4.2",goals:"",content:["","","","URLDOI","",""]}]},{title:"",lessons:[{title:" 5.1",goals:"",content:["Word / Google Docs ","Zotero ()MendeleyEndNote"]},{title:" 5.2",goals:"",content:["APA Style Official Website","Citation Guides","Citation Machine"]}]}],tasks:["APA","3-5",""]},As=({children:t,delay:e=0,className:n=""})=>{const[r,s]=D.useState(!1),i=D.useRef(null);return Cu.useEffect(()=>{const o=new IntersectionObserver(([a])=>{a.isIntersecting&&s(!0)},{threshold:.1});return i.current&&o.observe(i.current),()=>o.disconnect()},[]),d.jsx("div",{ref:i,className:`transition-all duration-700 transform ${r?"opacity-100 translate-y-0":"opacity-0 translate-y-8"} ${n}`,style:{transitionDelay:`${e}ms`},children:t})},l6=()=>d.jsxs("div",{className:"max-w-3xl mx-auto px-6 py-12 relative",children:[d.jsx("div",{className:"absolute left-[43px] top-12 bottom-12 w-[2px] bg-[var(--color-border-primary)]"}),d.jsx("div",{className:"space-y-12",children:s6.map((t,e)=>d.jsx(As,{delay:e*100,children:d.jsxs("div",{className:"relative pl-24",children:[d.jsx("div",{className:"absolute left-0 top-0 w-12 h-12 rounded-full bg-[var(--color-bg-elevated)] border border-[var(--color-border-primary)] shadow-md flex items-center justify-center z-10",children:d.jsx(Zi,{emoji:t.icon,className:"w-6 h-6"})}),d.jsxs("div",{className:"bg-[var(--color-bg-elevated)] rounded-2xl p-8 shadow-md border border-[var(--color-border-primary)] hover:shadow-lg transition-shadow duration-300",children:[d.jsxs("div",{className:"flex flex-col gap-2 mb-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"text-2xl font-bold text-[var(--color-text-primary)] tracking-tight",children:t.title}),d.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full bg-[var(--color-surface-tertiary)] text-[var(--color-text-primary)] text-xs font-bold uppercase tracking-wider",children:t.timeframe})]}),d.jsx("p",{className:"text-[17px] text-[var(--color-text-secondary)] leading-relaxed",children:t.subtitle})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3 text-xs font-bold text-[var(--color-text-tertiary)] uppercase tracking-wider",children:[d.jsx(vT,{className:"w-4 h-4"}),d.jsx("span",{children:"Key Goals"})]}),d.jsx("div",{className:"bg-[var(--color-surface-secondary)] rounded-xl overflow-hidden border border-[var(--color-border-primary)]",children:t.goals.map((n,r)=>d.jsx("div",{className:`px-4 py-3 text-[15px] text-[var(--color-text-secondary)] ${r!==t.goals.length-1?"border-b border-[var(--color-border-primary)]":""}`,children:n},r))})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3 text-xs font-bold text-[var(--color-text-tertiary)] uppercase tracking-wider",children:[d.jsx(GN,{className:"w-4 h-4"}),d.jsx("span",{children:"Action Items"})]}),d.jsx("div",{className:"bg-[var(--color-surface-secondary)] rounded-xl overflow-hidden border border-[var(--color-border-primary)]",children:t.actions.map((n,r)=>d.jsxs("div",{className:`px-4 py-3 text-[15px] text-[var(--color-text-secondary)] flex items-start gap-3 ${r!==t.actions.length-1?"border-b border-[var(--color-border-primary)]":""}`,children:[d.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-[var(--color-text-primary)] mt-2 flex-shrink-0"}),d.jsx("span",{className:"leading-relaxed",children:n})]},r))})]})]})]})]})},t.id))})]}),c6=()=>d.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-12 space-y-8",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h1",{className:"text-4xl font-bold text-[var(--color-text-primary)] mb-4",children:"Mindset"}),d.jsx("p",{className:"text-[17px] text-[var(--color-text-secondary)]",children:"The psychological foundation for success."})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i6.map((t,e)=>d.jsx(As,{delay:e*80,className:"h-full",children:d.jsx("div",{className:"bg-[var(--color-bg-elevated)] rounded-3xl p-8 shadow-md border border-[var(--color-border-primary)] hover:shadow-lg transition-all duration-300 h-full flex flex-col",children:d.jsxs("div",{className:"flex items-start gap-6 flex-1",children:[d.jsx("div",{className:"w-12 h-12 rounded-2xl bg-[var(--color-surface-secondary)] flex items-center justify-center flex-shrink-0",children:d.jsx(Zi,{emoji:t.icon,className:"w-6 h-6"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h2",{className:"text-2xl font-bold text-[var(--color-text-primary)] mb-3",children:t.title}),d.jsx("p",{className:"text-[17px] text-[var(--color-text-secondary)] leading-relaxed mb-6",children:t.summary}),d.jsx("div",{className:"bg-[var(--color-surface-secondary)] rounded-2xl p-6 text-[15px] text-[var(--color-text-secondary)] leading-relaxed",children:t.details})]})]})})},e))})]}),u6=()=>{const{title:t,intro:e,faq:n,writingDirection:r}=o6;return d.jsxs("div",{className:"max-w-3xl mx-auto px-6 py-12 space-y-12",children:[d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("h1",{className:"text-4xl font-bold text-[var(--color-text-primary)]",children:t}),d.jsx("p",{className:"text-[17px] text-[var(--color-text-secondary)] leading-relaxed",children:e})]}),d.jsx(As,{children:d.jsx("div",{className:"bg-[var(--color-bg-elevated)] rounded-2xl p-8 shadow-sm border border-[var(--color-border-primary)]",children:d.jsxs("div",{className:"flex items-start gap-6",children:[d.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-xl text-blue-600 dark:text-blue-400",children:d.jsx(lN,{className:"w-6 h-6"})}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-xl font-bold text-[var(--color-text-primary)]",children:n.question}),d.jsx("div",{className:"space-y-2 text-[17px] text-[var(--color-text-secondary)] leading-relaxed",children:n.answer.map((s,i)=>d.jsx("p",{children:s},i))})]})]})})}),d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx(Uf,{className:"w-6 h-6 text-[var(--color-text-primary)]"}),d.jsx("h2",{className:"text-2xl font-bold text-[var(--color-text-primary)]",children:r.title})]}),d.jsx(As,{delay:100,children:d.jsxs("div",{className:"bg-[var(--color-surface-secondary)] border border-[var(--color-border-primary)] rounded-xl p-4 flex items-center gap-3 text-[var(--color-text-secondary)] font-medium",children:[d.jsx(DN,{className:"w-5 h-5 text-[var(--color-text-tertiary)]"}),r.wordCount]})}),d.jsx("div",{className:"space-y-6",children:[r.structure[0],r.structure[2],r.structure[1]].map((s,i)=>d.jsx(As,{delay:200+i*100,children:d.jsxs("div",{className:"bg-[var(--color-bg-elevated)] rounded-2xl p-8 shadow-sm border border-[var(--color-border-primary)]",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-6 pb-4 border-b border-[var(--color-border-primary)]",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-[var(--color-surface-secondary)] flex items-center justify-center text-xl",children:d.jsx("span",{className:"font-bold text-[var(--color-text-tertiary)]",children:i+1})}),d.jsx("h3",{className:"text-xl font-bold text-[var(--color-text-primary)]",children:s.title.replace(/^\d+\.\s*/,"")})]}),d.jsx("div",{className:"space-y-4 text-[17px] text-[var(--color-text-secondary)] leading-relaxed",children:s.content.map((o,a)=>/^\([a-z]\)/.test(o)?d.jsx("p",{className:"font-bold text-[var(--color-text-primary)] mt-4",children:o},a):d.jsxs("p",{className:o.startsWith("")?"pl-4 flex gap-2":"",children:[o.startsWith("")&&d.jsx("span",{className:"text-[var(--color-text-primary)]",children:""}),o.startsWith("")?o.substring(1):o]},a))})]})},i))})]})]})},h6=()=>{const{title:t,intro:e,modules:n,tasks:r}=a6;return d.jsxs("div",{className:"max-w-3xl mx-auto px-6 py-12 space-y-12",children:[d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("h1",{className:"text-4xl font-bold text-[var(--color-text-primary)]",children:t}),d.jsx("p",{className:"text-[17px] text-[var(--color-text-secondary)] leading-relaxed",children:e})]}),d.jsx("div",{className:"space-y-12",children:n.map((s,i)=>d.jsx(As,{delay:i*100,children:d.jsxs("div",{className:"space-y-6",children:[d.jsx("h2",{className:"text-2xl font-bold text-[var(--color-text-primary)] border-b border-[var(--color-border-primary)] pb-2",children:s.title}),d.jsx("div",{className:"space-y-6",children:s.lessons.map((o,a)=>d.jsxs("div",{className:"bg-[var(--color-bg-elevated)] rounded-2xl p-8 shadow-sm border border-[var(--color-border-primary)]",children:[d.jsx("h3",{className:"text-xl font-bold text-[var(--color-text-primary)] mb-4",children:o.title}),d.jsxs("div",{className:"mb-4 p-3 bg-[var(--color-surface-secondary)] rounded-xl text-sm text-[var(--color-text-secondary)]",children:[d.jsx("strong",{children:""}),o.goals]}),d.jsx("div",{className:"space-y-2 text-[17px] text-[var(--color-text-secondary)] leading-relaxed",children:o.content.map((l,u)=>d.jsx("p",{className:l.startsWith("")?"pl-4":"",children:l},u))})]},a))})]})},i))}),d.jsx(As,{delay:500,children:d.jsxs("div",{className:"bg-[var(--color-surface-secondary)] rounded-2xl p-8 border border-[var(--color-border-primary)]",children:[d.jsx("h2",{className:"text-2xl font-bold text-[var(--color-text-primary)] mb-6",children:""}),d.jsx("div",{className:"space-y-4",children:r.map((s,i)=>d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"w-6 h-6 rounded-full bg-[var(--color-text-primary)] text-[var(--color-bg-page)] flex items-center justify-center text-sm font-bold flex-shrink-0",children:i+1}),d.jsx("p",{className:"text-[17px] text-[var(--color-text-secondary)]",children:s})]},i))})]})})]})},d6=({lang:t})=>{const[e,n]=D.useState("timeline");return d.jsxs("div",{className:"min-h-screen bg-[var(--color-bg-page)] font-sans text-[var(--color-text-primary)]",children:[d.jsx("div",{className:"bg-[var(--color-bg-elevated)]/80 backdrop-blur-md border-b border-[var(--color-border-primary)] sticky top-0 z-40",children:d.jsx("div",{className:"max-w-3xl mx-auto px-6",children:d.jsx("div",{className:"flex items-center justify-between h-16",children:d.jsx("div",{className:"flex bg-[var(--color-surface-secondary)] p-1 rounded-full border border-[var(--color-border-primary)] mx-auto",children:[{id:"timeline",label:"Roadmap",emoji:""},{id:"mindset",label:"Mindset",emoji:""},{id:"ps",label:"Statement",emoji:""},{id:"referencing",label:"Citation",emoji:"",isNew:!0}].map(r=>{const s=e===r.id;return d.jsxs("button",{onClick:()=>n(r.id),className:`flex items-center gap-2 px-4 py-1.5 rounded-full text-sm font-medium transition-all duration-200 relative ${s?"bg-[var(--color-bg-elevated)] text-[var(--color-text-primary)] shadow-sm":"text-[var(--color-text-tertiary)] hover:text-[var(--color-text-primary)]"}`,children:[d.jsx("span",{className:"hidden sm:inline",children:r.label}),d.jsx("span",{className:"sm:hidden",children:r.emoji}),r.isNew&&d.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full animate-pulse"})]},r.id)})})})})}),d.jsxs("main",{className:"animate-fade-in pb-24",children:[e==="timeline"&&d.jsx(l6,{}),e==="mindset"&&d.jsx(c6,{}),e==="ps"&&d.jsx(u6,{}),e==="referencing"&&d.jsx(h6,{})]})]})},f6={title:"IGCSE Pearson Edexcel",author:"BA",ig:"@ba_jai14",sections:[{title:"1 ",content:["4A / 14 IGCSE","IGCSE  2 "," Pearson"," Cambridge"," exam  Pearson  level"," ACambridge  Pearson ","Pearson "," past paper","Past paper creditshttps://www.savemyexams.com/igcse/chinese/edexcel/past-papers/"]},{title:"2 ",content:["Pearson IGCSE Chinese ","1. Speaking ","2. Listening ","3. Reading & Writing "," Non-JUPAS "]},{title:"3 Speaking ",content:["3.1 "," Pearson  send email "," "," "," list  theme","3.2 ","   First Language (Cantonese)","  Mandarin","IELTS "]},{title:"4 Listening ",content:[""," Audio ","  2021  past paper ","","    "," ok"]},{title:"5 Reading & Writing ",content:[""," "," "," ",""]},{title:"6 ",content:["6.1 "," ","  draft  answer booklet "," answer blank draft ","6.2 ","  email "," ","6.3 ","  scan  marking","  highlighter",""," "]},{title:"7 ",content:["","  8  8  2426 ","   45 ",""," Login  Pearson  portal","  result"]},{title:"8 Non-JUPAS ",content:[""," Non-JUPAS application "," HKU NJS  IGCSE  close application","","","","  exam "," "," ","8.1 Request Extension","","1. send email  admissions office situation request extension","2.  Pearson  provisionalresult  screen cap ","3.   supporting document  email ","4.  official result  cert  instruction "," IGCSE "]}]},ul=({guide:t,emoji:e})=>{const n=r=>{const s=[];let i=[];return r.forEach((o,a)=>{const l=o.trim(),u=l.startsWith("")||l.startsWith("-")||/^\d+\./.test(l),h=f=>f.split(/(\*\*.*?\*\*)/g).map((v,I)=>v.startsWith("**")&&v.endsWith("**")?d.jsx("strong",{className:"font-semibold text-gray-900",children:v.slice(2,-2)},I):v);if(u){const f=l.replace(/^[-]\s*/,"").replace(/^\d+\.\s*/,"");i.push(d.jsx("div",{className:"py-4 border-b border-gray-100 last:border-0 flex items-start gap-3",children:d.jsx("span",{className:"text-[17px] leading-relaxed text-gray-600",children:h(f)})},`list-${a}`))}else i.length>0&&(s.push(d.jsx("div",{className:"my-2 pl-0",children:i},`group-${a}`)),i=[]),s.push(d.jsx("p",{className:"text-[17px] leading-relaxed text-gray-600 mb-4 last:mb-0",children:h(o)},a))}),i.length>0&&s.push(d.jsx("div",{className:"my-2 pl-0",children:i},"group-last")),s};return d.jsxs("div",{className:"max-w-3xl mx-auto",children:[d.jsxs("div",{className:"mb-12 text-center",children:[e&&d.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-[24px] bg-white shadow-md mb-8 border border-black/5",children:d.jsx(Zi,{emoji:e,className:"w-10 h-10"})}),d.jsx("h1",{className:"text-4xl font-semibold tracking-tight text-gray-900 mb-6",children:t.title}),t.intro&&d.jsx("p",{className:"text-xl text-gray-500 leading-relaxed max-w-2xl mx-auto",children:t.intro})]}),d.jsx("div",{className:"space-y-8",children:t.sections.map((r,s)=>d.jsxs("div",{className:"bg-white rounded-[24px] p-8 md:p-10 shadow-sm border border-black/5",children:[d.jsx("h2",{className:"text-2xl font-medium text-gray-900 mb-6",children:r.title}),d.jsx("div",{children:n(r.content)})]},s))})]})},p6=()=>d.jsx(ul,{guide:f6,emoji:""}),m6={title:"Yr1  Year 1 ",intro:" Asso/HD  Year 1 ",sections:[{title:"1) ",content:[" Yr1  Year 1 Entry  Senior EntryTop-up ","","  Year 1 Entry "," "," Asso/HD Yr1 "]},{title:"2) Yr1 ",content:["Yr1  DSE  Asso/HD ",""," DSE "," Best 5 ","  Asso/HD Yr1  DSE "]},{title:"3) ",content:[" Yr1 "," "," IELTS  IELTS "]},{title:"4)  DSE vs  IELTS",content:["","","1.  DSE"," ","  IELTS ","2.  IELTS"," ","IELTS "]},{title:"5) ",content:["Yr1 ","  Local Year 1 Entry","  Non-local Year 1 Entry",""]},{title:"6) ",content:[" DSE "," DSE "]},{title:"7) ",content:["Yr1 "," Personal Statement"," Reference Letter"," DSE "," IELTS"," ",""]},{title:"8) Reference Letter",content:[""," "," ",""]},{title:"9) Asso/HD ",content:["Yr1  Asso/HD ",""," "," "," early round"]},{title:"10) ",content:[""," Latest GPA GPA  NA0.00 "," No. of Years Completed Yr1 0.0 0.5"," Expected Date of Completion Asso/HD Yr2 Yr1"," Final GPA CGPA"]},{title:"11) ",content:["","Yr1 "]},{title:"12) ",content:[""]}]},g6=()=>d.jsx(ul,{guide:m6,emoji:"",titleImageBaseName:"yr1_title"}),y6={title:"Full Cert",intro:" IGba_jai14  highlight",sections:[{title:"1)  Full Cert",content:["Full Cert  Best 5 / Best 6 ",""," 332(A)22 / 33","  elective  22  33",""]},{title:"2) ",content:[""," Best 5 "]},{title:"3) ",content:["  ABest 5 15    Full Cert","  BBest 5 19  2  ","A ","A  B "," Year 1 Entry Full Cert "," Year 2 DSE "]},{title:"4) ",content:["","  2 IGCSE    DSE ","  2 IELTS   DSE ","  1  DSE "]},{title:"5) IGCSE / IELTS ",content:["IGCSE "," "," A*  A A* A ","  DSE ","IELTS","  6.5 6.0","  5.5",""]},{title:"6)  Full Cert",content:["",""," ","  2 ","GPA"," supporting documents"]},{title:"",content:[" Year 1 Entry"," Full Cert "]}]},v6=()=>d.jsx(ul,{guide:y6,emoji:""}),_6={title:"Non-JUPAS ",intro:"123",sections:[{title:"1) ",content:["Credibility","","Readiness / Fit","","Coachability",""," "]},{title:"2) ",content:[""," "," "," ","",""]},{title:"3) Personal Statement ",content:[" Personal Statement  Personal Statement  610 "," ****"," ****"," ****"," "," "," research "," "]},{title:"4) ",content:[""," ****"," ****"," ****","",""]},{title:"5) ",content:[""," "," "," "," ","",""]},{title:"6) ",content:[""," "," "," "," ","Im not entirely certain, but based on my current understanding","If I reason through it, I would","To verify this, I would look into"]},{title:"7) ",content:[""," "," "," "]},{title:"8) ",content:[" ****"," ****"," ****"]}]},x6=()=>d.jsx(ul,{guide:_6,emoji:""}),w6={title:"Offer & ",intro:" offer",sections:[{title:"Offer Conditional vs Direct",content:["","  Conditional Offer","  Direct Offer","1. Conditional Offer","",""," CGPA  CGPA  3.xx "," DSE IGCSE / GCSE IELTS ","  fulfill","2. Direct Offer",""]},{title:"Deposit",content:[" offer","1. "," HK$5,000  offer ","2. "," offer","Conditional Offer  Conditional Offer ","3. ","  Deadline  =   ","    admission / registry / ","    admission "]},{title:"",content:[" offer","1. ","",""," "," "," ","  30 ","2. ",""]},{title:"",content:["",""," "," "," ",""]},{title:"",content:["","","","",""]}],summary:" Offer  Deadline ",footer:""},E6=()=>d.jsx(ul,{guide:w6,emoji:""}),T6=[{id:"task1-essay1",title:"Electrical Appliances & Housework (1920-2019)",date:"1.5.2026",type:"task1",intro:"The first line graph delineates the changes of percentage distribution of three types of electrical appliances owned in a nation spanning from the year 1920 to 2019 and the second line graph records the amount of time each household does the chores.",sections:[{id:"s1",title:"Introduction - Sentence 1",original:"The first line graph delineates the changes of percentage distribution of three types of electrical appliances owned in a nation spanning from the year 1920 to 2019 and the second line graph records the amount of time each household does the chores.",critique:{cantonese:["delineates the changes of percentage distribution Dowden  saying little with lots of words / being pseudoprecise technical  reader  decode","","does the chores  hours per week spent on housework"],logical:["Not a classic fallacy, but: Being too vague / pseudoprecise in description.","Giving too many details in one sentence, hurting clarity and tailoring to your audience."]},improvement:{rewrite:"The first line graph shows how the proportion of households in a particular country owning washing machines, refrigerators and vacuum cleaners changed between 1920 and 2019, while the second graph shows the number of hours per week each household spent on housework over the same period.",patterns:"The first graph shows how + noun phrase + changed between YEAR and YEAR, while the second graph shows + noun phrase + over the same period.",flow:"Task 1  opening   Dowden description  explanation  argument"}},{id:"s2",title:"Introduction - Sentence 2",original:"Overall, the ownership of the 3 types of electrical appliances was shown increasing in this century, whereby refrigerators and vacuum cleaners have been completely publicised; also, the allocated time for doing housework first plummeted and eventually stabilised over time.",critique:{cantonese:["in this century  19202019 ","completely publicised  became almost/universally owned"," ownership  +  main idea  overall trend","first plummeted and eventually stabilised OK"],logical:["Being too vague / too general about time (this century).","Minor non sequitur risk implicitly appliances   hours  overall  summarise patternDowden  correlation  causation"]},improvement:{rewrite:"Overall, ownership of all three appliances rose substantially, with refrigerators and vacuum cleaners becoming almost universal, whereas the time spent on housework fell sharply at first and then levelled off.",patterns:"Overall, + noun phrase + rose/fell, with X and Y , whereas Z   whereas  clear  examiner  inverse relationship vs ",flow:"Overview  appliances 100% hours thanks to / because Dowden correlation  causationdont draw stronger conclusions than your evidence supports"}},{id:"b1",title:"Body Paragraph - Sentence 1",original:"Examining the percentage distribution of appliance ownership in detail, Refrigerator was the first to achieve full publicised among its counterparts, with a drastic 50%-increase from 1920-1940 and 40% increase in the later two decades until reaching 100% in the 80s, though it was the least popular electrical appliance with less than 10% ownership.",critique:{cantonese:["Refrigerator was the first full publicised  fully adopted / reach 100%.","drastic 50%-increase  a  increase in the proportion of households owning refrigerators","later two decades  19401960","though it was the least popular  first to reach 100% "],logical:["Giving too many details in one sentence   clause Dowden  precision"," popular 100%"]},improvement:{rewrite:"Looking first at refrigerators, their ownership climbed from under 10% in 1920 to around 60% by 1940, and then rose more steadily to reach 100% by about 1980, making them the first appliance to become almost universal.",patterns:"Looking first at X, its ownership climbed from A in YEAR to B by YEAR, and then rose more steadily to reach C by YEAR, making it the first       making it ",flow:"  "}},{id:"b2",title:"Body Paragraph - Sentence 2",original:"Vacuum cleaners, likewise, started from 30% ownership and experienced a stable increase of 20% for each interval, and eventually reached 100% ownership in the millenium.",critique:{cantonese:["likewise OK refrigerator pattern ","a stable increase of 20% for each interval  over-general 20%","in the millenium  by 2000  by the end of the period"],logical:["Being too general / pseudoprecise each interval 20% "]},improvement:{rewrite:"Similarly, the proportion of households with vacuum cleaners rose from about 30% at the start of the period to 100% by around 2000, with fairly consistent growth between each recorded year.",patterns:"Similarly, the proportion of households with X rose from about A at the start of the period to B by YEAR, with fairly consistent growth between each recorded year. about / around / fairly consistent  IELTS  hedging",flow:" Similarly  vacuum cleaner  refrigerator parallel  + consistent growth"}},{id:"b3",title:"Body Paragraph - Sentence 3",original:"Washing machine, started with being the most popular item in the 20s with 40% ownership, could not raise its popularity and still hovered around 70% ownership in the year 2019 after a plummet and outperformed, and the disparity was widened by 30% by vacuum cleaner in the 60s and 80s correspondingly.",critique:{cantonese:[" The washing machine.","could not raise its popularity and still hovered","after a plummet and outperformed "," 30%"],logical:["Being too vague / too compressed information "]},improvement:{rewrite:"In contrast, washing machines were the most common appliance in 1920, at around 40%, but their ownership grew much more slowly, fluctuating before rising to only about 70% by 2019, so that they lagged well behind vacuum cleaners in the middle and later decades.",patterns:"In contrast, X were the most common  at around A, but their ownership grew much more slowly, fluctuating before rising to only about B by YEAR, so that they lagged well behind Y   In contrast + lagged well behind ",flow:" baseline popular  slow / fluctuating growth   2019   30% Task 1  gap"}},{id:"c1",title:"Conclusion / Last Paragraph",original:"Thanks to the raising popularity of electrical appliance automation, the amount of time dedicated to housework has reflected a disproportionate relationship, of which the number of hours spending per household dropped by 30 hours to only 20 hours in 1960s from 1920s, and a relatively slight decrease was witnessed from then on, hovering in between 10 hours to 20 hours per week.",critique:{cantonese:["Thanks to =  claimTask 1  correlation non sequitur / unwarranted causal inference","reflected a disproportionate relationship  collocation Dowden  saying little with lots of words","dropped by 30 hours to only 20 hours in 1960s from 1920s  from about 50 to 20 hours per week between 1920 and 1960","hovering in between 10 hours to 20 hours  between 10 and 20 hours"],logical:["Non sequitur / correlation-causation thanks to    reasoning error "]},improvement:{rewrite:"Turning to the second graph, the average amount of time each household spent on housework fell dramatically from about 50 hours per week in 1920 to around 20 hours by 1960, and then declined more gradually, fluctuating between roughly 10 and 20 hours per week thereafter.",patterns:"Turning to the second graph, the average amount of time each household spent on X fell from about A in YEAR to around B by YEAR, and then declined more gradually, fluctuating between roughly C and D thereafter.  Turning to ",flow:"dramatically fell  then gradually declined / fluctuated thanks to / because  "}}]}],S6=({lang:t})=>{const[e,n]=D.useState("task1"),[r,s]=D.useState(null),i=t==="EN",o=T6.filter(a=>a.type===e);return r?d.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12 animate-fade-in",children:[d.jsxs("button",{onClick:()=>s(null),className:"flex items-center gap-2 text-[var(--color-text-tertiary)] hover:text-[var(--color-text-primary)] transition-colors mb-8 font-medium",children:[d.jsx(tN,{size:20}),i?"Back to Essays":""]}),d.jsxs("div",{className:"mb-12",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("span",{className:"px-3 py-1 rounded-full bg-[var(--color-surface-tertiary)] text-xs font-bold uppercase tracking-wider text-[var(--color-text-secondary)]",children:r.type==="task1"?"Task 1":"Task 2"}),d.jsx("span",{className:"text-[var(--color-text-tertiary)] text-sm font-medium",children:r.date})]}),d.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-[var(--color-text-primary)] mb-6 leading-tight",children:r.title}),d.jsxs("div",{className:"p-6 bg-[var(--color-surface-secondary)] rounded-2xl border border-[var(--color-border-primary)]",children:[d.jsx("h3",{className:"text-xs font-bold text-[var(--color-text-tertiary)] uppercase tracking-wider mb-2",children:i?"Topic / Prompt":" / "}),d.jsx("p",{className:"text-lg text-[var(--color-text-secondary)] leading-relaxed",children:r.intro})]})]}),d.jsx("div",{className:"space-y-16",children:r.sections.map(a=>d.jsxs("div",{className:"relative",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[d.jsx("div",{className:"h-px flex-1 bg-[var(--color-border-primary)]"}),d.jsx("h2",{className:"text-sm font-bold text-[var(--color-text-tertiary)] uppercase tracking-widest",children:a.title}),d.jsx("div",{className:"h-px flex-1 bg-[var(--color-border-primary)]"})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[d.jsxs("div",{className:"bg-red-50/50 dark:bg-red-900/10 rounded-3xl p-6 border border-red-100 dark:border-red-500/20",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4 text-red-600 dark:text-red-400 font-bold text-sm uppercase tracking-wide",children:[d.jsx(yT,{size:16}),"Original"]}),d.jsxs("p",{className:"text-[17px] leading-relaxed text-[var(--color-text-secondary)] font-serif",children:['"',a.original,'"']})]}),d.jsxs("div",{className:"bg-green-50/50 dark:bg-green-900/10 rounded-3xl p-6 border border-green-100 dark:border-green-500/20 shadow-sm",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4 text-green-600 dark:text-green-400 font-bold text-sm uppercase tracking-wide",children:[d.jsx(oN,{size:16}),"Band 9 Rewrite"]}),d.jsxs("p",{className:"text-[17px] leading-relaxed text-[var(--color-text-primary)] font-medium font-serif",children:['"',a.improvement.rewrite,'"']})]})]}),d.jsx("div",{className:"bg-[var(--color-bg-elevated)] rounded-3xl border border-[var(--color-border-primary)] overflow-hidden shadow-sm",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 divide-y md:divide-y-0 md:divide-x divide-[var(--color-border-primary)]",children:[d.jsxs("div",{className:"p-6 md:p-8",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-6 text-[var(--color-text-primary)] font-bold",children:[d.jsx("div",{className:"p-1.5 bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 rounded-lg",children:d.jsx(YR,{size:18})}),"Analysis & Logic"]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-3",children:"Critique (Cantonese)"}),d.jsx("ul",{className:"space-y-2",children:a.critique.cantonese.map((l,u)=>d.jsxs("li",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-start gap-2",children:[d.jsx("span",{className:"mt-1.5 w-1 h-1 rounded-full bg-gray-400 flex-shrink-0"}),d.jsx("span",{children:l})]},u))})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-3",children:"Logical Reasoning"}),d.jsx("ul",{className:"space-y-2",children:a.critique.logical.map((l,u)=>d.jsxs("li",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-start gap-2",children:[d.jsx("span",{className:"mt-1.5 w-1 h-1 rounded-full bg-gray-400 flex-shrink-0"}),d.jsx("span",{children:l})]},u))})]})]})]}),d.jsxs("div",{className:"p-6 md:p-8 bg-gray-50/50 dark:bg-white/[0.02]",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-6 text-gray-900 dark:text-white font-bold",children:[d.jsx("div",{className:"p-1.5 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-lg",children:d.jsx(Uf,{size:18})}),"Key Takeaways"]}),d.jsxs("div",{className:"space-y-6",children:[a.improvement.patterns&&d.jsxs("div",{children:[d.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-3",children:"Sentence Patterns"}),d.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed bg-white dark:bg-black/20 p-3 rounded-xl border border-gray-100 dark:border-white/5",children:a.improvement.patterns})]}),a.improvement.flow&&d.jsxs("div",{children:[d.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-3",children:"Logical Flow"}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 leading-relaxed",children:a.improvement.flow})]})]})]})]})})]},a.id))})]}):d.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-12",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-[24px] bg-white dark:bg-white/10 shadow-sm mb-6 border border-gray-100 dark:border-white/5",children:d.jsx(Zi,{emoji:"",className:"w-10 h-10"})}),d.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4 tracking-tight",children:"IELTS Preparation"}),d.jsx("p",{className:"text-xl text-gray-500 dark:text-gray-400 max-w-2xl mx-auto",children:i?"Master Task 1 and Task 2 with detailed breakdowns.":" Task 1  Task 2"})]}),d.jsx("div",{className:"flex justify-center mb-12",children:d.jsxs("div",{className:"bg-gray-100 dark:bg-white/10 p-1.5 rounded-2xl inline-flex",children:[d.jsx("button",{onClick:()=>n("task1"),className:`px-8 py-3 rounded-xl text-sm font-bold transition-all ${e==="task1"?"bg-white dark:bg-[#1C1C1E] text-black dark:text-white shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-black dark:hover:text-white"}`,children:"Task 1 (Academic)"}),d.jsx("button",{onClick:()=>n("task2"),className:`px-8 py-3 rounded-xl text-sm font-bold transition-all ${e==="task2"?"bg-white dark:bg-[#1C1C1E] text-black dark:text-white shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-black dark:hover:text-white"}`,children:"Task 2 (Essay)"})]})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.map(a=>d.jsxs("div",{onClick:()=>s(a),className:"group bg-white dark:bg-[#1C1C1E] rounded-3xl p-8 border border-gray-200 dark:border-white/10 hover:border-black/20 dark:hover:border-white/30 hover:shadow-xl transition-all duration-300 cursor-pointer relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-10 group-hover:opacity-20 transition-opacity transform group-hover:scale-110 duration-500",children:d.jsx(gT,{size:120})}),d.jsxs("div",{className:"relative z-10",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("span",{className:"px-3 py-1 rounded-lg bg-gray-100 dark:bg-white/10 text-xs font-bold text-gray-600 dark:text-gray-300 uppercase tracking-wider",children:a.date}),d.jsx("span",{className:"px-3 py-1 rounded-lg bg-blue-50 dark:bg-blue-900/20 text-xs font-bold text-blue-600 dark:text-blue-400 uppercase tracking-wider",children:"Analysis"})]}),d.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:a.title}),d.jsx("p",{className:"text-gray-500 dark:text-gray-400 line-clamp-2 mb-8 leading-relaxed",children:a.intro}),d.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-black dark:text-white group-hover:translate-x-2 transition-transform",children:["Read Analysis ",d.jsx(GR,{size:16})]})]})]},a.id)),o.length===0&&d.jsxs("div",{className:"col-span-full text-center py-20 border-2 border-dashed border-gray-200 dark:border-white/10 rounded-3xl",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-50 dark:bg-white/5 mb-4",children:d.jsx(Uf,{className:"w-8 h-8 text-gray-300"})}),d.jsx("p",{className:"text-gray-400 font-medium",children:"No essays added yet."})]})]})]})},I6=()=>d.jsx("footer",{children:d.jsx("div",{className:"w-full border-t border-[var(--border-subtle)] bg-[var(--bg)]",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:d.jsx("div",{className:"flex justify-center",children:d.jsxs("div",{className:"max-w-3xl text-[13px] text-[var(--text-muted)] leading-relaxed",children:[d.jsx("p",{className:"mb-3",children:""}),d.jsx("p",{className:"mb-2",children:""}),d.jsx("p",{className:"mb-2",children:""}),d.jsx("p",{className:"mb-0",children:""}),d.jsx("div",{className:"mt-4 text-center",children:d.jsxs("span",{className:"text-xs text-[var(--text-muted)]",children:[" ",d.jsx("a",{href:"https://www.instagram.com/baaa.14_?igsh=OTAwZ3Fuemx4OWg5&utm_source=qr",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"@baaa.14_"})]})})]})})})})}),$g=D.createContext({});function zg(t){const e=D.useRef(null);return e.current===null&&(e.current=t()),e.current}const Wg=typeof window<"u",gA=Wg?D.useLayoutEffect:D.useEffect,dh=D.createContext(null);function Gg(t,e){t.indexOf(e)===-1&&t.push(e)}function Hg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const rr=(t,e,n)=>n>e?e:n<t?t:n;let qg=()=>{};const sr={},yA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function vA(t){return typeof t=="object"&&t!==null}const _A=t=>/^0[^.\s]+$/u.test(t);function Kg(t){let e;return()=>(e===void 0&&(e=t()),e)}const en=t=>t,A6=(t,e)=>n=>e(t(n)),hl=(...t)=>t.reduce(A6),za=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Qg{constructor(){this.subscriptions=[]}add(e){return Gg(this.subscriptions,e),()=>Hg(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const jn=t=>t*1e3,Jt=t=>t/1e3;function xA(t,e){return e?t*(1e3/e):0}const wA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,b6=1e-7,C6=12;function k6(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=wA(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>b6&&++a<C6);return o}function dl(t,e,n,r){if(t===e&&n===r)return en;const s=i=>k6(i,0,1,t,n);return i=>i===0||i===1?i:wA(s(i),e,r)}const EA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,TA=t=>e=>1-t(1-e),SA=dl(.33,1.53,.69,.99),Yg=TA(SA),IA=EA(Yg),AA=t=>(t*=2)<1?.5*Yg(t):.5*(2-Math.pow(2,-10*(t-1))),Xg=t=>1-Math.sin(Math.acos(t)),bA=TA(Xg),CA=EA(Xg),P6=dl(.42,0,1,1),R6=dl(0,0,.58,1),kA=dl(.42,0,.58,1),N6=t=>Array.isArray(t)&&typeof t[0]!="number",PA=t=>Array.isArray(t)&&typeof t[0]=="number",D6={linear:en,easeIn:P6,easeInOut:kA,easeOut:R6,circIn:Xg,circInOut:CA,circOut:bA,backIn:Yg,backInOut:IA,backOut:SA,anticipate:AA},V6=t=>typeof t=="string",Nx=t=>{if(PA(t)){qg(t.length===4);const[e,n,r,s]=t;return dl(e,n,r,s)}else if(V6(t))return D6[t];return t},Zl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function j6(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(h){o.has(h)&&(u.schedule(h),t()),h(a)}const u={schedule:(h,f=!1,m=!1)=>{const I=m&&s?n:r;return f&&o.add(h),I.has(h)||I.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(l),n.clear(),s=!1,i&&(i=!1,u.process(h))}};return u}const M6=40;function RA(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Zl.reduce((w,P)=>(w[P]=j6(i),w),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:h,update:f,preRender:m,render:v,postRender:I}=o,S=()=>{const w=sr.useManualTiming?s.timestamp:performance.now();n=!1,sr.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(w-s.timestamp,M6),1)),s.timestamp=w,s.isProcessing=!0,a.process(s),l.process(s),u.process(s),h.process(s),f.process(s),m.process(s),v.process(s),I.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(S))},A=()=>{n=!0,r=!0,s.isProcessing||t(S)};return{schedule:Zl.reduce((w,P)=>{const N=o[P];return w[P]=(V,T=!1,_=!1)=>(n||A(),N.schedule(V,T,_)),w},{}),cancel:w=>{for(let P=0;P<Zl.length;P++)o[Zl[P]].cancel(w)},state:s,steps:o}}const{schedule:Te,cancel:Qr,state:tt,steps:Cd}=RA(typeof requestAnimationFrame<"u"?requestAnimationFrame:en,!0);let Ic;function L6(){Ic=void 0}const Rt={now:()=>(Ic===void 0&&Rt.set(tt.isProcessing||sr.useManualTiming?tt.timestamp:performance.now()),Ic),set:t=>{Ic=t,queueMicrotask(L6)}},NA=t=>e=>typeof e=="string"&&e.startsWith(t),DA=NA("--"),O6=NA("var(--"),Jg=t=>O6(t)?F6.test(t.split("/*")[0].trim()):!1,F6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,oo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Wa={...oo,transform:t=>rr(0,1,t)},ec={...oo,default:1},ua=t=>Math.round(t*1e5)/1e5,Zg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function U6(t){return t==null}const B6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ey=(t,e)=>n=>!!(typeof n=="string"&&B6.test(n)&&n.startsWith(t)||e&&!U6(n)&&Object.prototype.hasOwnProperty.call(n,e)),VA=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(Zg);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},$6=t=>rr(0,255,t),kd={...oo,transform:t=>Math.round($6(t))},vs={test:ey("rgb","red"),parse:VA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+kd.transform(t)+", "+kd.transform(e)+", "+kd.transform(n)+", "+ua(Wa.transform(r))+")"};function z6(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const wp={test:ey("#"),parse:z6,transform:vs.transform},fl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),mr=fl("deg"),Mn=fl("%"),Z=fl("px"),W6=fl("vh"),G6=fl("vw"),Dx={...Mn,parse:t=>Mn.parse(t)/100,transform:t=>Mn.transform(t*100)},gi={test:ey("hsl","hue"),parse:VA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Mn.transform(ua(e))+", "+Mn.transform(ua(n))+", "+ua(Wa.transform(r))+")"},Fe={test:t=>vs.test(t)||wp.test(t)||gi.test(t),parse:t=>vs.test(t)?vs.parse(t):gi.test(t)?gi.parse(t):wp.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?vs.transform(t):gi.transform(t),getAnimatableNone:t=>{const e=Fe.parse(t);return e.alpha=0,Fe.transform(e)}},H6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function q6(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Zg))==null?void 0:e.length)||0)+(((n=t.match(H6))==null?void 0:n.length)||0)>0}const jA="number",MA="color",K6="var",Q6="var(",Vx="${}",Y6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ga(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(Y6,l=>(Fe.test(l)?(r.color.push(i),s.push(MA),n.push(Fe.parse(l))):l.startsWith(Q6)?(r.var.push(i),s.push(K6),n.push(l)):(r.number.push(i),s.push(jA),n.push(parseFloat(l))),++i,Vx)).split(Vx);return{values:n,split:a,indexes:r,types:s}}function LA(t){return Ga(t).values}function OA(t){const{split:e,types:n}=Ga(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===jA?i+=ua(s[o]):a===MA?i+=Fe.transform(s[o]):i+=s[o]}return i}}const X6=t=>typeof t=="number"?0:Fe.test(t)?Fe.getAnimatableNone(t):t;function J6(t){const e=LA(t);return OA(t)(e.map(X6))}const Yr={test:q6,parse:LA,createTransformer:OA,getAnimatableNone:J6};function Pd(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Z6({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=Pd(l,a,t+1/3),i=Pd(l,a,t),o=Pd(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function wu(t,e){return n=>n>0?e:t}const Ie=(t,e,n)=>t+(e-t)*n,Rd=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},eF=[wp,vs,gi],tF=t=>eF.find(e=>e.test(t));function jx(t){const e=tF(t);if(!e)return!1;let n=e.parse(t);return e===gi&&(n=Z6(n)),n}const Mx=(t,e)=>{const n=jx(t),r=jx(e);if(!n||!r)return wu(t,e);const s={...n};return i=>(s.red=Rd(n.red,r.red,i),s.green=Rd(n.green,r.green,i),s.blue=Rd(n.blue,r.blue,i),s.alpha=Ie(n.alpha,r.alpha,i),vs.transform(s))},Ep=new Set(["none","hidden"]);function nF(t,e){return Ep.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function rF(t,e){return n=>Ie(t,e,n)}function ty(t){return typeof t=="number"?rF:typeof t=="string"?Jg(t)?wu:Fe.test(t)?Mx:oF:Array.isArray(t)?FA:typeof t=="object"?Fe.test(t)?Mx:sF:wu}function FA(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>ty(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function sF(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=ty(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function iF(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],a=t.values[o]??0;n[s]=a,r[i]++}return n}const oF=(t,e)=>{const n=Yr.createTransformer(e),r=Ga(t),s=Ga(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Ep.has(t)&&!s.values.length||Ep.has(e)&&!r.values.length?nF(t,e):hl(FA(iF(r,s),s.values),n):wu(t,e)};function UA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ie(t,e,n):ty(t)(t,e)}const aF=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Te.update(e,n),stop:()=>Qr(e),now:()=>tt.isProcessing?tt.timestamp:Rt.now()}},BA=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Eu=2e4;function ny(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Eu;)e+=n,r=t.next(e);return e>=Eu?1/0:e}function lF(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(ny(r),Eu);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Jt(s)}}const cF=5;function $A(t,e,n){const r=Math.max(e-cF,0);return xA(n-t(r),e-r)}const Re={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Nd=.001;function uF({duration:t=Re.duration,bounce:e=Re.bounce,velocity:n=Re.velocity,mass:r=Re.mass}){let s,i,o=1-e;o=rr(Re.minDamping,Re.maxDamping,o),t=rr(Re.minDuration,Re.maxDuration,Jt(t)),o<1?(s=u=>{const h=u*o,f=h*t,m=h-n,v=Tp(u,o),I=Math.exp(-f);return Nd-m/v*I},i=u=>{const f=u*o*t,m=f*n+n,v=Math.pow(o,2)*Math.pow(u,2)*t,I=Math.exp(-f),S=Tp(Math.pow(u,2),o);return(-s(u)+Nd>0?-1:1)*((m-v)*I)/S}):(s=u=>{const h=Math.exp(-u*t),f=(u-n)*t+1;return-Nd+h*f},i=u=>{const h=Math.exp(-u*t),f=(n-u)*(t*t);return h*f});const a=5/t,l=dF(s,i,a);if(t=jn(t),isNaN(l))return{stiffness:Re.stiffness,damping:Re.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const hF=12;function dF(t,e,n){let r=n;for(let s=1;s<hF;s++)r=r-t(r)/e(r);return r}function Tp(t,e){return t*Math.sqrt(1-e*e)}const fF=["duration","bounce"],pF=["stiffness","damping","mass"];function Lx(t,e){return e.some(n=>t[n]!==void 0)}function mF(t){let e={velocity:Re.velocity,stiffness:Re.stiffness,damping:Re.damping,mass:Re.mass,isResolvedFromDuration:!1,...t};if(!Lx(t,pF)&&Lx(t,fF))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*rr(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Re.mass,stiffness:s,damping:i}}else{const n=uF(t);e={...e,...n,mass:Re.mass},e.isResolvedFromDuration=!0}return e}function Tu(t=Re.visualDuration,e=Re.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:u,mass:h,duration:f,velocity:m,isResolvedFromDuration:v}=mF({...n,velocity:-Jt(n.velocity||0)}),I=m||0,S=u/(2*Math.sqrt(l*h)),A=o-i,x=Jt(Math.sqrt(l/h)),y=Math.abs(A)<5;r||(r=y?Re.restSpeed.granular:Re.restSpeed.default),s||(s=y?Re.restDelta.granular:Re.restDelta.default);let w;if(S<1){const N=Tp(x,S);w=V=>{const T=Math.exp(-S*x*V);return o-T*((I+S*x*A)/N*Math.sin(N*V)+A*Math.cos(N*V))}}else if(S===1)w=N=>o-Math.exp(-x*N)*(A+(I+x*A)*N);else{const N=x*Math.sqrt(S*S-1);w=V=>{const T=Math.exp(-S*x*V),_=Math.min(N*V,300);return o-T*((I+S*x*A)*Math.sinh(_)+N*A*Math.cosh(_))/N}}const P={calculatedDuration:v&&f||null,next:N=>{const V=w(N);if(v)a.done=N>=f;else{let T=N===0?I:0;S<1&&(T=N===0?jn(I):$A(w,N,V));const _=Math.abs(T)<=r,b=Math.abs(o-V)<=s;a.done=_&&b}return a.value=a.done?o:V,a},toString:()=>{const N=Math.min(ny(P),Eu),V=BA(T=>P.next(N*T).value,N,30);return N+"ms "+V},toTransition:()=>{}};return P}Tu.applyToOptions=t=>{const e=lF(t,100,Tu);return t.ease=e.ease,t.duration=jn(e.duration),t.type="keyframes",t};function Sp({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:h}){const f=t[0],m={done:!1,value:f},v=_=>a!==void 0&&_<a||l!==void 0&&_>l,I=_=>a===void 0?l:l===void 0||Math.abs(a-_)<Math.abs(l-_)?a:l;let S=n*e;const A=f+S,x=o===void 0?A:o(A);x!==A&&(S=x-f);const y=_=>-S*Math.exp(-_/r),w=_=>x+y(_),P=_=>{const b=y(_),C=w(_);m.done=Math.abs(b)<=u,m.value=m.done?x:C};let N,V;const T=_=>{v(m.value)&&(N=_,V=Tu({keyframes:[m.value,I(m.value)],velocity:$A(w,_,m.value),damping:s,stiffness:i,restDelta:u,restSpeed:h}))};return T(0),{calculatedDuration:null,next:_=>{let b=!1;return!V&&N===void 0&&(b=!0,P(_),T(_)),N!==void 0&&_>=N?V.next(_-N):(!b&&P(_),m)}}}function gF(t,e,n){const r=[],s=n||sr.mix||UA,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||en:e;a=hl(l,a)}r.push(a)}return r}function yF(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(qg(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=gF(e,r,s),l=a.length,u=h=>{if(o&&h<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(h<t[f+1]);f++);const m=za(t[f],t[f+1],h);return a[f](m)};return n?h=>u(rr(t[0],t[i-1],h)):u}function vF(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=za(0,e,r);t.push(Ie(n,1,s))}}function _F(t){const e=[0];return vF(e,t.length-1),e}function xF(t,e){return t.map(n=>n*e)}function wF(t,e){return t.map(()=>e||kA).splice(0,t.length-1)}function ha({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=N6(r)?r.map(Nx):Nx(r),i={done:!1,value:e[0]},o=xF(n&&n.length===e.length?n:_F(e),t),a=yF(o,e,{ease:Array.isArray(s)?s:wF(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const EF=t=>t!==null;function ry(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(EF),a=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const TF={decay:Sp,inertia:Sp,tween:ha,keyframes:ha,spring:Tu};function zA(t){typeof t.type=="string"&&(t.type=TF[t.type])}class sy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const SF=t=>t/100;class iy extends sy{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Rt.now()&&this.tick(Rt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;zA(e);const{type:n=ha,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const l=n||ha;l!==ha&&typeof a[0]!="number"&&(this.mixKeyframes=hl(SF,UA(a[0],a[1])),a=[0,100]);const u=l({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=ny(u));const{calculatedDuration:h}=u;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:h,repeat:f,repeatType:m,repeatDelay:v,type:I,onUpdate:S,finalKeyframe:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const x=this.currentTime-u*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?x<0:x>s;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let w=this.currentTime,P=r;if(f){const _=Math.min(this.currentTime,s)/a;let b=Math.floor(_),C=_%1;!C&&_>=1&&(C=1),C===1&&b--,b=Math.min(b,f+1),!!(b%2)&&(m==="reverse"?(C=1-C,v&&(C-=v/a)):m==="mirror"&&(P=o)),w=rr(0,1,C)*a}const N=y?{done:!1,value:h[0]}:P.next(w);i&&(N.value=i(N.value));let{done:V}=N;!y&&l!==null&&(V=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return T&&I!==Sp&&(N.value=ry(h,this.options,A,this.speed)),S&&S(N.value),T&&this.finish(),N}then(e,n){return this.finished.then(e,n)}get duration(){return Jt(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Jt(e)}get time(){return Jt(this.currentTime)}set time(e){var n;e=jn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Rt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Jt(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=aF,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Rt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function IF(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const _s=t=>t*180/Math.PI,Ip=t=>{const e=_s(Math.atan2(t[1],t[0]));return Ap(e)},AF={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Ip,rotateZ:Ip,skewX:t=>_s(Math.atan(t[1])),skewY:t=>_s(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Ap=t=>(t=t%360,t<0&&(t+=360),t),Ox=Ip,Fx=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Ux=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),bF={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Fx,scaleY:Ux,scale:t=>(Fx(t)+Ux(t))/2,rotateX:t=>Ap(_s(Math.atan2(t[6],t[5]))),rotateY:t=>Ap(_s(Math.atan2(-t[2],t[0]))),rotateZ:Ox,rotate:Ox,skewX:t=>_s(Math.atan(t[4])),skewY:t=>_s(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function bp(t){return t.includes("scale")?1:0}function Cp(t,e){if(!t||t==="none")return bp(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=bF,s=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=AF,s=a}if(!s)return bp(e);const i=r[e],o=s[1].split(",").map(kF);return typeof i=="function"?i(o):o[i]}const CF=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Cp(n,e)};function kF(t){return parseFloat(t.trim())}const ao=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],lo=new Set(ao),Bx=t=>t===oo||t===Z,PF=new Set(["x","y","z"]),RF=ao.filter(t=>!PF.has(t));function NF(t){const e=[];return RF.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const bs={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Cp(e,"x"),y:(t,{transform:e})=>Cp(e,"y")};bs.translateX=bs.x;bs.translateY=bs.y;const Cs=new Set;let kp=!1,Pp=!1,Rp=!1;function WA(){if(Pp){const t=Array.from(Cs).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=NF(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Pp=!1,kp=!1,Cs.forEach(t=>t.complete(Rp)),Cs.clear()}function GA(){Cs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Pp=!0)})}function DF(){Rp=!0,GA(),WA(),Rp=!1}class oy{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Cs.add(this),kp||(kp=!0,Te.read(GA),Te.resolveKeyframes(WA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}IF(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Cs.delete(this)}cancel(){this.state==="scheduled"&&(Cs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const VF=t=>t.startsWith("--");function jF(t,e,n){VF(e)?t.style.setProperty(e,n):t.style[e]=n}const MF=Kg(()=>window.ScrollTimeline!==void 0),LF={};function OF(t,e){const n=Kg(t);return()=>LF[e]??n()}const HA=OF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qo=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,$x={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qo([0,.65,.55,1]),circOut:qo([.55,0,1,.45]),backIn:qo([.31,.01,.66,-.59]),backOut:qo([.33,1.53,.69,.99])};function qA(t,e){if(t)return typeof t=="function"?HA()?BA(t,e):"ease-out":PA(t)?qo(t):Array.isArray(t)?t.map(n=>qA(n,e)||$x.easeOut):$x[t]}function FF(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const h={[e]:n};l&&(h.offset=l);const f=qA(a,s);Array.isArray(f)&&(h.easing=f);const m={delay:r,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(m.pseudoElement=u),t.animate(h,m)}function KA(t){return typeof t=="function"&&"applyToOptions"in t}function UF({type:t,...e}){return KA(t)&&HA()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class BF extends sy{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,qg(typeof e.type!="string");const u=UF(e);this.animation=FF(n,r,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const h=ry(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(h):jF(n,r,h),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Jt(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Jt(e)}get time(){return Jt(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=jn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&MF()?(this.animation.timeline=e,en):n(this)}}const QA={anticipate:AA,backInOut:IA,circInOut:CA};function $F(t){return t in QA}function zF(t){typeof t.ease=="string"&&$F(t.ease)&&(t.ease=QA[t.ease])}const zx=10;class WF extends BF{constructor(e){zF(e),zA(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new iy({...o,autoplay:!1}),l=jn(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-zx).value,a.sample(l).value,zx),a.stop()}}const Wx=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Yr.test(t)||t==="0")&&!t.startsWith("url("));function GF(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function HF(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=Wx(s,e),a=Wx(i,e);return!o||!a?!1:GF(t)||(n==="spring"||KA(n))&&r}function Np(t){t.duration=0,t.type="keyframes"}const qF=new Set(["opacity","clipPath","filter","transform"]),KF=Kg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function QF(t){var h;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=t;if(!(((h=e==null?void 0:e.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return KF()&&n&&qF.has(n)&&(n!=="transform"||!u)&&!l&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const YF=40;class XF extends sy{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:h,...f}){var I;super(),this.stop=()=>{var S,A;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(A=this.keyframeResolver)==null||A.cancel()},this.createdAt=Rt.now();const m={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:u,element:h,...f},v=(h==null?void 0:h.KeyframeResolver)||oy;this.keyframeResolver=new v(a,(S,A,x)=>this.onKeyframesResolved(S,A,m,!x),l,u,h),(I=this.keyframeResolver)==null||I.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:h}=r;this.resolvedAt=Rt.now(),HF(e,i,o,a)||((sr.instantAnimations||!l)&&(h==null||h(ry(e,r,n))),e[0]=e[e.length-1],Np(r),r.repeat=0);const m={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>YF?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},v=!u&&QF(m)?new WF({...m,element:m.motionValue.owner.current}):new iy(m);v.finished.then(()=>this.notifyFinished()).catch(en),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),DF()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const JF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ZF(t){const e=JF.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function YA(t,e,n=1){const[r,s]=ZF(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return yA(o)?parseFloat(o):o}return Jg(s)?YA(s,e,n+1):s}function ay(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const XA=new Set(["width","height","top","left","right","bottom",...ao]),e5={test:t=>t==="auto",parse:t=>t},JA=t=>e=>e.test(t),ZA=[oo,Z,Mn,mr,G6,W6,e5],Gx=t=>ZA.find(JA(t));function t5(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||_A(t):!0}const n5=new Set(["brightness","contrast","saturate","opacity"]);function r5(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Zg)||[];if(!r)return t;const s=n.replace(r,"");let i=n5.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const s5=/\b([a-z-]*)\(.*?\)/gu,Dp={...Yr,getAnimatableNone:t=>{const e=t.match(s5);return e?e.map(r5).join(" "):t}},Hx={...oo,transform:Math.round},i5={rotate:mr,rotateX:mr,rotateY:mr,rotateZ:mr,scale:ec,scaleX:ec,scaleY:ec,scaleZ:ec,skew:mr,skewX:mr,skewY:mr,distance:Z,translateX:Z,translateY:Z,translateZ:Z,x:Z,y:Z,z:Z,perspective:Z,transformPerspective:Z,opacity:Wa,originX:Dx,originY:Dx,originZ:Z},ly={borderWidth:Z,borderTopWidth:Z,borderRightWidth:Z,borderBottomWidth:Z,borderLeftWidth:Z,borderRadius:Z,radius:Z,borderTopLeftRadius:Z,borderTopRightRadius:Z,borderBottomRightRadius:Z,borderBottomLeftRadius:Z,width:Z,maxWidth:Z,height:Z,maxHeight:Z,top:Z,right:Z,bottom:Z,left:Z,padding:Z,paddingTop:Z,paddingRight:Z,paddingBottom:Z,paddingLeft:Z,margin:Z,marginTop:Z,marginRight:Z,marginBottom:Z,marginLeft:Z,backgroundPositionX:Z,backgroundPositionY:Z,...i5,zIndex:Hx,fillOpacity:Wa,strokeOpacity:Wa,numOctaves:Hx},o5={...ly,color:Fe,backgroundColor:Fe,outlineColor:Fe,fill:Fe,stroke:Fe,borderColor:Fe,borderTopColor:Fe,borderRightColor:Fe,borderBottomColor:Fe,borderLeftColor:Fe,filter:Dp,WebkitFilter:Dp},eb=t=>o5[t];function tb(t,e){let n=eb(t);return n!==Dp&&(n=Yr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const a5=new Set(["auto","none","0"]);function l5(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!a5.has(i)&&Ga(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=tb(n,s)}class c5 extends oy{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),Jg(u))){const h=YA(u,n.current);h!==void 0&&(e[l]=h),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!XA.has(r)||e.length!==2)return;const[s,i]=e,o=Gx(s),a=Gx(i);if(o!==a)if(Bx(o)&&Bx(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else bs[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||t5(e[s]))&&r.push(s);r.length&&l5(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=bs[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=bs[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function u5(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=(n==null?void 0:n[t])??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const nb=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function rb(t){return vA(t)&&"offsetHeight"in t}const qx=30,h5=t=>!isNaN(parseFloat(t));class d5{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=Rt.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Rt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=h5(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Qg);const r=this.events[e].add(n);return e==="change"?()=>{r(),Te.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Rt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>qx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,qx);return xA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ki(t,e){return new d5(t,e)}const{schedule:cy}=RA(queueMicrotask,!1),an={x:!1,y:!1};function sb(){return an.x||an.y}function f5(t){return t==="x"||t==="y"?an[t]?null:(an[t]=!0,()=>{an[t]=!1}):an.x||an.y?null:(an.x=an.y=!0,()=>{an.x=an.y=!1})}function ib(t,e){const n=u5(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function Kx(t){return!(t.pointerType==="touch"||sb())}function p5(t,e,n={}){const[r,s,i]=ib(t,n),o=a=>{if(!Kx(a))return;const{target:l}=a,u=e(l,a);if(typeof u!="function"||!l)return;const h=f=>{Kx(f)&&(u(f),l.removeEventListener("pointerleave",h))};l.addEventListener("pointerleave",h,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const ob=(t,e)=>e?t===e?!0:ob(t,e.parentElement):!1,uy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,m5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function g5(t){return m5.has(t.tagName)||t.tabIndex!==-1}const Ac=new WeakSet;function Qx(t){return e=>{e.key==="Enter"&&t(e)}}function Dd(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const y5=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Qx(()=>{if(Ac.has(n))return;Dd(n,"down");const s=Qx(()=>{Dd(n,"up")}),i=()=>Dd(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Yx(t){return uy(t)&&!sb()}function v5(t,e,n={}){const[r,s,i]=ib(t,n),o=a=>{const l=a.currentTarget;if(!Yx(a))return;Ac.add(l);const u=e(l,a),h=(v,I)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",m),Ac.has(l)&&Ac.delete(l),Yx(v)&&typeof u=="function"&&u(v,{success:I})},f=v=>{h(v,l===window||l===document||n.useGlobalTarget||ob(l,v.target))},m=v=>{h(v,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",m,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),rb(a)&&(a.addEventListener("focus",u=>y5(u,s)),!g5(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function ab(t){return vA(t)&&"ownerSVGElement"in t}function _5(t){return ab(t)&&t.tagName==="svg"}const pt=t=>!!(t&&t.getVelocity),x5=[...ZA,Fe,Yr],w5=t=>x5.find(JA(t)),hy=D.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Xx(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function E5(...t){return e=>{let n=!1;const r=t.map(s=>{const i=Xx(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Xx(t[s],null)}}}}function T5(...t){return D.useCallback(E5(...t),t)}class S5 extends D.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=rb(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function I5({children:t,isPresent:e,anchorX:n,root:r}){const s=D.useId(),i=D.useRef(null),o=D.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=D.useContext(hy),l=T5(i,t==null?void 0:t.ref);return D.useInsertionEffect(()=>{const{width:u,height:h,top:f,left:m,right:v}=o.current;if(e||!i.current||!u||!h)return;const I=n==="left"?`left: ${m}`:`right: ${v}`;i.current.dataset.motionPopId=s;const S=document.createElement("style");a&&(S.nonce=a);const A=r??document.head;return A.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${h}px !important;
            ${I}px !important;
            top: ${f}px !important;
          }
        `),()=>{A.contains(S)&&A.removeChild(S)}},[e]),d.jsx(S5,{isPresent:e,childRef:i,sizeRef:o,children:D.cloneElement(t,{ref:l})})}const A5=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a,root:l})=>{const u=zg(b5),h=D.useId();let f=!0,m=D.useMemo(()=>(f=!1,{id:h,initial:e,isPresent:n,custom:s,onExitComplete:v=>{u.set(v,!0);for(const I of u.values())if(!I)return;r&&r()},register:v=>(u.set(v,!1),()=>u.delete(v))}),[n,u,r]);return i&&f&&(m={...m}),D.useMemo(()=>{u.forEach((v,I)=>u.set(I,!1))},[n]),D.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(t=d.jsx(I5,{isPresent:n,anchorX:a,root:l,children:t})),d.jsx(dh.Provider,{value:m,children:t})};function b5(){return new Map}function lb(t=!0){const e=D.useContext(dh);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=D.useId();D.useEffect(()=>{if(t)return s(i)},[t]);const o=D.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const tc=t=>t.key||"";function Jx(t){const e=[];return D.Children.forEach(t,n=>{D.isValidElement(n)&&e.push(n)}),e}const Zx=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[u,h]=lb(o),f=D.useMemo(()=>Jx(t),[t]),m=o&&!u?[]:f.map(tc),v=D.useRef(!0),I=D.useRef(f),S=zg(()=>new Map),[A,x]=D.useState(f),[y,w]=D.useState(f);gA(()=>{v.current=!1,I.current=f;for(let V=0;V<y.length;V++){const T=tc(y[V]);m.includes(T)?S.delete(T):S.get(T)!==!0&&S.set(T,!1)}},[y,m.length,m.join("-")]);const P=[];if(f!==A){let V=[...f];for(let T=0;T<y.length;T++){const _=y[T],b=tc(_);m.includes(b)||(V.splice(T,0,_),P.push(_))}return i==="wait"&&P.length&&(V=P),w(Jx(V)),x(f),null}const{forceRender:N}=D.useContext($g);return d.jsx(d.Fragment,{children:y.map(V=>{const T=tc(V),_=o&&!u?!1:f===y||m.includes(T),b=()=>{if(S.has(T))S.set(T,!0);else return;let C=!0;S.forEach(R=>{R||(C=!1)}),C&&(N==null||N(),w(I.current),o&&(h==null||h()),r&&r())};return d.jsx(A5,{isPresent:_,initial:!v.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:l,onExitComplete:_?void 0:b,anchorX:a,children:V},T)})})},cb=D.createContext({strict:!1}),ew={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Qi={};for(const t in ew)Qi[t]={isEnabled:e=>ew[t].some(n=>!!e[n])};function C5(t){for(const e in t)Qi[e]={...Qi[e],...t[e]}}const k5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Su(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||k5.has(t)}let ub=t=>!Su(t);function P5(t){typeof t=="function"&&(ub=e=>e.startsWith("on")?!Su(e):t(e))}try{P5(require("@emotion/is-prop-valid").default)}catch{}function R5(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(ub(s)||n===!0&&Su(s)||!e&&!Su(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const fh=D.createContext({});function ph(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ha(t){return typeof t=="string"||Array.isArray(t)}const dy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],fy=["initial",...dy];function mh(t){return ph(t.animate)||fy.some(e=>Ha(t[e]))}function hb(t){return!!(mh(t)||t.variants)}function N5(t,e){if(mh(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ha(n)?n:void 0,animate:Ha(r)?r:void 0}}return t.inherit!==!1?e:{}}function D5(t){const{initial:e,animate:n}=N5(t,D.useContext(fh));return D.useMemo(()=>({initial:e,animate:n}),[tw(e),tw(n)])}function tw(t){return Array.isArray(t)?t.join(" "):t}function nw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Mo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Z.test(t))t=parseFloat(t);else return t;const n=nw(t,e.target.x),r=nw(t,e.target.y);return`${n}% ${r}%`}},V5={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Yr.parse(t);if(s.length>5)return r;const i=Yr.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const u=Ie(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}},Vp={borderRadius:{...Mo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Mo,borderTopRightRadius:Mo,borderBottomLeftRadius:Mo,borderBottomRightRadius:Mo,boxShadow:V5};function db(t,{layout:e,layoutId:n}){return lo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Vp[t]||t==="opacity")}const j5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},M5=ao.length;function L5(t,e,n){let r="",s=!0;for(let i=0;i<M5;i++){const o=ao[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=nb(a,ly[o]);if(!l){s=!1;const h=j5[o]||o;r+=`${h}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function py(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(lo.has(l)){o=!0;continue}else if(DA(l)){s[l]=u;continue}else{const h=nb(u,ly[l]);l.startsWith("origin")?(a=!0,i[l]=h):r[l]=h}}if(e.transform||(o||n?r.transform=L5(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:h=0}=i;r.transformOrigin=`${l} ${u} ${h}`}}const my=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function fb(t,e,n){for(const r in e)!pt(e[r])&&!db(r,n)&&(t[r]=e[r])}function O5({transformTemplate:t},e){return D.useMemo(()=>{const n=my();return py(n,e,t),Object.assign({},n.vars,n.style)},[e])}function F5(t,e){const n=t.style||{},r={};return fb(r,n,t),Object.assign(r,O5(t,e)),r}function U5(t,e){const n={},r=F5(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const B5={offset:"stroke-dashoffset",array:"stroke-dasharray"},$5={offset:"strokeDashoffset",array:"strokeDasharray"};function z5(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?B5:$5;t[i.offset]=Z.transform(-r);const o=Z.transform(e),a=Z.transform(n);t[i.array]=`${o} ${a}`}function pb(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,u,h){if(py(t,a,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:m}=t;f.transform&&(m.transform=f.transform,delete f.transform),(m.transform||f.transformOrigin)&&(m.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),m.transform&&(m.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),s!==void 0&&z5(f,s,i,o,!1)}const mb=()=>({...my(),attrs:{}}),gb=t=>typeof t=="string"&&t.toLowerCase()==="svg";function W5(t,e,n,r){const s=D.useMemo(()=>{const i=mb();return pb(i,e,gb(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};fb(i,t.style,t),s.style={...i,...s.style}}return s}const G5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function gy(t){return typeof t!="string"||t.includes("-")?!1:!!(G5.indexOf(t)>-1||/[A-Z]/u.test(t))}function H5(t,e,n,{latestValues:r},s,i=!1){const a=(gy(t)?W5:U5)(e,r,s,t),l=R5(e,typeof t=="string",i),u=t!==D.Fragment?{...l,...a,ref:n}:{},{children:h}=e,f=D.useMemo(()=>pt(h)?h.get():h,[h]);return D.createElement(t,{...u,children:f})}function rw(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function yy(t,e,n,r){if(typeof e=="function"){const[s,i]=rw(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=rw(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function bc(t){return pt(t)?t.get():t}function q5({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:K5(n,r,s,t),renderState:e()}}function K5(t,e,n,r){const s={},i=r(t,{});for(const m in i)s[m]=bc(i[m]);let{initial:o,animate:a}=t;const l=mh(t),u=hb(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?a:o;if(f&&typeof f!="boolean"&&!ph(f)){const m=Array.isArray(f)?f:[f];for(let v=0;v<m.length;v++){const I=yy(t,m[v]);if(I){const{transitionEnd:S,transition:A,...x}=I;for(const y in x){let w=x[y];if(Array.isArray(w)){const P=h?w.length-1:0;w=w[P]}w!==null&&(s[y]=w)}for(const y in S)s[y]=S[y]}}}return s}const yb=t=>(e,n)=>{const r=D.useContext(fh),s=D.useContext(dh),i=()=>q5(t,e,r,s);return n?i():zg(i)};function vy(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(pt(r[o])||e.style&&pt(e.style[o])||db(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const Q5=yb({scrapeMotionValuesFromProps:vy,createRenderState:my});function vb(t,e,n){const r=vy(t,e,n);for(const s in t)if(pt(t[s])||pt(e[s])){const i=ao.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const Y5=yb({scrapeMotionValuesFromProps:vb,createRenderState:mb}),X5=Symbol.for("motionComponentSymbol");function yi(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function J5(t,e,n){return D.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):yi(n)&&(n.current=r))},[e])}const _y=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Z5="framerAppearId",_b="data-"+_y(Z5),xb=D.createContext({});function e9(t,e,n,r,s){var S,A;const{visualElement:i}=D.useContext(fh),o=D.useContext(cb),a=D.useContext(dh),l=D.useContext(hy).reducedMotion,u=D.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const h=u.current,f=D.useContext(xb);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&t9(u.current,n,s,f);const m=D.useRef(!1);D.useInsertionEffect(()=>{h&&m.current&&h.update(n,a)});const v=n[_b],I=D.useRef(!!v&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,v))&&((A=window.MotionHasOptimisedAnimation)==null?void 0:A.call(window,v)));return gA(()=>{h&&(m.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),I.current&&h.animationState&&h.animationState.animateChanges())}),D.useEffect(()=>{h&&(!I.current&&h.animationState&&h.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)==null||x.call(window,v)}),I.current=!1),h.enteringChildren=void 0)}),h}function t9(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:wb(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&yi(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:l,layoutRoot:u})}function wb(t){if(t)return t.options.allowProjection!==!1?t.projection:wb(t.parent)}function Vd(t,{forwardMotionProps:e=!1}={},n,r){n&&C5(n);const s=gy(t)?Y5:Q5;function i(a,l){let u;const h={...D.useContext(hy),...a,layoutId:n9(a)},{isStatic:f}=h,m=D5(a),v=s(a,f);if(!f&&Wg){r9();const I=s9(h);u=I.MeasureLayout,m.visualElement=e9(t,v,h,r,I.ProjectionNode)}return d.jsxs(fh.Provider,{value:m,children:[u&&m.visualElement?d.jsx(u,{visualElement:m.visualElement,...h}):null,H5(t,a,J5(v,m.visualElement,l),v,f,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=D.forwardRef(i);return o[X5]=t,o}function n9({layoutId:t}){const e=D.useContext($g).id;return e&&t!==void 0?e+"-"+t:t}function r9(t,e){D.useContext(cb).strict}function s9(t){const{drag:e,layout:n}=Qi;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function i9(t,e){if(typeof Proxy>"u")return Vd;const n=new Map,r=(i,o)=>Vd(i,o,t,e),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,Vd(o,void 0,t,e)),n.get(o))})}function Eb({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function o9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function a9(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function jd(t){return t===void 0||t===1}function jp({scale:t,scaleX:e,scaleY:n}){return!jd(t)||!jd(e)||!jd(n)}function fs(t){return jp(t)||Tb(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Tb(t){return sw(t.x)||sw(t.y)}function sw(t){return t&&t!=="0%"}function Iu(t,e,n){const r=t-n,s=e*r;return n+s}function iw(t,e,n,r,s){return s!==void 0&&(t=Iu(t,s,r)),Iu(t,n,r)+e}function Mp(t,e=0,n=1,r,s){t.min=iw(t.min,e,n,r,s),t.max=iw(t.max,e,n,r,s)}function Sb(t,{x:e,y:n}){Mp(t.x,e.translate,e.scale,e.originPoint),Mp(t.y,n.translate,n.scale,n.originPoint)}const ow=.999999999999,aw=1.0000000000001;function l9(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&_i(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Sb(t,o)),r&&fs(i.latestValues)&&_i(t,i.latestValues))}e.x<aw&&e.x>ow&&(e.x=1),e.y<aw&&e.y>ow&&(e.y=1)}function vi(t,e){t.min=t.min+e,t.max=t.max+e}function lw(t,e,n,r,s=.5){const i=Ie(t.min,t.max,s);Mp(t,e,n,i,r)}function _i(t,e){lw(t.x,e.x,e.scaleX,e.scale,e.originX),lw(t.y,e.y,e.scaleY,e.scale,e.originY)}function Ib(t,e){return Eb(a9(t.getBoundingClientRect(),e))}function c9(t,e,n){const r=Ib(t,n),{scroll:s}=e;return s&&(vi(r.x,s.offset.x),vi(r.y,s.offset.y)),r}const cw=()=>({translate:0,scale:1,origin:0,originPoint:0}),xi=()=>({x:cw(),y:cw()}),uw=()=>({min:0,max:0}),We=()=>({x:uw(),y:uw()}),Lp={current:null},Ab={current:!1};function u9(){if(Ab.current=!0,!!Wg)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Lp.current=t.matches;t.addEventListener("change",e),e()}else Lp.current=!1}const h9=new WeakMap;function d9(t,e,n){for(const r in e){const s=e[r],i=n[r];if(pt(s))t.addValue(r,s);else if(pt(i))t.addValue(r,Ki(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,Ki(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const hw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class f9{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=oy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Rt.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Te.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=mh(n),this.isVariantNode=hb(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in f){const v=f[m];l[m]!==void 0&&pt(v)&&v.set(l[m])}}mount(e){var n;this.current=e,h9.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),Ab.current||u9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Lp.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Qr(this.notifyUpdate),Qr(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=lo.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Te.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Qi){const n=Qi[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):We()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<hw.length;r++){const s=hw[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=d9(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ki(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(yA(r)||_A(r))?r=parseFloat(r):!w5(r)&&Yr.test(n)&&(r=tb(e,n)),this.setBaseTarget(e,pt(r)?r.get():r)),pt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=yy(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!pt(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Qg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){cy.render(this.render)}}class bb extends f9{constructor(){super(...arguments),this.KeyframeResolver=c5}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;pt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Cb(t,{style:e,vars:n},r,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function p9(t){return window.getComputedStyle(t)}class m9 extends bb{constructor(){super(...arguments),this.type="html",this.renderInstance=Cb}readValueFromInstance(e,n){var r;if(lo.has(n))return(r=this.projection)!=null&&r.isProjecting?bp(n):CF(e,n);{const s=p9(e),i=(DA(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Ib(e,n)}build(e,n,r){py(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return vy(e,n,r)}}const kb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function g9(t,e,n,r){Cb(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(kb.has(s)?s:_y(s),e.attrs[s])}class y9 extends bb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=We}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(lo.has(n)){const r=eb(n);return r&&r.default||0}return n=kb.has(n)?n:_y(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return vb(e,n,r)}build(e,n,r){pb(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){g9(e,n,r,s)}mount(e){this.isSVGTag=gb(e.tagName),super.mount(e)}}const v9=(t,e)=>gy(t)?new y9(e):new m9(e,{allowProjection:t!==D.Fragment});function Vi(t,e,n){const r=t.getProps();return yy(r,e,n!==void 0?n:r.custom,t)}const Op=t=>Array.isArray(t);function _9(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ki(n))}function x9(t){return Op(t)?t[t.length-1]||0:t}function w9(t,e){const n=Vi(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=x9(i[o]);_9(t,o,a)}}function E9(t){return!!(pt(t)&&t.add)}function Fp(t,e){const n=t.getValue("willChange");if(E9(n))return n.add(e);if(!n&&sr.WillChange){const r=new sr.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Pb(t){return t.props[_b]}const T9=t=>t!==null;function S9(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(T9),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}const I9={type:"spring",stiffness:500,damping:25,restSpeed:10},A9=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),b9={type:"keyframes",duration:.8},C9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},k9=(t,{keyframes:e})=>e.length>2?b9:lo.has(t)?t.startsWith("scale")?A9(e[1]):I9:C9;function P9({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...h}){return!!Object.keys(h).length}const xy=(t,e,n,r={},s,i)=>o=>{const a=ay(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-jn(l);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:m=>{e.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};P9(a)||Object.assign(h,k9(t,h)),h.duration&&(h.duration=jn(h.duration)),h.repeatDelay&&(h.repeatDelay=jn(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(Np(h),h.delay===0&&(f=!0)),(sr.instantAnimations||sr.skipAnimations)&&(f=!0,Np(h),h.delay=0),h.allowFlatten=!a.type&&!a.ease,f&&!i&&e.get()!==void 0){const m=S9(h.keyframes,a);if(m!==void 0){Te.update(()=>{h.onUpdate(m),h.onComplete()});return}}return a.isSync?new iy(h):new XF(h)};function R9({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Rb(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(i=r);const l=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const h in a){const f=t.getValue(h,t.latestValues[h]??null),m=a[h];if(m===void 0||u&&R9(u,h))continue;const v={delay:n,...ay(i||{},h)},I=f.get();if(I!==void 0&&!f.isAnimating&&!Array.isArray(m)&&m===I&&!v.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const x=Pb(t);if(x){const y=window.MotionHandoffAnimation(x,h,Te);y!==null&&(v.startTime=y,S=!0)}}Fp(t,h),f.start(xy(h,f,m,t.shouldReduceMotion&&XA.has(h)?{type:!1}:v,t,S));const A=f.animation;A&&l.push(A)}return o&&Promise.all(l).then(()=>{Te.update(()=>{o&&w9(t,o)})}),l}function Nb(t,e,n,r=0,s=1){const i=Array.from(t).sort((u,h)=>u.sortNodePosition(h)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:a-i*r}function Up(t,e,n={}){var l;const r=Vi(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(Rb(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:m}=s;return N9(t,e,u,h,f,m,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[u,h]=a==="beforeChildren"?[i,o]:[o,i];return u().then(()=>h())}else return Promise.all([i(),o(n.delay)])}function N9(t,e,n=0,r=0,s=0,i=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(Up(l,e,{...o,delay:n+(typeof r=="function"?0:r)+Nb(t.variantChildren,l,r,s,i)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function D9(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Up(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Up(t,e,n);else{const s=typeof e=="function"?Vi(t,e,n.custom):e;r=Promise.all(Rb(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function Db(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const V9=fy.length;function Vb(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Vb(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<V9;n++){const r=fy[n],s=t.props[r];(Ha(s)||s===!1)&&(e[r]=s)}return e}const j9=[...dy].reverse(),M9=dy.length;function L9(t){return e=>Promise.all(e.map(({animation:n,options:r})=>D9(t,n,r)))}function O9(t){let e=L9(t),n=dw(),r=!0;const s=l=>(u,h)=>{var m;const f=Vi(t,h,l==="exit"?(m=t.presenceContext)==null?void 0:m.custom:void 0);if(f){const{transition:v,transitionEnd:I,...S}=f;u={...u,...S,...I}}return u};function i(l){e=l(t)}function o(l){const{props:u}=t,h=Vb(t.parent)||{},f=[],m=new Set;let v={},I=1/0;for(let A=0;A<M9;A++){const x=j9[A],y=n[x],w=u[x]!==void 0?u[x]:h[x],P=Ha(w),N=x===l?y.isActive:null;N===!1&&(I=A);let V=w===h[x]&&w!==u[x]&&P;if(V&&r&&t.manuallyAnimateOnMount&&(V=!1),y.protectedKeys={...v},!y.isActive&&N===null||!w&&!y.prevProp||ph(w)||typeof w=="boolean")continue;const T=F9(y.prevProp,w);let _=T||x===l&&y.isActive&&!V&&P||A>I&&P,b=!1;const C=Array.isArray(w)?w:[w];let R=C.reduce(s(x),{});N===!1&&(R={});const{prevResolvedValues:j={}}=y,k={...j,...R},ke=ye=>{_=!0,m.has(ye)&&(b=!0,m.delete(ye)),y.needsAnimating[ye]=!0;const B=t.getValue(ye);B&&(B.liveStyle=!1)};for(const ye in k){const B=R[ye],K=j[ye];if(v.hasOwnProperty(ye))continue;let Y=!1;Op(B)&&Op(K)?Y=!Db(B,K):Y=B!==K,Y?B!=null?ke(ye):m.add(ye):B!==void 0&&m.has(ye)?ke(ye):y.protectedKeys[ye]=!0}y.prevProp=w,y.prevResolvedValues=R,y.isActive&&(v={...v,...R}),r&&t.blockInitialAnimation&&(_=!1);const bt=V&&T;_&&(!bt||b)&&f.push(...C.map(ye=>{const B={type:x};if(typeof ye=="string"&&r&&!bt&&t.manuallyAnimateOnMount&&t.parent){const{parent:K}=t,Y=Vi(K,ye);if(K.enteringChildren&&Y){const{delayChildren:W}=Y.transition||{};B.delay=Nb(K.enteringChildren,t,W)}}return{animation:ye,options:B}}))}if(m.size){const A={};if(typeof u.initial!="boolean"){const x=Vi(t,Array.isArray(u.initial)?u.initial[0]:u.initial);x&&x.transition&&(A.transition=x.transition)}m.forEach(x=>{const y=t.getBaseTarget(x),w=t.getValue(x);w&&(w.liveStyle=!0),A[x]=y??null}),f.push({animation:A})}let S=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(f):Promise.resolve()}function a(l,u){var f;if(n[l].isActive===u)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(m=>{var v;return(v=m.animationState)==null?void 0:v.setActive(l,u)}),n[l].isActive=u;const h=o(l);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=dw()}}}function F9(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Db(e,t):!1}function cs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function dw(){return{animate:cs(!0),whileInView:cs(),whileHover:cs(),whileTap:cs(),whileDrag:cs(),whileFocus:cs(),exit:cs()}}class rs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class U9 extends rs{constructor(e){super(e),e.animationState||(e.animationState=O9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ph(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let B9=0;class $9 extends rs{constructor(){super(...arguments),this.id=B9++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const z9={animation:{Feature:U9},exit:{Feature:$9}};function qa(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function pl(t){return{point:{x:t.pageX,y:t.pageY}}}const W9=t=>e=>uy(e)&&t(e,pl(e));function da(t,e,n,r){return qa(t,e,W9(n),r)}const jb=1e-4,G9=1-jb,H9=1+jb,Mb=.01,q9=0-Mb,K9=0+Mb;function Tt(t){return t.max-t.min}function Q9(t,e,n){return Math.abs(t-e)<=n}function fw(t,e,n,r=.5){t.origin=r,t.originPoint=Ie(e.min,e.max,t.origin),t.scale=Tt(n)/Tt(e),t.translate=Ie(n.min,n.max,t.origin)-t.originPoint,(t.scale>=G9&&t.scale<=H9||isNaN(t.scale))&&(t.scale=1),(t.translate>=q9&&t.translate<=K9||isNaN(t.translate))&&(t.translate=0)}function fa(t,e,n,r){fw(t.x,e.x,n.x,r?r.originX:void 0),fw(t.y,e.y,n.y,r?r.originY:void 0)}function pw(t,e,n){t.min=n.min+e.min,t.max=t.min+Tt(e)}function Y9(t,e,n){pw(t.x,e.x,n.x),pw(t.y,e.y,n.y)}function mw(t,e,n){t.min=e.min-n.min,t.max=t.min+Tt(e)}function Au(t,e,n){mw(t.x,e.x,n.x),mw(t.y,e.y,n.y)}function Ht(t){return[t("x"),t("y")]}const Lb=({current:t})=>t?t.ownerDocument.defaultView:null,gw=(t,e)=>Math.abs(t-e);function X9(t,e){const n=gw(t.x,e.x),r=gw(t.y,e.y);return Math.sqrt(n**2+r**2)}class Ob{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Ld(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,I=X9(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!I)return;const{point:S}=m,{timestamp:A}=tt;this.history.push({...S,timestamp:A});const{onStart:x,onMove:y}=this.handlers;v||(x&&x(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,m)},this.handlePointerMove=(m,v)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Md(v,this.transformPagePoint),Te.update(this.updatePoint,!0)},this.handlePointerUp=(m,v)=>{this.end();const{onEnd:I,onSessionEnd:S,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Ld(m.type==="pointercancel"?this.lastMoveEventInfo:Md(v,this.transformPagePoint),this.history);this.startEvent&&I&&I(m,x),S&&S(m,x)},!uy(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const a=pl(e),l=Md(a,this.transformPagePoint),{point:u}=l,{timestamp:h}=tt;this.history=[{...u,timestamp:h}];const{onSessionStart:f}=n;f&&f(e,Ld(l,this.history)),this.removeListeners=hl(da(this.contextWindow,"pointermove",this.handlePointerMove),da(this.contextWindow,"pointerup",this.handlePointerUp),da(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Qr(this.updatePoint)}}function Md(t,e){return e?{point:e(t.point)}:t}function yw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ld({point:t},e){return{point:t,delta:yw(t,Fb(e)),offset:yw(t,J9(e)),velocity:Z9(e,.1)}}function J9(t){return t[0]}function Fb(t){return t[t.length-1]}function Z9(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=Fb(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>jn(e)));)n--;if(!r)return{x:0,y:0};const i=Jt(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function eU(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ie(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ie(n,t,r.max):Math.min(t,n)),t}function vw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function tU(t,{top:e,left:n,bottom:r,right:s}){return{x:vw(t.x,n,s),y:vw(t.y,e,r)}}function _w(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function nU(t,e){return{x:_w(t.x,e.x),y:_w(t.y,e.y)}}function rU(t,e){let n=.5;const r=Tt(t),s=Tt(e);return s>r?n=za(e.min,e.max-r,t.min):r>s&&(n=za(t.min,t.max-s,e.min)),rr(0,1,n)}function sU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Bp=.35;function iU(t=Bp){return t===!1?t=0:t===!0&&(t=Bp),{x:xw(t,"left","right"),y:xw(t,"top","bottom")}}function xw(t,e,n){return{min:ww(t,e),max:ww(t,n)}}function ww(t,e){return typeof t=="number"?t:t[e]||0}const oU=new WeakMap;class aU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=We(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(pl(f).point)},o=(f,m)=>{const{drag:v,dragPropagation:I,onDragStart:S}=this.getProps();if(v&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=f5(v),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ht(x=>{let y=this.getAxisMotionValue(x).get()||0;if(Mn.test(y)){const{projection:w}=this.visualElement;if(w&&w.layout){const P=w.layout.layoutBox[x];P&&(y=Tt(P)*(parseFloat(y)/100))}}this.originPoint[x]=y}),S&&Te.postRender(()=>S(f,m)),Fp(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},a=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m;const{dragPropagation:v,dragDirectionLock:I,onDirectionLock:S,onDrag:A}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:x}=m;if(I&&this.currentDirection===null){this.currentDirection=lU(x),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",m.point,x),this.updateAxis("y",m.point,x),this.visualElement.render(),A&&A(f,m)},l=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m,this.stop(f,m),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Ht(f=>{var m;return this.getAnimationState(f)==="paused"&&((m=this.getAxisMotionValue(f).animation)==null?void 0:m.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new Ob(e,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:Lb(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Te.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!nc(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=eU(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&yi(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=tU(r.layoutBox,e):this.constraints=!1,this.elastic=iU(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ht(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=sU(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!yi(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=c9(r,s.root,this.visualElement.getTransformPagePoint());let o=nU(s.layout.layoutBox,i);if(n){const a=n(o9(o));this.hasMutatedConstraints=!!a,a&&(o=Eb(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Ht(h=>{if(!nc(h,n,this.currentDirection))return;let f=l&&l[h]||{};o&&(f={min:0,max:0});const m=s?200:1e6,v=s?40:1e7,I={type:"inertia",velocity:r?e[h]:0,bounceStiffness:m,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(h,I)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Fp(this.visualElement,e),r.start(xy(e,r,0,n,this.visualElement,!1))}stopAnimation(){Ht(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ht(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ht(n=>{const{drag:r}=this.getProps();if(!nc(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-Ie(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!yi(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ht(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=rU({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ht(o=>{if(!nc(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Ie(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;oU.set(this.visualElement,this);const e=this.visualElement.current,n=da(e,"pointerdown",l=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();yi(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Te.read(r);const o=qa(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ht(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=l[h].translate,f.set(f.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Bp,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function nc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function lU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class cU extends rs{constructor(e){super(e),this.removeGroupControls=en,this.removeListeners=en,this.controls=new aU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||en}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ew=t=>(e,n)=>{t&&Te.postRender(()=>t(e,n))};class uU extends rs{constructor(){super(...arguments),this.removePointerDownListener=en}onPointerDown(e){this.session=new Ob(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Lb(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Ew(e),onStart:Ew(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Te.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=da(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Cc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Od=!1;class hU extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),Od&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Cc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,Od=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Te.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),cy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;Od=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ub(t){const[e,n]=lb(),r=D.useContext($g);return d.jsx(hU,{...t,layoutGroup:r,switchLayoutGroup:D.useContext(xb),isPresent:e,safeToRemove:n})}function dU(t,e,n){const r=pt(t)?t:Ki(t);return r.start(xy("",r,e,n)),r.animation}const fU=(t,e)=>t.depth-e.depth;class pU{constructor(){this.children=[],this.isDirty=!1}add(e){Gg(this.children,e),this.isDirty=!0}remove(e){Hg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(fU),this.isDirty=!1,this.children.forEach(e)}}function mU(t,e){const n=Rt.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Qr(r),t(i-e))};return Te.setup(r,!0),()=>Qr(r)}const Bb=["TopLeft","TopRight","BottomLeft","BottomRight"],gU=Bb.length,Tw=t=>typeof t=="string"?parseFloat(t):t,Sw=t=>typeof t=="number"||Z.test(t);function yU(t,e,n,r,s,i){s?(t.opacity=Ie(0,n.opacity??1,vU(r)),t.opacityExit=Ie(e.opacity??1,0,_U(r))):i&&(t.opacity=Ie(e.opacity??1,n.opacity??1,r));for(let o=0;o<gU;o++){const a=`border${Bb[o]}Radius`;let l=Iw(e,a),u=Iw(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Sw(l)===Sw(u)?(t[a]=Math.max(Ie(Tw(l),Tw(u),r),0),(Mn.test(u)||Mn.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Ie(e.rotate||0,n.rotate||0,r))}function Iw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const vU=$b(0,.5,bA),_U=$b(.5,.95,en);function $b(t,e,n){return r=>r<t?0:r>e?1:n(za(t,e,r))}function Aw(t,e){t.min=e.min,t.max=e.max}function on(t,e){Aw(t.x,e.x),Aw(t.y,e.y)}function bw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Cw(t,e,n,r,s){return t-=e,t=Iu(t,1/n,r),s!==void 0&&(t=Iu(t,1/s,r)),t}function xU(t,e=0,n=1,r=.5,s,i=t,o=t){if(Mn.test(e)&&(e=parseFloat(e),e=Ie(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ie(i.min,i.max,r);t===i&&(a-=e),t.min=Cw(t.min,e,n,a,s),t.max=Cw(t.max,e,n,a,s)}function kw(t,e,[n,r,s],i,o){xU(t,e[n],e[r],e[s],e.scale,i,o)}const wU=["x","scaleX","originX"],EU=["y","scaleY","originY"];function Pw(t,e,n,r){kw(t.x,e,wU,n?n.x:void 0,r?r.x:void 0),kw(t.y,e,EU,n?n.y:void 0,r?r.y:void 0)}function Rw(t){return t.translate===0&&t.scale===1}function zb(t){return Rw(t.x)&&Rw(t.y)}function Nw(t,e){return t.min===e.min&&t.max===e.max}function TU(t,e){return Nw(t.x,e.x)&&Nw(t.y,e.y)}function Dw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Wb(t,e){return Dw(t.x,e.x)&&Dw(t.y,e.y)}function Vw(t){return Tt(t.x)/Tt(t.y)}function jw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class SU{constructor(){this.members=[]}add(e){Gg(this.members,e),e.scheduleRender()}remove(e){if(Hg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function IU(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:h,rotateX:f,rotateY:m,skewX:v,skewY:I}=n;u&&(r=`perspective(${u}px) ${r}`),h&&(r+=`rotate(${h}deg) `),f&&(r+=`rotateX(${f}deg) `),m&&(r+=`rotateY(${m}deg) `),v&&(r+=`skewX(${v}deg) `),I&&(r+=`skewY(${I}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Fd=["","X","Y","Z"],AU=1e3;let bU=0;function Ud(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Gb(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Pb(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Te,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Gb(r)}function Hb({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=bU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(PU),this.nodes.forEach(VU),this.nodes.forEach(jU),this.nodes.forEach(RU)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new pU)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Qg),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=ab(o)&&!_5(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let h,f=0;const m=()=>this.root.updateBlockedByResize=!1;Te.read(()=>{f=window.innerWidth}),t(o,()=>{const v=window.innerWidth;v!==f&&(f=v,this.root.updateBlockedByResize=!0,h&&h(),h=mU(m,250),Cc.hasAnimatedSinceResize&&(Cc.hasAnimatedSinceResize=!1,this.nodes.forEach(Ow)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeLayoutChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||u.getDefaultTransition()||UU,{onLayoutAnimationStart:S,onLayoutAnimationComplete:A}=u.getProps(),x=!this.targetLayout||!Wb(this.targetLayout,v),y=!f&&m;if(this.options.layoutRoot||this.resumeFrom||y||f&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...ay(I,"layout"),onPlay:S,onComplete:A};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(h,y)}else f||Ow(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Qr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(MU),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Gb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Mw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Lw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(DU),this.nodes.forEach(CU),this.nodes.forEach(kU)):this.nodes.forEach(Lw),this.clearAllSnapshots();const a=Rt.now();tt.delta=rr(0,1e3/60,a-tt.timestamp),tt.timestamp=a,tt.isProcessing=!0,Cd.update.process(tt),Cd.preRender.process(tt),Cd.render.process(tt),tt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,cy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(NU),this.sharedNodes.forEach(LU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Te.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Te.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Tt(this.snapshot.measuredBox.x)&&!Tt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=We(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!zb(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||fs(this.latestValues)||h)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),BU(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return We();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some($U))){const{scroll:h}=this.root;h&&(vi(a.x,h.offset.x),vi(a.y,h.offset.y))}return a}removeElementScroll(o){var l;const a=We();if(on(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:f,options:m}=h;h!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&on(a,o),vi(a.x,f.offset.x),vi(a.y,f.offset.y))}return a}applyTransform(o,a=!1){const l=We();on(l,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&_i(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),fs(h.latestValues)&&_i(l,h.latestValues)}return fs(this.latestValues)&&_i(l,this.latestValues),l}removeTransform(o){const a=We();on(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!fs(u.latestValues))continue;jp(u.latestValues)&&u.updateSnapshot();const h=We(),f=u.measurePageBox();on(h,f),Pw(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return fs(this.latestValues)&&Pw(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var v;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!this.layout||!(h||f))return;this.resolvedRelativeTargetAt=tt.timestamp;const m=this.getClosestProjectingParent();m&&this.linkedParentVersion!==m.layoutVersion&&!m.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(m&&m.layout?this.createRelativeTarget(m,this.layout.layoutBox,m.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=We(),this.targetWithTransforms=We()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Y9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):on(this.target,this.layout.layoutBox),Sb(this.target,this.targetDelta)):on(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?this.createRelativeTarget(m,this.target,m.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||jp(this.parent.latestValues)||Tb(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,a,l){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=We(),this.relativeTargetOrigin=We(),Au(this.relativeTargetOrigin,a,l),on(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var I;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(I=this.parent)!=null&&I.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===tt.timestamp&&(l=!1),l)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;on(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;l9(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=We());const{target:v}=o;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(bw(this.prevProjectionDelta.x,this.projectionDelta.x),bw(this.prevProjectionDelta.y,this.projectionDelta.y)),fa(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!jw(this.projectionDelta.x,this.prevProjectionDelta.x)||!jw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=xi(),this.projectionDelta=xi(),this.projectionDeltaWithTransform=xi()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},h={...this.latestValues},f=xi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=We(),v=l?l.source:void 0,I=this.layout?this.layout.source:void 0,S=v!==I,A=this.getStack(),x=!A||A.members.length<=1,y=!!(S&&!x&&this.options.crossfade===!0&&!this.path.some(FU));this.animationProgress=0;let w;this.mixTargetDelta=P=>{const N=P/1e3;Fw(f.x,o.x,N),Fw(f.y,o.y,N),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Au(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),OU(this.relativeTarget,this.relativeTargetOrigin,m,N),w&&TU(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=We()),on(w,this.relativeTarget)),S&&(this.animationValues=h,yU(h,u,this.latestValues,N,y,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Qr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Te.update(()=>{Cc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ki(0)),this.currentAnimation=dU(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(AU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:h}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&qb(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||We();const f=Tt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const m=Tt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+m}on(a,l),_i(a,h),fa(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new SU),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Ud("z",o,u,this.animationValues);for(let h=0;h<Fd.length;h++)Ud(`rotate${Fd[h]}`,o,u,this.animationValues),Ud(`skew${Fd[h]}`,o,u,this.animationValues);o.render();for(const h in u)o.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=bc(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=bc(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!fs(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=IU(this.projectionDeltaWithTransform,this.treeScale,h);l&&(f=l(h,f)),o.transform=f;const{x:m,y:v}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,u.animationValues?o.opacity=u===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const I in Vp){if(h[I]===void 0)continue;const{correct:S,applyTo:A,isCSSVariable:x}=Vp[I],y=f==="none"?h[I]:S(h[I],u);if(A){const w=A.length;for(let P=0;P<w;P++)o[A[P]]=y}else x?this.options.visualElement.renderState.vars[I]=y:o[I]=y}this.options.layoutId&&(o.pointerEvents=u===this?bc(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(Mw),this.root.sharedNodes.clear()}}}function CU(t){t.updateLayout()}function kU(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?Ht(f=>{const m=o?e.measuredBox[f]:e.layoutBox[f],v=Tt(m);m.min=r[f].min,m.max=m.min+v}):qb(i,e.layoutBox,r)&&Ht(f=>{const m=o?e.measuredBox[f]:e.layoutBox[f],v=Tt(r[f]);m.max=m.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+v)});const a=xi();fa(a,r,e.layoutBox);const l=xi();o?fa(l,t.applyTransform(s,!0),e.measuredBox):fa(l,r,e.layoutBox);const u=!zb(a);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:v}=f;if(m&&v){const I=We();Au(I,e.layoutBox,m.layoutBox);const S=We();Au(S,r,v.layoutBox),Wb(I,S)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=I,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function PU(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function RU(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function NU(t){t.clearSnapshot()}function Mw(t){t.clearMeasurements()}function Lw(t){t.isLayoutDirty=!1}function DU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Ow(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function VU(t){t.resolveTargetDelta()}function jU(t){t.calcProjection()}function MU(t){t.resetSkewAndRotation()}function LU(t){t.removeLeadSnapshot()}function Fw(t,e,n){t.translate=Ie(e.translate,0,n),t.scale=Ie(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Uw(t,e,n,r){t.min=Ie(e.min,n.min,r),t.max=Ie(e.max,n.max,r)}function OU(t,e,n,r){Uw(t.x,e.x,n.x,r),Uw(t.y,e.y,n.y,r)}function FU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const UU={duration:.45,ease:[.4,0,.1,1]},Bw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),$w=Bw("applewebkit/")&&!Bw("chrome/")?Math.round:en;function zw(t){t.min=$w(t.min),t.max=$w(t.max)}function BU(t){zw(t.x),zw(t.y)}function qb(t,e,n){return t==="position"||t==="preserve-aspect"&&!Q9(Vw(e),Vw(n),.2)}function $U(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const zU=Hb({attachResizeListener:(t,e)=>qa(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Bd={current:void 0},Kb=Hb({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Bd.current){const t=new zU({});t.mount(window),t.setOptions({layoutScroll:!0}),Bd.current=t}return Bd.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),WU={pan:{Feature:uU},drag:{Feature:cU,ProjectionNode:Kb,MeasureLayout:Ub}};function Ww(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Te.postRender(()=>i(e,pl(e)))}class GU extends rs{mount(){const{current:e}=this.node;e&&(this.unmount=p5(e,(n,r)=>(Ww(this.node,r,"Start"),s=>Ww(this.node,s,"End"))))}unmount(){}}class HU extends rs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=hl(qa(this.node.current,"focus",()=>this.onFocus()),qa(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Gw(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Te.postRender(()=>i(e,pl(e)))}class qU extends rs{mount(){const{current:e}=this.node;e&&(this.unmount=v5(e,(n,r)=>(Gw(this.node,r,"Start"),(s,{success:i})=>Gw(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const $p=new WeakMap,$d=new WeakMap,KU=t=>{const e=$p.get(t.target);e&&e(t)},QU=t=>{t.forEach(KU)};function YU({root:t,...e}){const n=t||document;$d.has(n)||$d.set(n,{});const r=$d.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(QU,{root:t,...e})),r[s]}function XU(t,e,n){const r=YU(e);return $p.set(t,n),r.observe(t),()=>{$p.delete(t),r.unobserve(t)}}const JU={some:0,all:1};class ZU extends rs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:JU[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),m=u?h:f;m&&m(l)};return XU(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(eB(e,n))&&this.startObserver()}unmount(){}}function eB({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const tB={inView:{Feature:ZU},tap:{Feature:qU},focus:{Feature:HU},hover:{Feature:GU}},nB={layout:{ProjectionNode:Kb,MeasureLayout:Ub}},rB={...z9,...tB,...WU,...nB},zd=i9(rB,v9);function sB({activeView:t,setActiveView:e,isDark:n,toggleTheme:r,lang:s,toggleLang:i,user:o,handleLogout:a}){const[l,u]=D.useState(!1),[h,f]=D.useState(!1),m=[{id:"guide",label:" Timeline",emoji:""},{id:"igcse",label:"IGCSE ",emoji:""},{id:"yr1",label:"Yr1 ",emoji:""},{id:"fullcert",label:"Full Cert",emoji:""},{id:"interview",label:"",emoji:""},{id:"offer",label:"Offer & ",emoji:""},{id:"ielts",label:"IELTS ",emoji:""}],v=[{id:"about",label:"",emoji:""},{id:"gpa",label:"GPA ",emoji:""},{id:"journal",label:"Journal",emoji:""}],I=S=>{e(S),u(!1),f(!1)};return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"fixed top-0 left-0 right-0 z-[100] flex justify-center px-4 pt-4 pointer-events-none",children:d.jsxs(zd.nav,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:260,damping:20},className:"pointer-events-auto relative flex items-center gap-2 p-2 bg-white/80 dark:bg-[var(--color-bg-elevated)] backdrop-blur-xl border border-white/20 dark:border-white/10 rounded-full shadow-glass-lg",children:[d.jsx("button",{onClick:()=>I("about"),className:"flex items-center justify-center w-10 h-10 rounded-full bg-black text-white dark:bg-white dark:text-black hover:bg-gray-800 dark:hover:bg-gray-200 transition-colors",children:d.jsx("span",{className:"text-xl",children:""})}),d.jsxs("div",{className:"hidden md:flex items-center gap-1 mx-2",children:[v.map(S=>d.jsx("button",{onClick:()=>I(S.id),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${t===S.id?"bg-black text-white dark:bg-white dark:text-black shadow-md":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-white/10"}`,children:S.label},S.id)),d.jsxs("div",{className:"relative",children:[d.jsxs("button",{onClick:()=>u(!l),className:`flex items-center gap-1 px-4 py-2 rounded-full text-sm font-medium transition-all ${m.some(S=>S.id===t)?"bg-black text-white dark:bg-white dark:text-black shadow-md":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-white/10"}`,children:[" ",d.jsx(tu,{size:14,className:`transition-transform ${l?"rotate-180":""}`})]}),d.jsx(Zx,{children:l&&d.jsxs(zd.div,{initial:{opacity:0,y:8,scale:.96},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:8,scale:.96},className:"absolute top-full left-0 mt-2 w-64 p-2 bg-white/80 dark:bg-[var(--color-bg-elevated)] backdrop-blur-2xl border border-white/20 dark:border-white/10 rounded-2xl shadow-2xl overflow-hidden ring-1 ring-black/5",children:[d.jsx("div",{className:"px-3 py-2 text-[11px] font-bold text-gray-400 uppercase tracking-widest",children:"Guides"}),m.map(S=>d.jsxs("button",{onClick:()=>I(S.id),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-[15px] transition-all duration-200 group ${t===S.id?"bg-black text-white dark:bg-white dark:text-black shadow-sm":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-white/10 hover:text-black dark:hover:text-white"}`,children:[d.jsx("span",{className:"text-lg filter drop-shadow-sm",children:S.emoji}),d.jsx("span",{className:"font-medium",children:S.label})]},S.id))]})})]})]}),d.jsx("div",{className:"hidden md:block w-px h-6 bg-gray-200 dark:bg-white/10 mx-1"}),d.jsxs("div",{className:"hidden md:flex items-center gap-1",children:[d.jsx("button",{onClick:r,className:"p-2.5 rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-white/10 transition-colors",children:n?d.jsx(F0,{size:18}):d.jsx(O0,{size:18})}),o&&d.jsx("button",{onClick:a,className:"p-2.5 rounded-full text-gray-600 dark:text-gray-300 hover:bg-red-50 hover:text-red-500 dark:hover:bg-red-900/20 transition-colors",title:"",children:d.jsx(L0,{size:18})})]}),d.jsx("button",{onClick:()=>f(!h),className:"md:hidden p-2.5 rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-white/10 transition-colors",children:h?d.jsx(Om,{size:20}):d.jsx(EN,{size:20})})]})}),d.jsx(Zx,{children:h&&d.jsx(zd.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"fixed inset-0 z-[90] bg-white/95 dark:bg-[var(--color-bg-elevated)] backdrop-blur-xl pt-24 px-6 pb-6 overflow-y-auto md:hidden",children:d.jsxs("div",{className:"flex flex-col gap-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-3",children:"Menu"}),v.map(S=>d.jsxs("button",{onClick:()=>I(S.id),className:`w-full flex items-center gap-4 px-4 py-3 rounded-2xl text-lg font-bold transition-all ${t===S.id?"bg-black text-white dark:bg-white dark:text-black shadow-md":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-white/5 hover:text-black dark:hover:text-white"}`,children:[d.jsx("span",{className:"text-2xl",children:S.emoji}),S.label]},S.id))]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-3 mt-6",children:"Guides"}),m.map(S=>d.jsxs("button",{onClick:()=>I(S.id),className:`w-full flex items-center gap-4 px-4 py-3 rounded-2xl text-lg font-medium transition-all ${t===S.id?"bg-black text-white dark:bg-white dark:text-black shadow-md":"text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-white/5"}`,children:[d.jsx("span",{className:"text-2xl",children:S.emoji}),S.label]},S.id))]}),d.jsxs("div",{className:"mt-auto pt-6 border-t border-gray-200 dark:border-white/10 flex items-center justify-between",children:[d.jsx("div",{className:"flex gap-4",children:d.jsx("button",{onClick:r,className:"p-3 rounded-full bg-gray-100 dark:bg-white/10 text-gray-600 dark:text-gray-300",children:n?d.jsx(F0,{size:20}):d.jsx(O0,{size:20})})}),o&&d.jsxs("button",{onClick:a,className:"flex items-center gap-2 px-4 py-3 rounded-full bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 font-medium",children:[d.jsx(L0,{size:18}),""]})]})]})})})]})}function iB({children:t}){return d.jsx("div",{className:"min-h-screen w-full bg-[var(--color-bg-page)] text-[var(--color-text-primary)] transition-colors duration-300",children:d.jsx("div",{className:"relative z-10 w-full min-h-screen pt-32 pb-20 px-6 sm:px-8 lg:px-12",children:d.jsx("div",{className:"max-w-7xl mx-auto",children:t})})})}function oB(){const[t,e]=D.useState(()=>localStorage.getItem("lang")||"EN");return Cu.useEffect(()=>{localStorage.setItem("lang",t)},[t]),[t,e]}function Hw({lang:t,onContinueAsGuest:e}){const[n,r]=D.useState(!1),[s,i]=D.useState(""),[o,a]=D.useState(""),[l,u]=D.useState(!1),[h,f]=D.useState(""),m=async()=>{try{u(!0),f(" Google..."),await Tx(Ft,xp)}catch(I){if(console.error("Google sign-in error:",I),I.code==="auth/unauthorized-domain")f(" Firebase ");else if(I.code==="auth/popup-blocked"){f("...");try{await Tx(Ft,xp)}catch(S){console.error("Redirect error:",S),f("")}}else f(I.message||"");u(!1)}},v=async I=>{I.preventDefault(),u(!0),f("");try{n?(await VO(Ft,s,o),f("...")):(await jO(Ft,s,o),f(""))}catch(S){f(S.message),u(!1)}};return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[var(--color-bg-page)] px-4",children:d.jsx("div",{className:"w-full max-w-md",children:d.jsxs("div",{className:"card p-8",children:[d.jsx("h1",{className:"text-h1 text-center mb-2 text-[var(--color-text-primary)]",children:d.jsx("a",{href:"https://www.instagram.com/baaa.14_",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[var(--color-primary)] transition-colors",children:"@baaa.14_"})}),d.jsx("p",{className:"text-center text-[var(--text-body-sm)] text-[var(--color-text-tertiary)] mb-8",children:n?"":""}),d.jsxs("form",{onSubmit:v,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-label text-[var(--color-text-tertiary)] mb-2 block",children:""}),d.jsx("input",{type:"email",value:s,onChange:I=>i(I.target.value),required:!0,className:"input-base w-full",placeholder:""})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-label text-[var(--color-text-tertiary)] mb-2 block",children:""}),d.jsx("input",{type:"password",value:o,onChange:I=>a(I.target.value),required:!0,minLength:6,className:"input-base w-full",placeholder:"6"})]}),h&&d.jsx("div",{className:`text-[var(--text-body-sm)] text-center p-3 rounded-[var(--radius-md)] ${h.includes("Error")||h.includes("")||h.includes("failed")||h.includes("")?"bg-[var(--color-error-subtle)] text-[var(--color-error)] border border-[var(--color-error)]/20":h.includes("success")||h.includes("")?"bg-[var(--color-success-subtle)] text-[var(--color-success)] border border-[var(--color-success)]/20":"bg-[var(--color-info-subtle)] text-[var(--color-info)] border border-[var(--color-info)]/20"}`,children:h}),d.jsx("button",{type:"submit",disabled:l,className:"btn btn-primary w-full bg-black text-white hover:bg-gray-800 dark:bg-white dark:text-black dark:hover:bg-gray-200",children:l?"...":n?"":""})]}),d.jsxs("div",{className:"mt-6",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("div",{className:"w-full border-t border-[var(--color-border-primary)]"})}),d.jsx("div",{className:"relative flex justify-center text-[var(--text-caption)]",children:d.jsx("span",{className:"bg-[var(--color-bg-elevated)] px-3 text-[var(--color-text-quaternary)]",children:""})})]}),d.jsxs("button",{onClick:m,disabled:l,className:"btn btn-secondary w-full mt-6 bg-white border border-gray-200 text-gray-900 hover:bg-gray-50 dark:bg-black dark:border-gray-800 dark:text-white dark:hover:bg-gray-900",children:[d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[d.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),d.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),d.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),d.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})," Google "]})]}),d.jsx("div",{className:"mt-6 text-center",children:d.jsx("button",{onClick:()=>r(!n),className:"text-[var(--text-body-sm)] text-[var(--color-text-tertiary)] hover:text-[var(--color-text-primary)] transition-colors",children:n?"":""})}),d.jsx("div",{className:"mt-6 pt-6 border-t border-[var(--color-border-primary)]",children:d.jsx("button",{onClick:e,className:"btn btn-ghost w-full text-[var(--color-text-tertiary)] hover:text-[var(--color-text-primary)] hover:bg-gray-100 dark:hover:bg-gray-800",children:""})})]})})})}function aB(){const{theme:t,toggleTheme:e}=a2(),[n,r]=oB(),[s,i]=D.useState("guide"),[o,a]=D.useState(null),[l,u]=D.useState(!0),[h,f]=D.useState(!1),[m,v]=D.useState(!1),I=t==="dark";D.useEffect(()=>{if(localStorage.getItem("guestMode")==="true"){f(!0),u(!1);return}h3(Ft).then(P=>{P!=null&&P.user&&(a(P.user),f(!1),localStorage.removeItem("guestMode")),u(!1)}).catch(P=>{console.error("Redirect error:",P),u(!1)});const w=FO(Ft,P=>{a(P),u(!1),P&&(f(!1),localStorage.removeItem("guestMode"))});return()=>w()},[]);const S=()=>{localStorage.setItem("guestMode","true"),f(!0),v(!1)},A=async()=>{await UO(Ft),localStorage.removeItem("guestMode"),f(!1)},x=()=>r("");return l?d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[var(--color-bg-page)]",children:d.jsx("div",{className:"text-[var(--color-text-tertiary)] animate-pulse",children:"..."})}):!o&&!h?d.jsx(Hw,{lang:n,onContinueAsGuest:S}):d.jsxs(d.Fragment,{children:[m&&h&&d.jsx("div",{className:"fixed inset-0 z-[var(--z-modal)] flex items-center justify-center bg-black/60 backdrop-blur-sm px-4",children:d.jsxs("div",{className:"relative max-w-md w-full animate-scale-in",children:[d.jsx("button",{onClick:()=>v(!1),className:"absolute -top-3 -right-3 p-2 bg-[var(--color-bg-elevated)] rounded-full shadow-lg z-10 hover:bg-[var(--color-surface-secondary)] text-[var(--color-text-secondary)] hover:text-[var(--color-text-primary)] border border-[var(--color-border-primary)]",children:d.jsx(Om,{size:20})}),d.jsx(Hw,{lang:n,onContinueAsGuest:()=>v(!1)})]})}),d.jsx(sB,{activeView:s,setActiveView:i,isDark:I,toggleTheme:e,lang:n,toggleLang:x,user:o,handleLogout:A}),d.jsxs(iB,{children:[s==="guide"?d.jsx("div",{className:"animate-fade-in",children:d.jsx(d6,{lang:n})}):s==="igcse"?d.jsx("div",{className:"animate-fade-in",children:d.jsx(p6,{})}):s==="yr1"?d.jsx("div",{className:"animate-fade-in",children:d.jsx(g6,{})}):s==="fullcert"?d.jsx("div",{className:"animate-fade-in",children:d.jsx(v6,{})}):s==="interview"?d.jsx("div",{className:"animate-fade-in",children:d.jsx(x6,{})}):s==="offer"?d.jsx("div",{className:"animate-fade-in",children:d.jsx(E6,{})}):d.jsxs("div",{className:"w-full animate-fade-in",children:[s==="gpa"&&d.jsx(x2,{lang:n}),s==="ielts"&&d.jsx(S6,{lang:n}),s==="journal"&&d.jsx(t6,{}),s==="about"&&d.jsx(r6,{lang:n})]}),d.jsx(I6,{})]})]})}Wd.createRoot(document.getElementById("root")).render(d.jsx(Cu.StrictMode,{children:d.jsx(o2,{children:d.jsx(OR,{basename:"/askba14",children:d.jsx(jR,{children:d.jsx(pT,{path:"/",element:d.jsx(aB,{})})})})})}));
