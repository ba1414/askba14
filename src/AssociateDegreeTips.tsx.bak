import React, { useState, useEffect, useRef } from 'react';
import { 
  Map, ChevronRight, CheckCircle2, AlertCircle, 
  ArrowRight, BookOpen, Users, Brain, Clock, 
  FileText, Trophy, Mail, Lock, Unlock, 
  Target, HelpCircle, XCircle, Play, Pause, 
  RotateCcw, Check, Sparkles, RefreshCw, Shield, 
  Swords, BarChart3, PieChart, Activity, Layers,
  GraduationCap, Heart, Frown, Meh, Smile,
  Calendar, Search, PenTool, Send, FileCheck,
  AlertTriangle, Compass, Briefcase, Sun, Moon,
  Layout, ListChecks, GraduationCap as GradIcon,
  HelpCircle as HelpIcon, MousePointerClick,
  MessageSquare, UserPlus, BookOpenCheck,
  ClipboardList, FileSignature, Stamp,
  CornerDownRight, Lightbulb, Flag,
  Ghost, Zap, Gauge, FileStack,
  MousePointer2, MoveRight, Award
} from 'lucide-react';

// Simple Apple-style emoji image helper (uses emojicdn.elk.sh to render Apple emoji)
const AppleEmoji = ({ emoji, className = 'w-5 h-5' }: { emoji: string; className?: string }) => (
  <img
    src={`https://emojicdn.elk.sh/${encodeURIComponent(emoji)}?style=apple`}
    alt={emoji}
    className={`inline-block select-none pointer-events-none ${className}`}
  />
);

// --- Types ---

type StageData = {
  id: number;
  label: string;
  title: string;
  subtitle: string;
  icon: React.ElementType;
  color: string;
  tabs: {
    id: string;
    label: string;
    content: React.ReactNode;
  }[];
};

// --- Global Components ---

const FadeIn = ({ children, delay = 0 }: { children: React.ReactNode, delay?: number }) => {
  const [isVisible, setVisible] = useState(false);
  const ref = useRef<HTMLDivElement>(null);

  useEffect(() => {
    const observer = new IntersectionObserver(([entry]) => {
      if (entry.isIntersecting) setVisible(true);
    }, { threshold: 0.1 });
    if (ref.current) observer.observe(ref.current);
    return () => observer.disconnect();
  }, []);

  return (
    <div 
      ref={ref}
      className={`transition-all duration-700 transform ${isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-8'}`}
      style={{ transitionDelay: `${delay}ms` }}
    >
      {children}
    </div>
  );
};

// --- Interactive Widgets ---

const PathVisualizer = () => {
  const [activePath, setActivePath] = useState<'retake' | 'asso' | null>(null);

  return (
    <div className="space-y-6">
      <div className="relative h-48 bg-[var(--surface)] rounded-xl border border-[var(--border-subtle)] overflow-hidden p-4 flex items-center justify-center">
        {/* SVG Paths */}
        <svg className="absolute inset-0 w-full h-full pointer-events-none" viewBox="0 0 400 200" preserveAspectRatio="none">
          {/* Start Node */}
          <circle cx="50" cy="100" r="6" fill="var(--text-muted)" />
          
          {/* Path to Retake (Top) */}
          <path 
            d="M 50 100 C 150 100, 150 50, 250 50" 
            fill="none" 
            stroke={activePath === 'retake' ? 'var(--primary)' : 'var(--border-subtle)'} 
            strokeWidth={activePath === 'retake' ? "4" : "2"}
            className="transition-all duration-500"
          />
          
          {/* Path to Asso (Bottom) */}
          <path 
            d="M 50 100 C 150 100, 150 150, 250 150" 
            fill="none" 
            stroke={activePath === 'asso' ? 'var(--primary)' : 'var(--border-subtle)'} 
            strokeWidth={activePath === 'asso' ? "4" : "2"}
            className="transition-all duration-500"
          />
        </svg>

        {/* Interactive Nodes */}
        <div className="absolute left-[10%] top-1/2 -translate-y-1/2">
          <div className="px-3 py-1 rounded-full bg-[var(--text)] text-[var(--bg)] text-xs font-bold">DSE æ”¾æ¦œ</div>
        </div>

        <button 
          onClick={() => setActivePath('retake')}
          className={`absolute right-[15%] top-[20%] p-3 rounded-xl border transition-all duration-300 flex items-center gap-2 ${
            activePath === 'retake' 
              ? 'bg-[var(--primary)] text-white border-[var(--primary)] scale-110 shadow-lg' 
              : 'bg-[var(--surface)] border-[var(--border-subtle)] hover:border-[var(--primary)]'
          }`}
        >
          <RotateCcw size={16} />
          <span className="text-sm font-bold">Retake</span>
        </button>

        <button 
          onClick={() => setActivePath('asso')}
          className={`absolute right-[15%] bottom-[20%] p-3 rounded-xl border transition-all duration-300 flex items-center gap-2 ${
            activePath === 'asso' 
              ? 'bg-[var(--primary)] text-white border-[var(--primary)] scale-110 shadow-lg' 
              : 'bg-[var(--surface)] border-[var(--border-subtle)] hover:border-[var(--primary)]'
          }`}
        >
          <GradIcon size={16} />
          <span className="text-sm font-bold">Asso / HD</span>
        </button>
      </div>

      {/* Info Box */}
      <div className="min-h-[100px] p-4 rounded-xl bg-[var(--surface-highlight)] border border-[var(--border-subtle)] transition-all duration-300">
        {activePath === 'retake' && (
          <div className="animate-in fade-in slide-in-from-top-2">
            <h4 className="font-bold text-[var(--primary)] flex items-center gap-2 mb-2">
              <RotateCcw size={16} /> Retake DSE
            </h4>
            <p className="text-sm text-[var(--text)]">
              é©åˆï¼šå·®å°‘å°‘åˆ†å…¥ Uã€æœ‰ä¿¡å¿ƒæŸç§‘å¯ä»¥å‡ Gradeã€‚<br/>
              é¢¨éšªï¼šä¸€è©¦å®šç”Ÿæ­»ï¼Œå£“åŠ›æ¥µå¤§ã€‚å¦‚æœç„¡å‡åˆ†ï¼Œæµªè²»ä¸€å¹´ã€‚
            </p>
          </div>
        )}
        {activePath === 'asso' && (
          <div className="animate-in fade-in slide-in-from-top-2">
            <h4 className="font-bold text-[var(--primary)] flex items-center gap-2 mb-2">
              <GradIcon size={16} /> Associate Degree / HD
            </h4>
            <p className="text-sm text-[var(--text)]">
              é©åˆï¼šæƒ³è½‰ç’°å¢ƒã€DSE å¤±æ‰‹ä½†è‚¯æã€‚<br/>
              å„ªå‹¢ï¼šæŒçºŒè©•ä¼° (Assignment + Exam)ï¼Œå””ä¿‚ä¸€è©¦å®šç”Ÿæ­»ã€‚å…¥ U ç‡å…¶å¯¦å””ä½ (åªè¦è‚¯è®€)ã€‚
            </p>
          </div>
        )}
        {!activePath && (
          <div className="flex flex-col items-center justify-center h-full text-[var(--text-muted)] text-sm">
            <MousePointer2 size={24} className="mb-2 animate-bounce" />
            é»æ“Šä¸Šé¢å˜…è·¯å¾‘ç‡è©³æƒ…
          </div>
        )}
      </div>
    </div>
  );
};

const TeammateScanner = () => {
  const [scanState, setScanState] = useState<'idle' | 'scanning' | 'result'>('idle');
  const [selectedType, setSelectedType] = useState<string | null>(null);

  const profiles = {
    carry: { name: 'The Carry', icon: Swords, color: 'text-blue-500', stats: [90, 85, 70] },
    ghost: { name: 'The Ghost', icon: Ghost, color: 'text-purple-500', stats: [10, 20, 99] },
    normie: { name: 'The Normie', icon: UserPlus, color: 'text-green-500', stats: [60, 60, 10] },
  };

  const handleScan = (type: string) => {
    setSelectedType(type);
    setScanState('scanning');
    setTimeout(() => setScanState('result'), 800);
  };

  return (
    <div className="grid md:grid-cols-2 gap-6">
      {/* Controls */}
      <div className="space-y-3">
        <div className="text-xs font-bold text-[var(--text-muted)] uppercase mb-2">Select Target</div>
        {Object.entries(profiles).map(([key, p]) => (
          <button
            key={key}
            onClick={() => handleScan(key)}
            className={`w-full p-3 rounded-xl border text-left flex items-center gap-3 transition-all ${
              selectedType === key 
                ? 'bg-[var(--surface-highlight)] border-[var(--primary)]' 
                : 'bg-[var(--surface)] border-[var(--border-subtle)] hover:border-[var(--primary)]'
            }`}
          >
            <div className={`p-2 rounded-lg bg-[var(--bg)] ${p.color}`}>
              <p.icon size={20} />
            </div>
            <span className="font-bold text-sm">{p.name}</span>
            {selectedType === key && <div className="ml-auto w-2 h-2 rounded-full bg-[var(--primary)] animate-pulse"></div>}
          </button>
        ))}
      </div>

      {/* Scanner Display */}
      <div className="bg-[#0a0a10] rounded-xl border border-[var(--border-subtle)] p-6 relative overflow-hidden flex flex-col items-center justify-center min-h-[200px]">
        {/* Grid Background */}
        <div className="absolute inset-0 opacity-20" 
             style={{ backgroundImage: 'linear-gradient(#333 1px, transparent 1px), linear-gradient(90deg, #333 1px, transparent 1px)', backgroundSize: '20px 20px' }}>
        </div>

        {scanState === 'idle' && (
          <div className="text-gray-500 text-xs font-mono animate-pulse">WAITING FOR INPUT...</div>
        )}

        {scanState === 'scanning' && (
          <div className="relative w-full h-full flex items-center justify-center">
            <div className="absolute inset-0 bg-[var(--primary)]/10 animate-pulse"></div>
            <div className="w-full h-0.5 bg-[var(--primary)] absolute top-0 animate-[scan_1s_ease-in-out_infinite]"></div>
            <div className="text-[var(--primary)] font-mono font-bold">SCANNING...</div>
          </div>
        )}

        {scanState === 'result' && selectedType && (
          <div className="relative z-10 w-full space-y-4 animate-in zoom-in-95 duration-300">
            <div className="flex items-center gap-2 text-white font-bold border-b border-gray-800 pb-2">
              {React.createElement(profiles[selectedType as keyof typeof profiles].icon, { size: 18, className: profiles[selectedType as keyof typeof profiles].color })}
              {profiles[selectedType as keyof typeof profiles].name}
            </div>
            
            <div className="space-y-3">
              {[
                { label: 'Reliability', value: profiles[selectedType as keyof typeof profiles].stats[0], color: 'bg-blue-500' },
                { label: 'Skill', value: profiles[selectedType as keyof typeof profiles].stats[1], color: 'bg-purple-500' },
                { label: 'Ghost Risk', value: profiles[selectedType as keyof typeof profiles].stats[2], color: 'bg-red-500' },
              ].map((stat, i) => (
                <div key={i} className="space-y-1">
                  <div className="flex justify-between text-xs text-gray-400">
                    <span>{stat.label}</span>
                    <span>{stat.value}%</span>
                  </div>
                  <div className="h-1.5 bg-gray-800 rounded-full overflow-hidden">
                    <div 
                      className={`h-full ${stat.color} transition-all duration-1000 ease-out`}
                      style={{ width: `${stat.value}%` }}
                    ></div>
                  </div>
                </div>
              ))}
            </div>
          </div>
        )}
      </div>
    </div>
  );
};

const GpaGauge = () => {
  const [grades, setGrades] = useState([4.0, 3.3, 3.0, 4.3, 3.7]);
  
  const calculateGPA = () => {
    const sum = grades.reduce((a, b) => a + b, 0);
    return (sum / grades.length).toFixed(2);
  };

  const gpa = parseFloat(calculateGPA());
  const percentage = (gpa / 4.3) * 100;

  return (
    <div className="flex flex-col md:flex-row gap-8 items-center">
      {/* Gauge */}
      <div className="relative w-48 h-24 overflow-hidden">
        <div className="absolute bottom-0 left-0 w-full h-full bg-[var(--surface-highlight)] rounded-t-full border-t border-x border-[var(--border-subtle)]"></div>
        <div 
          className="absolute bottom-0 left-0 w-full h-full bg-[var(--primary)] origin-bottom transition-transform duration-500 ease-out opacity-20 rounded-t-full"
          style={{ transform: `rotate(${percentage * 1.8 - 180}deg)` }}
        ></div>
        <div className="absolute bottom-0 left-1/2 -translate-x-1/2 text-center mb-2">
          <div className="text-3xl font-bold text-[var(--text)]">{gpa}</div>
          <div className="text-[10px] text-[var(--text-muted)] uppercase tracking-widest">CGPA</div>
        </div>
      </div>

      {/* Controls */}
      <div className="flex-1 grid grid-cols-5 gap-2">
        {grades.map((g, i) => (
          <div key={i} className="flex flex-col gap-1">
            <div className="h-24 bg-[var(--surface)] rounded-lg relative overflow-hidden border border-[var(--border-subtle)] group cursor-pointer hover:border-[var(--primary)]">
              <div 
                className="absolute bottom-0 left-0 right-0 bg-[var(--primary)] transition-all duration-300 opacity-80 group-hover:opacity-100"
                style={{ height: `${(g / 4.3) * 100}%` }}
              ></div>
              <input 
                type="range" 
                min="0" max="4.3" step="0.3"
                value={g}
                onChange={(e) => {
                  const newGrades = [...grades];
                  newGrades[i] = parseFloat(e.target.value);
                  setGrades(newGrades);
                }}
                className="absolute inset-0 opacity-0 cursor-pointer"
              />
            </div>
            <div className="text-center text-xs font-bold text-[var(--text-muted)]">Sub {i+1}</div>
          </div>
        ))}
      </div>
    </div>
  );
};

const DocumentStack = () => {
  const [activeIndex, setActiveIndex] = useState(0);
  const docs = [
    { title: 'Personal Statement', icon: FileText, color: 'bg-blue-500', desc: 'ä½ çš„æ•…äº‹æ ¸å¿ƒã€‚è¬›æ¸…æ¥šã€Œé»è§£æƒ³è®€ã€åŒã€Œä½ æœ‰å’©æº–å‚™ã€ã€‚' },
    { title: 'Transcript', icon: FileCheck, color: 'bg-green-500', desc: 'GPA ä¿‚å…¥å ´åˆ¸ã€‚Year 1 Sem 1 æˆç¸¾æœ€é—œéµã€‚' },
    { title: 'Reference Letter', icon: FileSignature, color: 'bg-purple-500', desc: 'æµå€‹ç†Ÿä½ å˜… Lecturer å¯«ã€‚æ—©å•² Requestï¼Œå””å¥½è‡¨ Deadline å…ˆå•ã€‚' },
    { title: 'Certificates', icon: Award, color: 'bg-orange-500', desc: 'åªæ”¾æœ€ Relevant å˜…çé …ã€‚ä¸­å­¸é™¸é‹æœƒé‡‘ç‰Œé€šå¸¸ç„¡ç”¨ã€‚' },
  ];

  const nextDoc = () => setActiveIndex((prev) => (prev + 1) % docs.length);

  return (
    <div className="flex flex-col md:flex-row gap-8 items-center">
      {/* Stack Visual */}
      <div className="relative w-64 h-48 cursor-pointer group" onClick={nextDoc}>
        {docs.map((doc, i) => {
          const offset = (i - activeIndex + docs.length) % docs.length;
          const isTop = offset === 0;
          
          return (
            <div
              key={i}
              className={`absolute inset-0 rounded-xl border border-[var(--border-subtle)] bg-[var(--surface)] shadow-lg transition-all duration-500 ease-out flex flex-col items-center justify-center gap-3 p-4
                ${isTop ? 'z-10 scale-100 opacity-100 translate-y-0 rotate-0' : 'z-0 scale-90 opacity-40 translate-y-4 rotate-6'}
              `}
              style={{ 
                transform: isTop ? 'none' : `translateY(${offset * 10}px) scale(${1 - offset * 0.05})`,
                zIndex: docs.length - offset 
              }}
            >
              <div className={`p-3 rounded-full ${doc.color} text-white`}>
                <doc.icon size={24} />
              </div>
              <div className="font-bold text-sm text-center">{doc.title}</div>
              {isTop && (
                <div className="absolute top-2 right-2 text-[10px] text-[var(--text-muted)] animate-pulse">
                  Click for next
                </div>
              )}
            </div>
          );
        })}
      </div>

      {/* Description */}
      <div className="flex-1 space-y-4">
        <div className="flex items-center gap-2 text-[var(--primary)] font-bold uppercase tracking-widest text-xs">
          <FileStack size={14} /> Document {activeIndex + 1} / {docs.length}
        </div>
        <h3 className="text-2xl font-bold">{docs[activeIndex].title}</h3>
        <p className="text-[var(--text-muted)] leading-relaxed">
          {docs[activeIndex].desc}
        </p>
        <button 
          onClick={nextDoc}
          className="flex items-center gap-2 text-sm font-bold hover:text-[var(--primary)] transition-colors"
        >
          Next Document <MoveRight size={16} />
        </button>
      </div>
    </div>
  );
};

const ComparisonSlider = () => {
  const [mode, setMode] = useState<'retake' | 'asso'>('asso');

  return (
    <div className="bg-[var(--surface)] rounded-2xl border border-[var(--border-subtle)] overflow-hidden">
      <div className="flex border-b border-[var(--border-subtle)]">
        <button 
          onClick={() => setMode('retake')}
          className={`flex-1 py-4 font-bold text-sm transition-colors ${mode === 'retake' ? 'bg-[var(--primary)] text-white' : 'hover:bg-[var(--surface-highlight)]'}`}
        >
          Retake DSE
        </button>
        <button 
          onClick={() => setMode('asso')}
          className={`flex-1 py-4 font-bold text-sm transition-colors ${mode === 'asso' ? 'bg-[var(--primary)] text-white' : 'hover:bg-[var(--surface-highlight)]'}`}
        >
          è®€ Asso / HD
        </button>
      </div>
      <div className="p-6 space-y-4">
        <div className="grid grid-cols-[100px_1fr] gap-4 items-center">
          <div className="text-xs font-bold text-[var(--text-muted)] uppercase">å­¸ç¿’å…§å®¹</div>
          <div className="text-sm">
            {mode === 'retake' ? 'æº«ç¿’èˆŠæœ‰ä¸­å­¸ Syllabusï¼Œæ“ Past Paperã€‚' : 'å…¨æ–°å¤§å°ˆèª²ç¨‹ï¼Œæ¶‰çµå°ˆæ¥­çŸ¥è­˜ (e.g. Marketing, Psych)ã€‚'}
          </div>
        </div>
        <div className="grid grid-cols-[100px_1fr] gap-4 items-center">
          <div className="text-xs font-bold text-[var(--text-muted)] uppercase">é¢¨éšª & å£“åŠ›</div>
          <div className="text-sm">
            {mode === 'retake' ? 'ä¸€è©¦å®šç”Ÿæ­»ã€‚å£“åŠ›æ¥µå¤§ï¼Œå®¹éŒ¯ç‡ä½ã€‚' : 'æŒçºŒè©•ä¼° (Assignment + Exam)ã€‚å£“åŠ›åˆ†æ•£ï¼Œä½†è¦ Keep ä½ consistentã€‚'}
          </div>
        </div>
        <div className="grid grid-cols-[100px_1fr] gap-4 items-center">
          <div className="text-xs font-bold text-[var(--text-muted)] uppercase">å‡å¤§å­¸</div>
          <div className="text-sm">
            {mode === 'retake' ? 'JUPAS (ä¸»è¦é€”å¾‘)ã€‚' : 'Non-JUPAS (ä¸»è¦é€”å¾‘) / é«˜å¹´ç´šå…¥å­¸ (Year 3)ã€‚'}
          </div>
        </div>
      </div>
    </div>
  );
};

const HudIcons = () => {
  const [activeTooltip, setActiveTooltip] = useState<string | null>(null);

  const items = [
    { id: 'gpa', icon: BarChart3, label: 'GPA', desc: '4.3 Scale (A+ = 4.3). 4.0 is already perfect.' },
    { id: 'timetable', icon: Calendar, label: 'Timetable', desc: 'Check gaps. Don\'t skip lectures.' },
    { id: 'portal', icon: Layout, label: 'Portal', desc: 'Moodle / Canvas. Download notes BEFORE class.' },
    { id: 'email', icon: Mail, label: 'Email', desc: 'Check daily. Official comms happen here.' },
  ];

  return (
    <div className="grid grid-cols-2 gap-4">
      {items.map(item => (
        <div 
          key={item.id}
          className="relative group"
          onMouseEnter={() => setActiveTooltip(item.id)}
          onMouseLeave={() => setActiveTooltip(null)}
        >
          <div className="p-4 rounded-xl bg-[var(--surface)] border border-[var(--border-subtle)] flex flex-col items-center gap-2 hover:border-[var(--primary)] transition-colors cursor-help">
            <item.icon className="text-[var(--primary)]" />
            <span className="font-bold text-sm">{item.label}</span>
          </div>
          {activeTooltip === item.id && (
            <div className="absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-48 p-3 bg-[var(--text)] text-[var(--bg)] text-xs rounded-lg shadow-xl z-20 pointer-events-none">
              {item.desc}
              <div className="absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-[var(--text)]"></div>
            </div>
          )}
        </div>
      ))}
    </div>
  );
};

const RoleCards = () => {
  const [expanded, setExpanded] = useState<string | null>(null);

  const roles = [
    { id: 'carry', label: 'Carry å‹', icon: Swords, desc: 'èƒ½åŠ›å¼·ï¼Œä¸»å‹•å¸¶é ˜ã€‚è·Ÿä½ä½¢æœ‰é‹è¡Œï¼Œä½†å””å¥½åš Freeriderã€‚' },
    { id: 'safe', label: 'ç©©é™£å‹', icon: Shield, desc: 'å””æœƒç‰¹åˆ¥å‡ºå½©ï¼Œä½†æœƒæº–æ™‚äº¤è²¨ã€‚å¥½éšŠå‹ã€‚' },
    { id: 'free', label: 'Freerider', icon: Frown, desc: 'å¤±è¹¤ã€é²äº¤ã€æ±‚å…¶ã€‚å¿…é ˆå„˜æ—©è­˜åˆ¥ï¼Œä¿ç•™è­‰æ“š Reportã€‚' },
  ];

  return (
    <div className="flex gap-2 overflow-x-auto pb-2">
      {roles.map(role => (
        <button
          key={role.id}
          onClick={() => setExpanded(expanded === role.id ? null : role.id)}
          className={`flex-shrink-0 p-4 rounded-xl border transition-all text-left w-32 ${
            expanded === role.id 
              ? 'bg-[var(--primary)] text-white border-[var(--primary)] w-48' 
              : 'bg-[var(--surface)] border-[var(--border-subtle)] hover:border-[var(--primary)]'
          }`}
        >
          <role.icon size={24} className="mb-2" />
          <div className="font-bold text-sm mb-1">{role.label}</div>
          {expanded === role.id && (
            <div className="text-xs opacity-90 animate-in fade-in slide-in-from-top-2">
              {role.desc}
            </div>
          )}
        </button>
      ))}
    </div>
  );
};

const GradeSlider = () => {
  const [val, setVal] = useState(2); // 0:C, 1:B, 2:A
  const grades = ['C / D', 'B Range', 'A Range'];
  const messages = [
    'ç”¨å†·éœ checklist è©•ä¼° appealã€‚å””å¥½å…¨æƒ…æ€ªåˆ¶åº¦ï¼Œè«—ä¸‹æœ‰ç„¡å¾—æ•‘ã€‚',
    'æ­£å¸¸ç™¼æ®ã€‚ç¹¼çºŒå„ªåŒ–è®€æ›¸æ–¹æ³•ï¼Œè¡ Aã€‚',
    'æ­å–œï¼ä¿æŒ Effortï¼Œå””å¥½é¬†æ‡ˆã€‚'
  ];

  return (
    <div className="p-6 bg-[var(--surface)] rounded-2xl border border-[var(--border-subtle)]">
      <h4 className="font-bold mb-4">ä½ ä¼°è‡ªå·±å‘¢ç§‘ Grade ä¿‚ï¼Ÿ</h4>
      <input 
        type="range" 
        min="0" 
        max="2" 
        step="1"
        value={val}
        onChange={(e) => setVal(parseInt(e.target.value))}
        className="w-full h-2 bg-[var(--border-subtle)] rounded-lg appearance-none cursor-pointer accent-[var(--primary)] mb-4"
      />
      <div className="flex justify-between text-xs font-bold text-[var(--text-muted)] mb-4">
        {grades.map((g, i) => <span key={i} className={i === val ? 'text-[var(--primary)]' : ''}>{g}</span>)}
      </div>
      <div className="p-3 rounded-lg bg-[var(--surface-highlight)] text-sm text-[var(--text)]">
        <span className="font-bold text-[var(--primary)]">Mindset: </span>
        {messages[val]}
      </div>
    </div>
  );
};

const ChecklistBoard = () => {
  return (
    <div className="grid grid-cols-3 gap-2 text-xs">
      <div className="space-y-2">
        <div className="font-bold text-[var(--text-muted)] text-center">å·²ç¶“æœ‰</div>
        <div className="p-2 bg-[var(--surface)] border border-[var(--border-subtle)] rounded text-center">DSE æˆç¸¾</div>
        <div className="p-2 bg-[var(--surface)] border border-[var(--border-subtle)] rounded text-center">èº«ä»½è­‰</div>
      </div>
      <div className="space-y-2">
        <div className="font-bold text-[var(--text-muted)] text-center">æº–å‚™ç·Š</div>
        <div className="p-2 bg-[var(--primary)]/10 border border-[var(--primary)] rounded text-center text-[var(--primary)] font-bold">Personal Statement</div>
        <div className="p-2 bg-[var(--primary)]/10 border border-[var(--primary)] rounded text-center text-[var(--primary)] font-bold">Reference Letter</div>
      </div>
      <div className="space-y-2">
        <div className="font-bold text-[var(--text-muted)] text-center">ä»²æœªé–‹å§‹</div>
        <div className="p-2 bg-[var(--surface)] border border-[var(--border-subtle)] rounded text-center opacity-50">Interview Prep</div>
      </div>
    </div>
  );
};

const OfferCarousel = () => {
  const offers = [
    { title: 'Conditional', desc: 'æœ‰æ¢ä»¶å–éŒ„ã€‚é€šå¸¸è¦æ±‚ CGPA > 3.xã€‚ä½ è¦ Keep ä½å€‹åˆ†ã€‚', color: 'bg-amber-50 border-amber-200 text-amber-900', icon: AlertCircle },
    { title: 'Direct Offer', desc: 'ç›´æ¥å–éŒ„ã€‚æ­å–œä½ ï¼äº¤éŒ¢ç•™ä½å°±å¾—ã€‚', color: 'bg-emerald-50 border-emerald-200 text-emerald-900', icon: CheckCircle2 },
    { title: 'Waiting List', desc: 'å€™è£œåå–®ã€‚å””å¥½ç°å¿ƒï¼Œæœ‰äººæ”¾ä½å°±æœ‰æ©Ÿæœƒã€‚', color: 'bg-blue-50 border-blue-200 text-blue-900', icon: Clock },
  ];

  return (
    <div className="flex gap-4 overflow-x-auto pb-4 snap-x">
      {offers.map((o, i) => (
        <div key={i} className={`snap-center flex-shrink-0 w-64 p-6 rounded-2xl border-2 ${o.color} transition-all hover:-translate-y-1 shadow-sm relative overflow-hidden group`}>
          <div className="absolute -right-4 -top-4 opacity-10 group-hover:opacity-20 transition-opacity rotate-12">
            <o.icon size={100} />
          </div>
          <div className="flex justify-between items-start mb-4 relative z-10">
            <div className="p-3 rounded-xl bg-white/60 backdrop-blur-sm shadow-sm">
              <o.icon size={24} />
            </div>
            <div className="px-2 py-1 rounded text-[10px] font-bold bg-white/50 uppercase tracking-wider">Official</div>
          </div>
          <div className="font-bold text-xl mb-2 relative z-10">{o.title}</div>
          <div className="text-sm opacity-90 leading-relaxed relative z-10">{o.desc}</div>
        </div>
      ))}
    </div>
  );
};

const EncouragementWall = () => {
  const quotes = [
    "ä½ å””ä¿‚è¼¸å’—ï¼Œåªä¿‚ä»²æœªå®Œçµã€‚",
    "ä½ è€Œå®¶é ‚ç·Šå˜…å£“åŠ›ï¼Œä¿‚ä¹‹å¾Œé¢è©¦å˜…æ•…äº‹ç´ æã€‚",
    "ä¼‘æ¯æ˜¯ç‚ºäº†èµ°æ›´é•·çš„è·¯ã€‚",
    "Plan B å””ä¿‚å¤±æ•—ï¼Œä¿‚å¦ä¸€æ¢è·¯ã€‚"
  ];

  return (
    <div className="grid grid-cols-2 gap-3">
      {quotes.map((q, i) => (
        <div key={i} className="p-3 rounded-lg bg-[var(--surface-highlight)] text-xs font-medium text-[var(--text)] border border-[var(--border-subtle)]">
          "{q}"
        </div>
      ))}
    </div>
  );
};

// StatsBanner component restored with empty stat text values

const StatsBanner = ({ stats }: { stats?: any[] }) => {
  const defaultStats = [
    { label: '', value: '', desc: '', color: 'text-emerald-500' },
    { label: '', value: '', desc: '', color: 'text-blue-500' },
    { label: '', value: '', desc: '', color: 'text-purple-500' },
    { label: '', value: '', desc: '', color: 'text-orange-500' },
  ];
  const items = stats || defaultStats;
  return (
    <div className="grid grid-cols-2 md:grid-cols-4 gap-4 py-8 border-y border-[var(--border-subtle)] bg-[var(--surface)]/50 backdrop-blur-sm my-12">
      {items.map((s, i) => (
        <div key={i} className="text-center space-y-1 group cursor-default">
          <div className={`text-3xl md:text-4xl font-black tracking-tighter ${s.color} group-hover:scale-110 transition-transform duration-300`}>
            {s.value}
          </div>
          <div className="text-xs font-bold uppercase tracking-widest text-[var(--text-muted)]">{s.label}</div>
          <div className="text-[10px] text-[var(--text-muted)] opacity-0 group-hover:opacity-100 transition-opacity">{s.desc}</div>
        </div>
      ))}
    </div>
  );
};

// --- Stage Data ---

const STAGES: StageData[] = [
  {
    id: 0,
    label: "Stage 0",
    title: "DSE æ”¾æ¦œ â€” Retake å®š Asso / HDï¼Ÿ",
    subtitle: "é¸æ“‡è·¯ç·šï¼šRetake Â· Asso Â· HD",
    icon: Map,
    color: "from-red-500 to-orange-500",
    tabs: [
      {
        id: "action",
        label: "æˆ‘ä¾å®¶æœƒåšå•²å’©ï¼Ÿ",
        content: (
          <div className="space-y-4 text-sm">
            <div className="grid gap-4 md:grid-cols-3">
              <div className="p-4 rounded-xl bg-[var(--surface)] border border-[var(--border-subtle)] text-center">
                <div className="mx-auto w-12 h-12 rounded-full bg-[var(--bg)] flex items-center justify-center mb-3">
                  <AppleEmoji emoji={"ğŸ“š"} className="w-6 h-6" />
                </div>
                <div className="font-bold">Retake</div>
                <div className="text-xs text-[var(--text-muted)] mt-1">é‡è€ƒ DSEï¼Œç›®æ¨™æé«˜åˆ†æ•¸å…¥å¤§å­¸ã€‚</div>
              </div>

              <div className="p-4 rounded-xl bg-[var(--surface)] border border-[var(--border-subtle)] text-center">
                <div className="mx-auto w-12 h-12 rounded-full bg-[var(--bg)] flex items-center justify-center mb-3">
                  <AppleEmoji emoji={"ğŸ“"} className="w-6 h-6" />
                </div>
                <div className="font-bold">Asso</div>
                <div className="text-xs text-[var(--text-muted)] mt-1">å°±è®€å‰¯å­¸å£« / é«˜ç´šæ–‡æ†‘ï¼Œé€é GPA çˆ­å–å‡å­¸æ©Ÿæœƒã€‚</div>
              </div>

              <div className="p-4 rounded-xl bg-[var(--surface)] border border-[var(--border-subtle)] text-center">
                <div className="mx-auto w-12 h-12 rounded-full bg-[var(--bg)] flex items-center justify-center mb-3">
                  <AppleEmoji emoji={"â³"} className="w-6 h-6" />
                </div>
                <div className="font-bold">HD</div>
                <div className="text-xs text-[var(--text-muted)] mt-1">Higher Diplomaï¼Œå¦ä¸€æ¢å‡å­¸ / å°±æ¥­é€”å¾‘ã€‚</div>
              </div>
            </div>

            <div className="pt-2">
              <ul className="space-y-3">
                <li className="flex gap-2"><CheckCircle2 size={16} className="text-[var(--primary)] flex-shrink-0" /> æ±ºå®šå¤§æ–¹å‘ï¼šRetake / Asso / HDã€‚</li>
                <li className="flex gap-2"><CheckCircle2 size={16} className="text-[var(--primary)] flex-shrink-0" /> å¦‚æœé¸ Assoï¼šæ€å­¸ç§‘è¦åŒè‡ªå·±èƒ½åŠ› + èˆˆè¶£ + ä¹‹å¾Œå‡ºè·¯å°é½Šã€‚</li>
                <li className="flex gap-2"><CheckCircle2 size={16} className="text-[var(--primary)] flex-shrink-0" /> ç•™æ„ associate institutions å˜…å‡å­¸ç‡ã€èª²ç¨‹çµæ§‹ï¼Œè€Œå””ä¿‚æ·¨ä¿‚ç‡å®£å‚³ã€‚</li>
              </ul>
            </div>
          </div>
        )
      },
      {
        id: "why",
        label: "é»è§£è¦åšï¼Ÿ",
        content: (
          <div className="space-y-3 text-sm">
            <p>Asso å””ä¿‚æµªè²»æ™‚é–“ï¼Œä¿‚ <strong>Second Chance</strong>ã€‚å¤§å­¸å””æœƒç‡ä½  DSE å¹¾å¤šåˆ† (åªè¦ç¬¦åˆåŸºæœ¬å…¥å­¸è¦æ±‚)ï¼Œé‡é»ä¿‚ä½ å–º Asso å˜… GPAã€‚</p>
            <div className="p-3 bg-[var(--surface-highlight)] rounded-lg">
              <strong>2+2 vs 1+4:</strong><br/>
              å¤§éƒ¨åˆ†äººè¡Œ 2+2 (è®€å®Œ 2 å¹´ Asso å…¥ Year 3)ã€‚<br/>
              æ¥µå°‘æ•¸äººè¡Œ 1+4 (è®€å®Œ 1 å¹´ Asso å…¥ Year 1)ï¼Œéœ€è¦æ¥µé«˜ GPAã€‚
            </div>
          </div>
        )
      },
      {
        id: "tools",
        label: "Interactive Path",
        content: <PathVisualizer />
      }
    ]
  },
  {
    id: 1,
    label: "Stage 1",
    title: "é–‹å­¸é ­å…©æ˜ŸæœŸ",
    subtitle: "ææ¸…æ¥šéŠæˆ²è¦å‰‡",
    icon: Flag,
    color: "from-orange-500 to-amber-500",
    tabs: [
      {
        id: "action",
        label: "Timeline",
        content: (
          <div className="space-y-4 text-sm">
            <div className="flex gap-3">
              <div className="font-bold text-[var(--primary)] w-16 flex-shrink-0">Day 1-3</div>
              <div>è½ Orientation / æå­¸ç”Ÿè¨¼ / Login å„ç¨®ç³»çµ± (Moodle, Portal)ã€‚</div>
            </div>
            <div className="flex gap-3">
              <div className="font-bold text-[var(--primary)] w-16 flex-shrink-0">Day 4-7</div>
              <div>ç†Ÿæ‚‰ Timetableã€çŸ¥é‚Šç§‘è¦ Group Projectã€‚Download å®š Course Outlineã€‚</div>
            </div>
            <div className="flex gap-3">
              <div className="font-bold text-[var(--primary)] w-16 flex-shrink-0">Day 8-14</div>
              <div>è©¦åå‰æ’ã€ä¸»å‹•å•å•é¡Œã€è­˜ä¸€å…©å€‹ã€Œæ›¸å‹ã€(éé…’è‚‰æœ‹å‹)ã€‚</div>
            </div>
          </div>
        )
      },
      {
        id: "why",
        label: "Why?",
        content: (
          <ul className="space-y-3 text-sm">
            <li className="flex gap-2"><Lightbulb size={16} className="text-[var(--primary)] flex-shrink-0" /> Asso ç¯€å¥æ¥µå¿« (13 å€‹æ˜ŸæœŸå°±å®Œ Sem)ï¼Œæ—©å…©æ˜ŸæœŸå””ææ‚ï¼Œä¹‹å¾Œæœƒå¥½äº‚ã€‚</li>
            <li className="flex gap-2"><Lightbulb size={16} className="text-[var(--primary)] flex-shrink-0" /> GPA ç”± <strong>Day 1</strong> å·²ç¶“é–‹å§‹è¨ˆã€‚ç„¡ã€Œè©¦ç© Semesterã€å‘¢å›äº‹ã€‚</li>
            <li className="flex gap-2"><Lightbulb size={16} className="text-[var(--primary)] flex-shrink-0" /> "You're the average of the 5 people..." è­˜å•±äººå½±éŸ¿ä½ ä¹‹å¾Œå…©å¹´ã€‚</li>
          </ul>
        )
      },
      {
        id: "tools",
        label: "HUD",
        content: <HudIcons />
      }
    ]
  },
  {
    id: 2,
    label: "Stage 2",
    title: "Sem 1 æˆ°é¬¥æœŸ",
    subtitle: "è®€æ›¸æ–¹æ³• + Group Project",
    icon: Swords,
    color: "from-amber-500 to-yellow-500",
    tabs: [
      {
        id: "action",
        label: "Checklist",
        content: (
          <div className="space-y-3 text-sm">
            <div className="font-bold mb-2">Before you say YES to a group:</div>
            <ul className="space-y-2">
              <li className="flex gap-2"><Check size={16} className="text-[var(--primary)]" /> å•å°æ–¹ç›®æ¨™ Uni / Programã€‚</li>
              <li className="flex gap-2"><Check size={16} className="text-[var(--primary)]" /> å•ä½¢çŸ¥å””çŸ¥ GPA è¦å¹¾å¤šåˆ†å…ˆå…¥åˆ°ã€‚</li>
              <li className="flex gap-2"><Check size={16} className="text-[var(--primary)]" /> ç‡å“ä½¢å¹³æ™‚ä¸Šå ‚æœ‰å†‡å‡ºç¾ / æœ‰å†‡å•æ›¸ã€‚</li>
            </ul>
          </div>
        )
      },
      {
        id: "why",
        label: "Methods",
        content: (
          <div className="grid grid-cols-1 gap-3 text-sm">
            <div className="p-3 border border-[var(--border-subtle)] rounded-lg">
              <div className="font-bold text-[var(--primary)]">Feynman æŠ€å·§</div>
              <div>ç”¨è‡ªå·±èªªå¾—æ˜ï¼Œå…ˆç®—æ˜ç™½ã€‚è©¦ä¸‹æ•™ä½ å•²åŒå­¸ã€‚</div>
            </div>
            <div className="p-3 border border-[var(--border-subtle)] rounded-lg">
              <div className="font-bold text-[var(--primary)]">Past Paper ç­–ç•¥</div>
              <div>å””ä¿‚æ·¨ä¿‚æ“ï¼Œä¿‚ç¸½çµéŒ¯è™•ã€‚æµå‡ºé¡Œ Patternã€‚</div>
            </div>
          </div>
        )
      },
      {
        id: "tools",
        label: "Teammate Scanner",
        content: <TeammateScanner />
      }
    ]
  },
  {
    id: 3,
    label: "Stage 3",
    title: "Exam & æˆç¸¾",
    subtitle: "Curve / é æœŸ vs å¯¦éš› / Appeal",
    icon: BarChart3,
    color: "from-yellow-500 to-lime-500",
    tabs: [
      {
        id: "action",
        label: "Decision",
        content: (
          <div className="space-y-3 text-sm">
            <div className="font-bold">å€¼å””å€¼å¾— Appeal?</div>
            <div className="pl-4 border-l-2 border-[var(--border-subtle)] space-y-2">
              <div>1. æœ‰å†‡å®¢è§€ç†ç”±ï¼Ÿ(e.g. MC åš´é‡å°å””åˆ° Answer)</div>
              <div>2. å‘¢ç§‘ä¿‚å’ªå°ä½  Non-JUPAS ç”³è«‹å¥½é—œéµï¼Ÿ</div>
              <div>3. ä½ æœ‰å†‡æ™‚é–“ + å¿ƒç†ç©ºé–“å»è™•ç†ï¼Ÿ</div>
            </div>
            <div className="text-[var(--text-muted)] text-xs mt-2">å¦‚æœç­”æ¡ˆä¿‚ NOï¼Œå°ˆå¿ƒå‘å‰å¥½éã€‚</div>
          </div>
        )
      },
      {
        id: "why",
        label: "Mindset",
        content: (
          <div className="space-y-3 text-sm">
            <p>Curve ä¿‚å­˜åœ¨ï¼Œä½†ä½ æ§åˆ¶å””åˆ°ã€‚é‡é»ä¿‚ï¼š</p>
            <ul className="list-disc list-inside space-y-1 text-[var(--text-muted)]">
              <li>æ¸›å°‘å¤±æº– (Careless mistakes)</li>
              <li>å°‘äº¤ç™½å· (å³ä½¿å””è­˜éƒ½è¦å¯« steps)</li>
              <li>å””åš Deadline Fighter</li>
            </ul>
            <p>æ¯”è¼ƒè‡ªå·± vs Semester é–‹é ­çš„è‡ªå·±ï¼Œè€Œå””ä¿‚ vs å®Œç¾æƒ³åƒã€‚</p>
          </div>
        )
      },
      {
        id: "tools",
        label: "GPA Simulator",
        content: <GpaGauge />
      }
    ]
  },
  {
    id: 4,
    label: "Stage 4",
    title: "å…¨å±€æ™‚é–“ç·š",
    subtitle: "å…©å¹´ Asso Roadmap",
    icon: Calendar,
    color: "from-lime-500 to-green-500",
    tabs: [
      {
        id: "action",
        label: "Timeline",
        content: (
          <div className="space-y-4 text-sm relative">
            <div className="absolute left-[7px] top-2 bottom-2 w-0.5 bg-[var(--border-subtle)]"></div>
            {[
              { t: 'Y1 Sem 1', d: 'å°ˆå¿ƒé©æ‡‰ã€æ‰“å¥½ GPAã€é–‹å§‹è«— Full Cert / èªæ–‡è£œæ•‘ã€‚' },
              { t: 'Y1 Sem Break', d: 'ä¼‘æ¯å°‘å°‘ï¼Œè™•ç† DSE / IELTS / å…¶ä»–è€ƒè©¦ã€‚' },
              { t: 'Y1 Sem 2', d: 'æŒçºŒ Keep ä½ GPAã€ä¸é¬†æ‡ˆã€‚' },
              { t: 'Y2 Sem 1', d: 'Non-JUPAS å ±åæœŸã€æ”¶ Interviewã€æº–å‚™ PSã€‚' },
              { t: 'Y2 Sem Break', d: 'é™¸çºŒæ”¶ Conditional / Direct Offersã€‚' },
              { t: 'Y2 Sem 2', d: 'è™•ç†æ–‡ä»¶ã€ç•™ä½è²»ã€å®£èª“ã€Reg ç§‘ã€‚' }
            ].map((item, i) => (
              <div key={i} className="flex gap-3 relative z-10">
                <div className="w-4 h-4 rounded-full bg-[var(--primary)] border-2 border-[var(--bg)] flex-shrink-0"></div>
                <div>
                  <div className="font-bold text-[var(--primary)]">{item.t}</div>
                  <div className="text-[var(--text-muted)]">{item.d}</div>
                </div>
              </div>
            ))}
          </div>
        )
      },
      {
        id: "why",
        label: "Perspectives",
        content: (
          <div className="space-y-3 text-sm">
            <div className="p-3 bg-[var(--surface-highlight)] rounded-lg">
              <div className="font-bold text-[var(--primary)]">Year 1 å°±æƒ³èµ° (1+4)?</div>
              <div>æ¥µé›£ã€‚GPA è¦çˆ† 4 (æ¥è¿‘æ»¿åˆ†)ã€‚DSE æˆç¸¾éƒ½è¦è¦‹å¾—äººã€‚å»ºè­°ç•¶ Bonusï¼Œå””å¥½ç•¶å”¯ä¸€ç›®æ¨™ã€‚</div>
            </div>
            <div className="p-3 border border-[var(--border-subtle)] rounded-lg">
              <div className="font-bold text-[var(--text)]">è¡Œç©©é™£ Year 2 èµ° (2+2)</div>
              <div>ä¸»æµç©æ³•ã€‚Year 1 GPA ä¿‚å…¥å ´åˆ¸ã€‚Year 2 Sem 1 ä¿‚æ±ºå‹å±€ã€‚</div>
            </div>
          </div>
        )
      },
      {
        id: "tools",
        label: "Radar",
        content: (
          <div className="space-y-2 text-xs">
            <div className="flex justify-between p-2 border border-[var(--border-subtle)] rounded">
              <span>Non-JUPAS å ±å</span>
              <span className="font-bold">æ¯å¹´ 11 æœˆ - æ˜¥å­£</span>
            </div>
            <div className="flex justify-between p-2 border border-[var(--border-subtle)] rounded">
              <span>IELTS å ±å</span>
              <span className="font-bold">é ç•™ 2-3 å€‹æœˆ</span>
            </div>
          </div>
        )
      }
    ]
  },
  {
    id: 5,
    label: "Stage 5",
    title: "Non-JUPAS ç”³è«‹",
    subtitle: "æ–‡ä»¶ / PS / æ¨è–¦ä¿¡",
    icon: FileSignature,
    color: "from-green-500 to-teal-500",
    tabs: [
      {
        id: "action",
        label: "Guide",
        content: (
          <ul className="space-y-3 text-sm">
            <li className="flex gap-2"><PenTool size={16} className="text-[var(--primary)] flex-shrink-0" /> <strong>Personal Statement (PS):</strong> å¤§ç´„ 700-800 å­—ã€‚</li>
            <li className="flex gap-2"><Layout size={16} className="text-[var(--primary)] flex-shrink-0" /> <strong>çµæ§‹ï¼š</strong> é–‹é ­ â†’ 2-3 å€‹ç‰¹è³ª + ç¶“æ­· â†’ é»æ¨£é€£åˆ°ç›®æ¨™ Program â†’ çµèªã€‚</li>
            <li className="flex gap-2"><UserPlus size={16} className="text-[var(--primary)] flex-shrink-0" /> <strong>æ¨è–¦ä¿¡ï¼š</strong> ä¸€å°å·²ç¶“è¶³å¤ ï¼Œé‡è³ªä¸é‡é‡ã€‚æµå€‹ç†Ÿä½ å˜… Lecturerã€‚</li>
          </ul>
        )
      },
      {
        id: "why",
        label: "Principles",
        content: (
          <div className="space-y-3 text-sm">
            <p>ä¸ç”¨ç¡¬å¡æ‰€æœ‰æ´»å‹•ï¼›æ€æœ€ <strong>Relevant</strong> å—°å•²ã€‚</p>
            <p>PS ä¿‚è¬›ã€Œä½ é»è«— + ä½ å˜…æˆé•·ã€ï¼Œå””ä¿‚ CV é‡è¤‡ã€‚</p>
            <p>å¤§éƒ¨åˆ†ç§‘ç›®åªè¦é”åˆ°èªæ–‡é–€æª»å³å¯ï¼›é«˜å¾ˆå¤šåˆ†å””ä¸€å®šåŠ å¥½å¤šåˆ† (é™¤éä¿‚èªæ–‡ç³»)ã€‚</p>
          </div>
        )
      },
      {
        id: "tools",
        label: "Doc Stack",
        content: <DocumentStack />
      }
    ]
  },
  {
    id: 6,
    label: "Stage 6",
    title: "Offer / Conditional",
    subtitle: "ç•™ä½è²» / å®£èª“ / æ–‡ä»¶",
    icon: Mail,
    color: "from-teal-500 to-cyan-500",
    tabs: [
      {
        id: "action",
        label: "Checklist",
        content: (
          <ul className="space-y-3 text-sm">
            <li className="flex gap-2"><CheckCircle2 size={16} className="text-[var(--primary)] flex-shrink-0" /> ç¢ºèªæ¢ä»¶æœ‰å†‡å¯èƒ½ Fulfill (e.g. CGPA)ã€‚</li>
            <li className="flex gap-2"><CheckCircle2 size={16} className="text-[var(--primary)] flex-shrink-0" /> Mark å¯¦æ‰€æœ‰ Deadline å–ºæ—¥æ›† (å°¤å…¶æ˜¯äº¤éŒ¢)ã€‚</li>
            <li className="flex gap-2"><CheckCircle2 size={16} className="text-[var(--primary)] flex-shrink-0" /> æå®šç•™ä½è²»æ”¯ä»˜ (é€šå¸¸å¹¾åƒèšŠï¼ŒNon-refundable)ã€‚</li>
          </ul>
        )
      },
      {
        id: "why",
        label: "Docs",
        content: (
          <div className="space-y-3 text-sm">
            <p>å¤§å­¸å¯èƒ½è¦æ±‚ä½ å®£èª“æ–‡ä»¶çœŸç¢º (å»æ°‘æ”¿äº‹å‹™è™•å®£èª“)ã€‚</p>
            <p>è¦å½±å° / å½©å°å‰¯æœ¬ã€ä¿ç•™æ­£æœ¬ã€‚</p>
            <p className="font-bold text-[var(--primary)]">å¯§é¡˜æ—©äº¤å””å¥½æ‹–åˆ°æœ€å¾Œä¸€æ—¥ã€‚</p>
          </div>
        )
      },
      {
        id: "tools",
        label: "Offers",
        content: <OfferCarousel />
      }
    ]
  },
  {
    id: 7,
    label: "Stage 7",
    title: "Plan B å€",
    subtitle: "Miss Deadline / GPA å¤±æ‰‹",
    icon: Compass,
    color: "from-cyan-500 to-blue-500",
    tabs: [
      {
        id: "action",
        label: "Mindset",
        content: (
          <div className="space-y-3 text-sm">
            <p>DSEã€Assoã€Non-JUPAS åªä¿‚ç¬¬äºŒæ¬¡æ©Ÿæœƒçš„ä¸€éƒ¨ä»½ï¼Œä¸æ˜¯äººç”Ÿçµ‚é»ã€‚</p>
            <p>é‡æ–°éƒ¨ç½²å””ç­‰æ–¼è¼¸ï¼Œåªä¿‚å¤šè¡Œä¸€å€‹åœˆã€‚</p>
          </div>
        )
      },
      {
        id: "why",
        label: "Options",
        content: (
          <ul className="space-y-2 text-sm list-disc list-inside text-[var(--text-muted)]">
            <li>é‡è®€ä¸€å¹´ Asso æŸäº›ç§‘ç›® (Retake courses)ã€‚</li>
            <li>æ‰¾å…¶ä»–å…¥å­¸å¹´ä»½ / Round (Spring Intake?)ã€‚</li>
            <li>åœ¨å·¥ä½œ / Gap Year ä¸­ç´¯ç©ç¶“é©—å¾Œå†ç”³è«‹ã€‚</li>
          </ul>
        )
      },
      {
        id: "tools",
        label: "Support",
        content: <EncouragementWall />
      }
    ]
  }
];

// --- Main Component ---

export default function AssociateDegreeTips({ lang }: { lang: string }) {
  const [activeStage, setActiveStage] = useState(0);
  const [activeTab, setActiveTab] = useState<Record<number, string>>({});

  const scrollToStage = (index: number) => {
    setActiveStage(index);
    const element = document.getElementById(`stage-${index}`);
    if (element) {
      element.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }
  };

  // Scroll spy
  useEffect(() => {
    const handleScroll = () => {
      const container = document.getElementById('main-scroll-container');
      if (!container) return;

      const stages = STAGES.map(s => document.getElementById(`stage-${s.id}`));
      const scrollPosition = container.scrollTop + 300;

      stages.forEach((stage, index) => {
        if (stage && stage.offsetTop <= scrollPosition && (stage.offsetTop + stage.offsetHeight) > scrollPosition) {
          setActiveStage(index);
        }
      });
    };

    const container = document.getElementById('main-scroll-container');
    if (container) {
      container.addEventListener('scroll', handleScroll);
      handleScroll(); // Initial check
    }
    
    return () => {
      if (container) container.removeEventListener('scroll', handleScroll);
    };
  }, []);

  return (
    <div className="min-h-screen bg-[var(--bg)] text-[var(--text)] font-sans selection:bg-[var(--primary)] selection:text-white pb-32">
      
      {/* Top bar removed as requested */}

      {/* Hero Section */}
      <div className="relative overflow-hidden pt-32 pb-40 px-4">
        
          <div className="max-w-4xl mx-auto relative z-10">
          {/* Removed 'Year 1 Survival Guide' badge */}
          
          <div className="mb-12">
            <p className="text-2xl md:text-3xl text-[var(--text)] font-bold leading-relaxed mb-4 text-center">æ­¡è¿ä½ åšŸåˆ°å‘¢å€‹ç¶²ç«™ã€‚</p>
            <p className="text-lg md:text-xl text-[var(--text-muted)] leading-relaxed mb-2 mx-auto max-w-3xl text-left">å¸Œæœ›ä½ å–ºåº¦æµåˆ°è‡ªå·±éœ€è¦å˜…è³‡è¨Šã€‚</p>
            <p className="text-sm md:text-base text-[var(--text-muted)] leading-relaxed mx-auto max-w-3xl text-left">å‘¢åº¦æœƒä¸å®šæœŸæ›´æ–°ï¼Œæ…¢æ…¢åŒä½ ä¸€é½Šæ•´ç†å‡å­¸è·¯ã€‚</p>
          </div>

          {/* Part 1ï¼šå¤§å±€è§€ â€” æ›´ Apple-styleã€å¯¬é¬†é–“è· */}
          <section className="mx-auto max-w-4xl px-4 sm:px-6 py-10 lg:py-12">
            <div className="rounded-3xl p-6 md:p-8" style={{ background: 'linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01))', backdropFilter: 'blur(6px)', border: '1px solid rgba(255,255,255,0.04)' }}>
              <div className="grid grid-cols-1 md:grid-cols-4 gap-8 items-start">
                {/* Main column: roomy header + airy cards */}
                <div className="md:col-span-3">
                  <h3 className="text-3xl font-semibold mb-4 text-center md:text-left">Part 1ï¼šå¤§å±€è§€ â€” Asso å…©å¹´å‡å¤§å­¸å˜… Game Flow</h3>
                  <p className="text-sm text-[var(--text-muted)] mb-6 leading-relaxed mx-auto max-w-3xl text-left" style={{ lineHeight: 1.7 }}>
                    å‘¢åº¦ä¿‚ä¸€å€‹å¯¬é¬†ã€é‡é»æ¸…æ™°å˜…å…¨å±€ briefingï¼Œå¹«ä½ å–ºå…¥å­¸å¾Œå…©å¹´åšå‡ºæœ‰ç­–ç•¥å˜…æ±ºå®šã€‚ç•™æ„æ™‚é–“é»ï¼ˆNonâ€‘JUPASã€èªè©¦ã€Interviewï¼‰ï¼Œåˆ†éšæ®µæº–å‚™æœƒèˆ’æœå¾—å¤šã€‚
                  </p>

                  <div className="grid grid-cols-1 sm:grid-cols-2 gap-6">
                    {/** Card: Decision */}
                    <div className="p-6 rounded-2xl border border-[var(--border-subtle)] bg-[var(--bg)] shadow-sm" style={{ minHeight: '96px' }}>
                      <div className="flex items-start gap-4">
                        <div className="w-11 h-11 rounded-xl flex items-center justify-center bg-[var(--surface)]/70">
                          <CheckCircle2 size={20} className="text-[var(--primary)]" />
                        </div>
                        <div>
                          <div className="font-semibold">æ±ºå®šå¤§æ–¹å‘</div>
                          <div className="text-xs text-[var(--text-muted)] mt-1">æ”¾æ¦œå¾Œå…ˆæ±ºå®š Retake / Asso / HD â€” å‘¢å€‹æ±ºå®šæœƒå½±éŸ¿ä½ å˜…æ™‚é–“è¡¨èˆ‡å¿ƒæ…‹ã€‚</div>
                        </div>
                      </div>
                    </div>

                    {/** Card: Day1 Mindset */}
                    <div className="p-6 rounded-2xl border border-[var(--border-subtle)] bg-[var(--bg)] shadow-sm" style={{ minHeight: '96px' }}>
                      <div className="flex items-start gap-4">
                        <div className="w-11 h-11 rounded-xl flex items-center justify-center bg-[var(--surface)]/70">
                          <GraduationCap size={20} className="text-[var(--primary)]" />
                        </div>
                        <div>
                          <div className="font-semibold">Day 1 Mindset</div>
                          <div className="text-xs text-[var(--text-muted)] mt-1">Asso å˜… GPA ç”±ç¬¬ä¸€æ—¥é–‹å§‹è¨ˆï¼ŒAttendance & Assignment å¥½é‡è¦ã€‚å»ºç«‹ç¿’æ…£å‹éè‡¨æ€¥æŠ±ä½›è…³ã€‚</div>
                        </div>
                      </div>
                    </div>

                    {/** Card: Goals */}
                    <div className="p-6 rounded-2xl border border-[var(--border-subtle)] bg-[var(--bg)] shadow-sm" style={{ minHeight: '96px' }}>
                      <div className="flex items-start gap-4">
                        <div className="w-11 h-11 rounded-xl flex items-center justify-center bg-[var(--surface)]/70">
                          <Target size={20} className="text-[var(--primary)]" />
                        </div>
                        <div>
                          <div className="font-semibold">å¹´é ­å®šç›®æ¨™</div>
                          <div className="text-xs text-[var(--text-muted)] mt-1">è¨­å®š Target GPAï¼Œæ‹†è§£æ¯å­¸æœŸå˜…å°ç›®æ¨™ï¼ŒæŒ‰æ ¡ç³»é–€æª»èª¿æ•´ç­–ç•¥ã€‚</div>
                        </div>
                      </div>
                    </div>

                    {/** Card: Timeline management */}
                    <div className="p-6 rounded-2xl border border-[var(--border-subtle)] bg-[var(--bg)] shadow-sm" style={{ minHeight: '96px' }}>
                      <div className="flex items-start gap-4">
                        <div className="w-11 h-11 rounded-xl flex items-center justify-center bg-[var(--surface)]/70">
                          <Calendar size={20} className="text-[var(--primary)]" />
                        </div>
                        <div>
                          <div className="font-semibold">æ™‚é–“è»¸ç®¡ç†</div>
                          <div className="text-xs text-[var(--text-muted)] mt-1">ç•™æ„ Nonâ€‘JUPAS å ±åï¼ˆé€šå¸¸ Y2 Sem1ï¼‰ï¼Œæå‰æº–å‚™ PSã€æ¨è–¦ä¿¡åŠèªæ–‡æˆç¸¾ã€‚</div>
                        </div>
                      </div>
                    </div>

                    {/** Card: Documents & Interview */}
                    <div className="p-6 rounded-2xl border border-[var(--border-subtle)] bg-[var(--bg)] shadow-sm" style={{ minHeight: '96px' }}>
                      <div className="flex items-start gap-4">
                        <div className="w-11 h-11 rounded-xl flex items-center justify-center bg-[var(--surface)]/70">
                          <PenTool size={20} className="text-[var(--primary)]" />
                        </div>
                        <div>
                          <div className="font-semibold">é¢è©¦åŒæ–‡ä»¶</div>
                          <div className="text-xs text-[var(--text-muted)] mt-1">PS é‡å° Programï¼›æ¨è–¦ä¿¡è¦æ—©æµ Lecturerï¼›é¢è©¦è¦ç·´ç¿’ä¸¦æ•´ç†ä¾‹å­ã€‚</div>
                        </div>
                      </div>
                    </div>

                    {/** Card: Plan B */}
                    <div className="p-6 rounded-2xl border border-[var(--border-subtle)] bg-[var(--bg)] shadow-sm" style={{ minHeight: '96px' }}>
                      <div className="flex items-start gap-4">
                        <div className="w-11 h-11 rounded-xl flex items-center justify-center bg-[var(--surface)]/70">
                          <Shield size={20} className="text-[var(--primary)]" />
                        </div>
                        <div>
                          <div className="font-semibold">Plan B</div>
                          <div className="text-xs text-[var(--text-muted)] mt-1">æº–å‚™å‚™é¸ï¼šå»¶å¾Œç”³è«‹ã€æ›¿ä»£é™¢æ ¡æˆ– Gap Yearï¼Œä¿ç•™å¾Œè·¯ä»¤æ±ºç­–æ›´å®‰å¿ƒã€‚</div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div className="mt-6 text-sm text-[var(--text-muted)]">å¿«é€Ÿåƒè€ƒï¼šKeep ä½å­¸æ¥­ç©©å®šã€æå‰åš Nonâ€‘JUPAS æº–å‚™ã€ä»¥åŠä¿ç•™ Plan Bã€‚</div>
                </div>

                {/* Aside: airy timeline / tips */}
                <aside className="md:col-span-1">
                  <div className="p-6 rounded-2xl border border-[var(--border-subtle)] bg-[var(--bg)] shadow-sm">
                    <div className="flex items-center gap-2 mb-4">
                      <div className="w-9 h-9 rounded-lg bg-[var(--surface)]/60 flex items-center justify-center"><Calendar size={16} className="text-[var(--primary)]" /></div>
                      <div className="font-semibold">æ™‚é–“è»¸åƒè€ƒ</div>
                    </div>

                    <ol className="space-y-4 text-xs text-[var(--text-muted)]">
                      <li>
                        <div className="font-medium">Y1 Sem1</div>
                        <div>é©æ‡‰ç¯€å¥ã€å»ºç«‹ç¿’æ…£ã€è¨˜ä½ Course Outline åŒè©•æ ¸æ–¹æ³•ã€‚</div>
                      </li>
                      <li>
                        <div className="font-medium">Y1 Sem2</div>
                        <div>ç©©ä½ GPAï¼Œæ•´ç†éœ€è¦è£œæ•‘å˜…èªæ–‡æˆ–åŸºç¤ç§‘ç›®ã€‚</div>
                      </li>
                      <li>
                        <div className="font-medium">Y2 Sem1</div>
                        <div>Nonâ€‘JUPAS å ±åæœŸï¼›é–‹å§‹äº¤ PSã€æ¨è–¦ä¿¡åŒèªæ–‡æˆç¸¾ã€‚</div>
                      </li>
                      <li>
                        <div className="font-medium">Y2 Sem2</div>
                        <div>é¢è©¦ / Offer è™•ç†ã€æ–‡ä»¶æäº¤ã€å®Œæˆç•™ä½æ‰‹çºŒã€‚</div>
                      </li>
                    </ol>

                    <div className="mt-6 p-3 rounded-lg bg-[var(--surface)]/40 text-xs text-[var(--text-muted)]">
                      <div className="font-medium">å°è²¼å£«</div>
                      <div>åˆ†é…å›ºå®šæ™‚æ®µåš PS èˆ‡é¢è©¦ç·´ç¿’ï¼›ç”¨æ—¥æ›†æ¨™è¨˜é—œéµæ—¥æœŸï¼Œææ—©æº–å‚™æ›´å¾å®¹ã€‚</div>
                    </div>
                  </div>
                </aside>
              </div>
            </div>
          </section>


          {/* Part 2ï¼šPre-Asso (7â€“8 æœˆ) â€” å…¥å­¸å‰è¦ææ‚å•²ä¹œï¼Ÿ */}
          <section className="mx-auto max-w-4xl px-6 py-8 lg:py-10">
            <div className="rounded-2xl p-6 md:p-8" style={{ background: 'linear-gradient(180deg, rgba(255,255,255,0.015), rgba(255,255,255,0.01))', backdropFilter: 'blur(4px)', border: '1px solid rgba(255,255,255,0.03)' }}>
              <h3 className="text-2xl font-semibold mb-3 text-center md:text-left">Part 2ï¼šPre-Assoï¼ˆ7â€“8 æœˆï¼‰ï¼šå…¥å­¸å‰è¦ææ‚å•²ä¹œï¼Ÿ</h3>
              <p className="text-sm text-[var(--text-muted)] mb-6 leading-relaxed mx-auto max-w-3xl text-left">å¦‚æœä½ è€Œå®¶ä»²å¥½äº‚ï¼Œå¥½æ­£å¸¸ â€” 7â€“8 æœˆå¯ä»¥æ…¢æ…¢åšè½å»ï¼›ä»¥ä¸‹ä¿‚æŒ‰æœˆä»½åˆ†å˜…æ¸…å–®ï¼Œå¹«ä½ ä¸€æ­¥æ­¥æº–å‚™å…¥å­¸è¡Œæ”¿åŒå­¸æ¥­èµ·æ‰‹ã€‚</p>

              <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                {/* July */}
                <div className="p-5 rounded-xl border border-[var(--border-subtle)] bg-[var(--bg)] shadow-sm">
                  <div className="flex items-center gap-3 mb-3">
                    <div className="w-10 h-10 rounded-lg bg-[var(--surface)]/70 flex items-center justify-center"><Calendar size={18} className="text-[var(--primary)]" /></div>
                    <div>
                      <div className="font-semibold">7 æœˆ â€” æ”¾æ¦œå¾Œï¼ˆDecision & èª²ç¨‹é¸æ“‡ï¼‰</div>
                      <div className="text-xs text-[var(--text-muted)]">æ±ºå®šå…¥ Asso/HD å‰ï¼Œå…ˆæœ‰å¹¾ä»¶è¦æ¸…æ¥šå˜…äº‹ã€‚</div>
                    </div>
                  </div>

                  <ul className="list-none space-y-3 text-sm">
                    <li>
                      <div className="font-medium">æˆ‘æ‡‰è©²åšå’©ï¼Ÿ</div>
                      <ul className="list-disc pl-5 text-[var(--text-muted)] mt-1">
                        <li>è©•ä¼°è‡ªå·±ç›®æ¨™ï¼ˆæƒ³ç›¡å¿«å‡ Year 3ï¼Ÿå®šç©©å®šæå‡ GPAï¼Ÿï¼‰ï¼Œå†æ±ºå®š Retake / Asso / HDã€‚</li>
                        <li>ç€è¦½èª²ç¨‹å¤§ç¶±ï¼ˆcurriculum / core / generic skillsï¼‰ï¼Œç•™æ„ assessment å½¢å¼ï¼ˆassignment vs examï¼‰ã€‚</li>
                        <li>ç¢ºèªå ±å deadlineã€å…¥å­¸è¡Œæ”¿è¦æ±‚åŒéœ€æäº¤å˜…æ–‡ä»¶é¡å‹ï¼ˆä¾‹å¦‚ç›¸ç‰‡ã€èº«ä»½è­‰æ˜ï¼‰ã€‚</li>
                      </ul>
                    </li>

                    <li>
                      <div className="font-medium">è¦ç‰¹åˆ¥ç•™æ„å’© deadline / é€šçŸ¥ï¼Ÿ</div>
                      <div className="text-[var(--text-muted)] mt-1">å­¸æ ¡åŒèª²ç¨‹æœƒæœ‰ä¸åŒå˜…å ±ååŒè¨»å†Šæˆªæ­¢æ—¥ï¼Œä»²æœ‰ç³»çµ±é–‹é€šï¼ˆstudent portal / emailï¼‰ã€‚è¨˜ä½æ‰€æœ‰å®˜æ–¹é€šçŸ¥åŒ deadlineï¼Œå””å¥½ç­‰åˆ°æœ€å¾Œä¸€åˆ»ã€‚</div>
                    </li>

                    <li>
                      <div className="font-medium">å‘¢å€‹æœˆåšå¾—å¥½ï¼Œé»æ¨£å¹«åˆ°ä¹‹å¾Œå‡å¤§å­¸ï¼Ÿ</div>
                      <div className="text-[var(--text-muted)] mt-1">ææ—©æ±ºå®šèª²ç¨‹åŒç†Ÿè®€å¤§ç¶±ï¼Œå¯ä»¥ä»¤ä½ é–‹å­¸æ™‚æ›´å¿«é©æ‡‰ï¼Œå°æ—©æœŸ GPA æœ‰ç›´æ¥å¹«åŠ©ï¼›ææ—©å®Œæˆè¡Œæ”¿å¯é¿å…å…¥å­¸å‰å˜…é¡å¤–å£“åŠ›ã€‚</div>
                    </li>
                  </ul>
                </div>

                {/* August */}
                <div className="p-5 rounded-xl border border-[var(--border-subtle)] bg-[var(--bg)] shadow-sm">
                  <div className="flex items-center gap-3 mb-3">
                    <div className="w-10 h-10 rounded-lg bg-[var(--surface)]/70 flex items-center justify-center"><Clock size={18} className="text-[var(--primary)]" /></div>
                    <div>
                      <div className="font-semibold">8 æœˆ â€” å…¥å­¸è¡Œæ”¿èˆ‡è¿æ–°ï¼ˆOcamp / O-dayï¼‰</div>
                      <div className="text-xs text-[var(--text-muted)]">è™•ç†è¨»å†Šã€æ”¶ timetablesã€ç†Ÿæ‚‰ campus åŒé€£ç¹«åŒç³»åŒå­¸ã€‚</div>
                    </div>
                  </div>

                  <ul className="list-none space-y-3 text-sm">
                    <li>
                      <div className="font-medium">æˆ‘æ‡‰è©²åšå’©ï¼Ÿ</div>
                      <ul className="list-disc pl-5 text-[var(--text-muted)] mt-1">
                        <li>å®Œæˆå…¥å­¸è¡Œæ”¿ï¼šä¸Šè¼‰ç›¸ç‰‡ã€äº¤å­¸è²»ï¼ˆæˆ–ç¢ºèªä»˜æ¬¾æ–¹å¼ï¼‰ã€å®Œæˆ online briefing åŒ eâ€‘registrationã€‚</li>
                        <li>æ”¶åˆ° timetable å¾Œï¼Œäº†è§£è‡ªå·±æœƒå»é‚Šå€‹ campus ä¸Šå ‚ï¼Œé ç•™é€šå‹¤æ™‚é–“åŒè·¯ç·šã€‚</li>
                        <li>åƒåŠ  Ocamp / Oâ€‘dayï¼Œèªè­˜å­¸æ ¡è³‡æºã€lecturers åŒåŒç³»åŒå­¸ï¼Œä¸»å‹•è¨˜ä½é‡è¦ contactã€‚</li>
                      </ul>
                    </li>

                    <li>
                      <div className="font-medium">è¦ç‰¹åˆ¥ç•™æ„å’© deadline / é€šçŸ¥ï¼Ÿ</div>
                      <div className="text-[var(--text-muted)] mt-1">ç•™æ„è¨»å†Šç¢ºèªã€æ”¶è²»æˆªæ­¢ã€online briefing æ—¥æœŸåŒè¿æ–°æ´»å‹•æ™‚é–“ï¼Œäº¦è¦ç•™æ„ç³»ä¸Š send å˜…å…¥å­¸é ˆçŸ¥ï¼ˆemail / portalï¼‰ã€‚</div>
                    </li>

                    <li>
                      <div className="font-medium">å‘¢å€‹æœˆåšå¾—å¥½ï¼Œé»æ¨£å¹«åˆ°ä¹‹å¾Œå‡å¤§å­¸ï¼Ÿ</div>
                      <div className="text-[var(--text-muted)] mt-1">è¡Œæ”¿ææ‚åŒæ—©è­˜äººå¯ä»¥æ¸›å°‘é–‹å­¸åˆå˜…æ··äº‚ï¼Œä»¤ä½ æœ‰æ›´å¤šå¿ƒåŠ›å»å°ˆæ³¨ç¬¬ä¸€å­¸æœŸå˜…å­¸æ¥­ï¼Œå»ºç«‹ç©©å®šå˜…ç¿’æ…£ã€‚</div>
                    </li>
                  </ul>

                  <div className="mt-4 p-3 rounded-lg bg-[var(--surface)]/30 text-xs text-[var(--text-muted)]">
                    <div className="font-medium">é—œæ–¼ join TG / æƒ…å ± group</div>
                    <div>å¯ä»¥è€ƒæ…® join åŒå­¸ç¾¤çµ„ï¼ˆä¾‹å¦‚ major ç¾¤ã€å…¥å­¸è³‡è¨Šç¾¤ï¼‰ï¼Œä½†åªä¿¡å®˜æ–¹ä¾†æºç‚ºä¸»ï¼Œç¾¤çµ„è³‡æ–™å¯ä½œåƒè€ƒï¼Œå””å¥½ç•¶å”¯ä¸€ä¾æ“šã€‚</div>
                  </div>
                </div>
              </div>
            </div>
          </section>

          {/* Part 3ï¼šYear 1 Sem 1ï¼ˆ9â€“12 æœˆï¼‰ â€” æ‰“å¥½åº•ç·š */}
          <section className="mx-auto max-w-4xl px-6 py-8 lg:py-10">
            <div className="rounded-2xl p-6 md:p-8" style={{ background: 'linear-gradient(180deg, rgba(255,255,255,0.015), rgba(255,255,255,0.01))', backdropFilter: 'blur(4px)', border: '1px solid rgba(255,255,255,0.03)' }}>
              <h3 className="text-2xl font-semibold mb-3 text-center md:text-left">Part 3ï¼šYear 1 Semester 1ï¼ˆ9â€“12 æœˆï¼‰ï¼šæ‰“å¥½åº•ç·š</h3>
              <p className="text-sm text-[var(--text-muted)] mb-6 leading-relaxed mx-auto max-w-3xl text-left">ä¸‹é¢æŒ‰æœˆä»½åˆ—å‡ºä½ å–º Year 1 Sem 1 å¯èƒ½æœƒé‡åˆ°å˜…æµç¨‹ã€æ‡‰åšé‡é»ã€è¦å°å¿ƒå˜…åœ°æ–¹ï¼Œä»¥åŠé»æ¨£å¹«åŠ©ä¹‹å¾Œå˜…å‡å­¸æº–å‚™ã€‚èªæ°£ä»¥æŒ‡å°åŒå®‰æ’«ç‚ºä¸»ã€‚</p>

              <div className="space-y-6">
                {/* September */}
                <div className="p-5 rounded-xl border border-[var(--border-subtle)] bg-[var(--bg)] shadow-sm">
                  <div className="font-semibold text-lg mb-2">9 æœˆï¼šé©æ‡‰æœŸ + èªçœŸç Œ timetable</div>
                  <p className="text-sm text-[var(--text-muted)]">å­¸æœŸé–‹å§‹ï¼Œadd/drop æœŸã€æ‹¿ final timetableã€ç¬¬ä¸€è¼ª lecture/tutor é–‹å§‹ï¼Œæœƒæ”¶åˆ°åˆæ­¥å°æ¸¬æˆ–ç°¡å–®ä½œæ¥­ã€‚</p>
                  <ul className="mt-3 list-disc pl-5 text-sm space-y-2 text-[var(--text-muted)]">
                    <li>
                      <strong>ä»Šå€‹æœˆå¤§æ¦‚æœƒç™¼ç”Ÿå’©äº‹ï¼š</strong> add/drop æœŸã€æ‹¿åˆ° timetableã€è€å¸«è¬› syllabusã€ç¬¬ä¸€å€‹å° assignment/quiz å‡ºç¾ã€‚
                    </li>
                    <li>
                      <strong>Asso åŒå­¸æ‡‰è©²ä¸»åŠ›åšå’©ï¼š</strong>ç†Ÿè®€ syllabusã€æŠŠæ‰€æœ‰é‡è¦ deadline åŠ å…¥æ—¥æ›†ï¼ˆæ‰‹æ©Ÿ + æ ¡å…§ calendarï¼‰ã€æŠŠé€šå‹¤æ™‚é–“å’Œå›ºå®šè‡ªç¿’æ™‚æ®µæ’å…¥ weekly planã€ç›¡å¿«èªè­˜çµ„å“¡ã€‚
                    </li>
                    <li>
                      <strong>è¦å°å¿ƒå˜…ä½ï¼š</strong>
                      <ul className="list-disc pl-5 mt-1">
                        <li><strong>å‡ºå¸­ç‡é»è¨ˆï¼Ÿ</strong> æœ‰ç§‘æœƒç”¨ç°½åˆ°ã€æœ‰ç§‘ä»¥ participation è¨ˆåˆ†ï¼›é²åˆ°æˆ–ç„¡æ•…ç¼ºå¸­å¯èƒ½æ‰£åˆ†ï¼Œè¦ç…§ syllabus è¦æ±‚è¡Œäº‹ã€‚</li>
                        <li><strong>deadline é»æ¨£å””å¥½ missï¼Ÿ</strong> è¨­ç½®è‡³å°‘å…©å€‹æé†’ï¼ˆ3 å¤©ã€1 æ—¥ï¼‰ï¼›æŠŠé–‹ç™¼æœŸæ‹†ç´°ï¼Œé¿å…æœ€å¾Œ 48 å°æ™‚è¶•å·¥ã€‚</li>
                        <li><strong>ç¬¬ä¸€æ¬¡é‡åˆ°å¤§é‡ assessment æ€æ¨£ planningï¼Ÿ</strong> æŠŠå¤§é …æ‹†æˆå° taskï¼ˆèª¿æŸ¥â†’è‰ç¨¿â†’reviewâ†’finalï¼‰ï¼Œgroup project ç«‹å³é–‹ kickâ€‘off meetingã€ç¢ºèªåˆ†å·¥èˆ‡ milestoneï¼Œä¿ç•™ chat / doc è¨˜éŒ„ã€‚</li>
                      </ul>
                    </li>
                    <li>
                      <strong>åŒå‡å¤§å­¸çš„é—œä¿‚ï¼š</strong>é–‹é ­å»ºç«‹çš„ç¿’æ…£ï¼ˆäº¤ä½œæ¥­ã€æº–æ™‚ã€å‡ºå¸­ï¼‰æœƒå½±éŸ¿å¾ŒçºŒ GPA èˆ‡è‡ªä¿¡ï¼›ä¸è¦ç­‰åˆ° midterm æ‰é–‹å§‹è¿½é€²åº¦ã€‚
                    </li>
                  </ul>
                </div>

                {/* October */}
                <div className="p-5 rounded-xl border border-[var(--border-subtle)] bg-[var(--bg)] shadow-sm">
                  <div className="font-semibold text-lg mb-2">10 æœˆï¼šç¯€å¥å»ºç«‹ + é¦–æ‰¹ä½œæ¥­åˆ°æ‰‹</div>
                  <p className="text-sm text-[var(--text-muted)]">èª²ç¨‹ç¯€å¥åŠ å¿«ï¼Œè¼ƒæ­£å¼çš„ assignments / quizzes å‡ºç¾ï¼Œgroup work é–‹å§‹é€²å…¥ä¸­æœŸï¼ˆéœ€å®šæœŸåŒæ­¥ï¼‰ã€‚</p>
                  <ul className="mt-3 list-disc pl-5 text-sm space-y-2 text-[var(--text-muted)]">
                    <li>
                      <strong>ä»Šå€‹æœˆå¤§æ¦‚æœƒç™¼ç”Ÿå’©äº‹ï¼š</strong>é¦–æ‰¹ weight è¼ƒé«˜å˜… assignmentsã€quizï¼ŒåŠå°çµ„æ´»å‹•çš„ç¬¬ä¸€æ¬¡æäº¤æˆ–æ’ç·´ã€‚
                    </li>
                    <li>
                      <strong>Asso åŒå­¸æ‡‰è©²ä¸»åŠ›åšå’©ï¼š</strong>ä¼°ç®—æ¯ç§‘æ¯é€±å·¥ä½œé‡ï¼Œè¨‚ weekly planï¼Œå„ªå…ˆåš weight è¼ƒé«˜çš„ assessmentï¼Œå»ºç«‹çµæ§‹åŒ–ç­†è¨˜ã€‚èˆ‡çµ„å“¡å›ºå®š weekly checkâ€‘inã€‚
                    </li>
                    <li>
                      <strong>è¦å°å¿ƒå˜…ä½ï¼š</strong>
                      <ul className="list-disc pl-5 mt-1">
                        <li><strong>å‡ºå¸­ç‡é»è¨ˆï¼Ÿ</strong>æŸäº› tutorial/lab æœ‰ç°½åˆ°æˆ–å°æ¸¬ï¼Œç¼ºå¸­æœƒç›´æ¥å½±éŸ¿ participation åˆ†æ•¸ï¼Œç•™æ„è£œç°½æ”¿ç­–ã€‚</li>
                        <li><strong>deadline é»æ¨£å””å¥½ missï¼Ÿ</strong>å°ä½œæ¥­æ˜“ä½ä¼°æ™‚é–“ï¼Œç‚ºæ¯é …ç›®ä¿ç•™ bufferï¼ˆæ¯”è¨ˆåŠƒå¤šä¸€å…©å€‹å·¥ä½œæ®µè½ï¼‰ã€‚</li>
                        <li><strong>å¤§é‡ assessment çš„ planningï¼š</strong>ç”¨ backward planningï¼ˆå¾ deadline å€’æ¨ï¼‰ï¼ŒæŠŠå¤§é …æ‹†ç‚ºæ¯é€±ä»»å‹™ä¸¦æ’é€²æ—¥æ›†ã€‚</li>
                      </ul>
                    </li>
                    <li>
                      <strong>åŒå‡å¤§å­¸çš„é—œä¿‚ï¼š</strong>é¦–æ‰¹äº¤å‡ºä¾†çš„ä½œå“æœƒå½±éŸ¿è€å¸«å°ä½ å˜…å°è±¡èˆ‡ä½ å˜…è‡ªä¿¡ï¼Œæ—©å»ºç«‹é«˜æ¨™æº–æ¯”è‡¨æ™‚è¡åˆºæ›´æœ‰æ•ˆã€‚
                    </li>
                  </ul>
                </div>

                {/* November */}
                <div className="p-5 rounded-xl border border-[var(--border-subtle)] bg-[var(--bg)] shadow-sm">
                  <div className="font-semibold text-lg mb-2">11 æœˆï¼šmidterm é«˜å³°ï¼ˆæª¢è¦–æœŸï¼‰</div>
                  <p className="text-sm text-[var(--text-muted)]">midterm / larger quizzesã€project interim deliverablesï¼Œè€å¸«æœƒæä¾›æ¯”è¼ƒç›´æ¥çš„æˆç¸¾åé¥‹ã€‚</p>
                  <ul className="mt-3 list-disc pl-5 text-sm space-y-2 text-[var(--text-muted)]">
                    <li>
                      <strong>ä»Šå€‹æœˆå¤§æ¦‚æœƒç™¼ç”Ÿå’©äº‹ï¼š</strong>midterm è€ƒè©¦ã€å°å‹å ±å‘Šæˆ–ä¸­æœŸè©•æ ¸ã€éƒ¨åˆ†ç§‘é–‹å§‹é€²å…¥ revision ç¯€å¥ã€‚
                    </li>
                    <li>
                      <strong>Asso åŒå­¸æ‡‰è©²ä¸»åŠ›åšå’©ï¼š</strong>æŠŠ midterm ç¯„åœæ•´ç†æˆ concise notesï¼Œåš timed practiceï¼Œé›†ä¸­è¦†ç¿’ weight è¼ƒé‡çš„ç§‘ç›®ï¼›æ•´ç† group work interim output ä¸¦é€²è¡Œ peer reviewã€‚
                    </li>
                    <li>
                      <strong>è¦å°å¿ƒå˜…ä½ï¼š</strong>
                      <ul className="list-disc pl-5 mt-1">
                        <li><strong>å‡ºå¸­ç‡é»è¨ˆï¼Ÿ</strong>midterm ç¼ºå¸­é€šå¸¸è¦æœ‰æ­£å¼è­‰æ˜ï¼ˆé†«ç”Ÿç´™ / ç‰¹åˆ¥ç”³è«‹ï¼‰ï¼Œå¦å‰‡å¯èƒ½è¨˜é›¶åˆ†æˆ–ç„¡æ³•è£œè€ƒã€‚</li>
                        <li><strong>deadline é»æ¨£å””å¥½ missï¼Ÿ</strong>å¤šé … assessment åŒæ™‚ç™¼ç”Ÿï¼Œå°‡è€ƒè©¦ã€å ±å‘Šæ¨™ç‚ºé«˜å„ªå…ˆç´šä¸¦é–å®šæº–å‚™æ™‚æ®µã€‚</li>
                        <li><strong>å¤§é‡ assessment çš„ planningï¼š</strong>ä½¿ç”¨éšæ®µå¼æ•´åˆï¼ˆdraft â†’ feedback â†’ finalï¼‰ï¼Œä¸¦é ç•™ contingency æ™‚æ®µæ‡‰ä»˜çªç™¼æƒ…æ³ã€‚</li>
                      </ul>
                    </li>
                    <li>
                      <strong>åŒå‡å¤§å­¸çš„é—œä¿‚ï¼š</strong>midterm åæ˜ ä½ å°å¤§å­¸å­¸ç¿’ç¯€å¥çš„é©æ‡‰åº¦ï¼Œæˆç¸¾å¥½æœƒå¢å¼·ç”³è«‹æ™‚çš„è‡ªä¿¡ï¼›è‹¥æˆç¸¾æœªç†æƒ³ï¼Œè¦å³æ™‚æª¢è¦–ä¸¦èª¿æ•´å­¸ç¿’ç­–ç•¥ã€‚
                    </li>
                  </ul>
                </div>

                {/* December */}
                <div className="p-5 rounded-xl border border-[var(--border-subtle)] bg-[var(--bg)] shadow-sm">
                  <div className="font-semibold text-lg mb-2">12 æœˆï¼šend of teaching â†’ exam period æº–å‚™ï¼ˆç¸½çµèˆ‡è¡åˆºï¼‰</div>
                  <p className="text-sm text-[var(--text-muted)]">æ•™å­¸æ¥è¿‘å°¾è²ï¼Œæœ€å¾Œ assignment / presentation å®Œæˆï¼Œé–‹å§‹æ­£å¼é€²å…¥ exam revision æœŸï¼ˆæœ‰æ™‚æœƒæœ‰ review sessionï¼‰ã€‚</p>
                  <ul className="mt-3 list-disc pl-5 text-sm space-y-2 text-[var(--text-muted)]">
                    <li>
                      <strong>ä»Šå€‹æœˆå¤§æ¦‚æœƒç™¼ç”Ÿå’©äº‹ï¼š</strong>æœ€å¾Œäº¤åŠŸèª²ã€final presentationã€review classesã€æº–å‚™æ­£å¼è€ƒè©¦ï¼ˆexam periodï¼‰ã€‚
                    </li>
                    <li>
                      <strong>Asso åŒå­¸æ‡‰è©²ä¸»åŠ›åšå’©ï¼š</strong>æŠŠå…¨å­¸æœŸç­†è¨˜æ•´ç†æˆ revision sheetï¼Œåš timed practiceï¼Œæª¢è¦–éŒ¯é¡Œä¸¦åš targeted reviewï¼›ç¢ºèªæ‰€æœ‰æª”æ¡ˆå·²å‚™ä»½ã€‚
                    </li>
                    <li>
                      <strong>è¦å°å¿ƒå˜…ä½ï¼š</strong>
                      <ul className="list-disc pl-5 mt-1">
                        <li><strong>å‡ºå¸­ç‡é»è¨ˆï¼Ÿ</strong>éƒ¨åˆ†èª²ç¨‹ï¼ˆlab / presentationï¼‰ç¼ºå¸­æˆ–æœªå®Œæˆæœƒç›´æ¥å½±éŸ¿æœ€çµ‚è©•åˆ†ï¼Œç¢ºèªæ˜¯å¦æœ‰ final attendance è¦æ±‚ã€‚</li>
                        <li><strong>deadline é»æ¨£å””å¥½ missï¼Ÿ</strong>æœ€å¾Œéšæ®µå¸¸æœ‰æ ¼å¼æˆ–ä¸Šå‚³ç´°ç¯€ï¼ˆæª”åã€Turnitinã€é™„ä»¶ï¼‰ï¼Œäº¤å‰è«‹ç”¨ checklist é©—è¨¼ã€‚</li>
                        <li><strong>å¤§å‹è€ƒè©¦/Project çš„ planningï¼š</strong>æŠŠè¡åˆºæ‹†ç‚ºå‘¨è¨ˆåŠƒèˆ‡æ—¥è¨ˆåŠƒï¼Œå®‰æ’ group rehearsalï¼ŒåŒæ™‚åš timed mock è€ƒç·´ç¿’ã€‚</li>
                      </ul>
                    </li>
                    <li>
                      <strong>åŒå‡å¤§å­¸çš„é—œä¿‚ï¼š</strong>Sem 1 final æˆç¸¾æœƒçœŸå¯¦è¨ˆå…¥ GPAï¼Œå°æƒ³çˆ­å–è½‰å­¸ / later application æœ‰å¯¦éš›å½±éŸ¿ï¼›æ›´é‡è¦æ˜¯å®ƒæœƒå½±éŸ¿ä½ ä¸‹ä¸€å­¸æœŸçš„ä¿¡å¿ƒèˆ‡ç­–ç•¥ã€‚
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </section>

          {/* Part 4ï¼šYear 1 Sem Breakï¼ˆ1 æœˆï¼‰ï¼šå–„ç”¨ç©ºæª” */}
          <section className="mx-auto max-w-5xl px-6 py-8 lg:py-10">
            <div className="rounded-2xl p-6 md:p-8" style={{ background: 'linear-gradient(180deg, rgba(255,255,255,0.015), rgba(255,255,255,0.01))', backdropFilter: 'blur(4px)', border: '1px solid rgba(255,255,255,0.03)' }}>
              <h3 className="text-2xl font-semibold mb-3">Part 4ï¼šYear 1 Sem Breakï¼ˆ1 æœˆï¼‰ï¼šå–„ç”¨ç©ºæª”</h3>
              <p className="text-sm text-[var(--text-muted)] mb-4 leading-relaxed">æ”¾å‡å””ä»£è¡¨è¦æ”¾æ£„æº–å‚™â”€â”€å–„ç”¨åŠæ”¾é¬†ã€åŠæ•´ç†çš„æ–¹æ³•ï¼Œå¯ä»¥ä»¤ä½ ä¸‹å­¸æœŸæ›´å¾å®¹ã€‚</p>

              <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div className="p-4 rounded-xl border border-[var(--border-subtle)] bg-[var(--bg)] shadow-sm">
                  <div className="font-medium mb-2">æ”¾å‡æœŸé–“å¯ä»¥é»æ¨£åŠä¼‘æ¯åŠæº–å‚™ï¼Ÿ</div>
                  <ul className="list-disc pl-5 text-sm text-[var(--text-muted)] space-y-2">
                    <li>å›é¡§ Sem 1 æˆç¸¾ï¼šæŠŠæˆç¸¾è¡¨ä¸­æ‹‰ä½ CGPA çš„ç§‘ç›®æ¨™è¨»ï¼Œåˆ†æåŸå› ï¼ˆçŸ¥è­˜ï¼æ™‚é–“ç®¡ç†ï¼é²äº¤ç­‰ï¼‰ã€‚</li>
                    <li>æ•´ç† notesï¼šæŠŠé›¶æ•£ç­†è¨˜æ•´ç†æˆ concise revision sheetï¼ˆå¿…è¨˜äº‹é …ã€æ˜“éŒ¯é¡Œã€ç¯„ä¾‹é¡Œï¼‰ã€‚</li>
                    <li>åˆæ­¥äº†è§£ Nonâ€‘JUPASï¼šæ³›è¦½å¿ƒå„€èª²ç¨‹é¡å‹ï¼Œè¨˜éŒ„æ¯é¡èª²ç¨‹å¸¸è¦‹è¦æ±‚ï¼ˆGPAã€å¯¦å‹™ã€èªæ–‡ï¼‰ã€‚</li>
                    <li>ä¼°ç®—è‡ªå·±æƒ³å ±å˜…æ–¹å‘ï¼šåˆ— shortlist ä¸¦æ¨™è¨˜éœ€è£œå¼·çš„é …ç›®ï¼ˆèªæ–‡ã€å¯¦ç¿’ã€ç‰¹å®šç§‘ç›®ï¼‰ã€‚</li>
                    <li>å¿ƒæ…‹ç®¡ç†ï¼šçµ¦è‡ªå·±ä¼‘æ¯æ™‚é–“ï¼Œé¿å…å®Œå…¨è£œç¿’å¼éåº¦å·¥ä½œï¼Œå®‰æ’ã€ŒåŠå¤©ä¼‘æ¯ã€åŠå¤©æ•´ç†/ç·´ç¿’ã€ã€‚</li>
                  </ul>
                </div>

                <div className="p-4 rounded-xl border border-[var(--border-subtle)] bg-[var(--bg)] shadow-sm">
                  <div className="font-medium mb-2">è¦å°å¿ƒå˜…ä½ï¼ˆå¯¦å‹™æç¤ºï¼‰</div>
                  <ul className="list-disc pl-5 text-sm text-[var(--text-muted)] space-y-2">
                    <li>ä¸è¦ç›²ç›®å¡æ»¿æ™‚é–“ï¼Œå®¹æ˜“é€ æˆç–²å‹ï¼›è¨­å®šæ¯å¤©å›ºå®šçŸ­æ™‚æ®µæª¢è¦–èˆ‡æ•´ç†ã€‚</li>
                    <li>è‹¥åŒæ™‚è¨ˆåŠƒå ±èªè©¦æˆ–å¤–éƒ¨è€ƒè©¦ï¼Œå…ˆè©•ä¼°æº–å‚™æœŸèˆ‡å ±åæˆªæ­¢ï¼Œé¿å…å­¸æœŸåˆè¡çªã€‚</li>
                    <li>æ•´ç†æ™‚ä¿ç•™åŸå§‹äº¤ä»˜ç‰©èˆ‡ç‰ˆæœ¬è¨˜éŒ„ï¼ˆæ–¹ä¾¿æ—¥å¾Œå‘è€å¸«æˆ– TA è©¢å•ï¼‰ã€‚</li>
                  </ul>
                </div>
              </div>

              <div className="mt-4 p-4 rounded-lg bg-[var(--surface)]/30 text-sm text-[var(--text-muted)]">
                <div className="font-medium mb-1">åŒå‡å¤§å­¸çš„é—œä¿‚</div>
                <div>åˆ©ç”¨å¯’å‡æ•´ç†èˆ‡è¨ˆåŠƒï¼Œæœ‰åŠ©ä½ åœ¨ Year 2 é–‹å§‹æ™‚æŠŠæ³¨æ„åŠ›æ”¾å›å­¸æ¥­èˆ‡ç”³è«‹ç­–ç•¥ä¸Šï¼Œè®“ä½ ä¸æœƒåœ¨é—œéµæœŸè¢«é›œå‹™ç‰½åˆ¶ã€‚</div>
              </div>
            </div>
          </section>

          {/* Part 5ï¼šYear 1 Semester 2ï¼ˆ2â€“6 æœˆï¼‰+ æš‘å‡ï¼šç©©ä½ Year 1 CGPAï¼ŒåŒæ™‚æº–å‚™èªæ–‡ / è£œè³‡æ ¼ */}
          <section className="mx-auto max-w-5xl px-6 py-8 lg:py-10">
            <div className="rounded-2xl p-6 md:p-8" style={{ background: 'linear-gradient(180deg, rgba(255,255,255,0.015), rgba(255,255,255,0.01))', backdropFilter: 'blur(4px)', border: '1px solid rgba(255,255,255,0.03)' }}>
              <h3 className="text-2xl font-semibold mb-3">Part 5ï¼šYear 1 Semester 2ï¼ˆ2â€“6 æœˆï¼‰+ æš‘å‡ï¼šç©©ä½ Year 1 CGPAï¼ŒåŒæ™‚æº–å‚™èªæ–‡ / è£œè³‡æ ¼</h3>
              <p className="text-sm text-[var(--text-muted)] mb-4 leading-relaxed">ä¸‹é¢æŒ‰æœˆä»½èˆ‡æš‘å‡æ•´ç†ç­–ç•¥ï¼šæ—¢è¦ç©©ä½ Year 1 CGPAï¼Œåˆè¦æœ‰æ¢ç†åœ°æº–å‚™èªæ–‡æˆ–è³‡æ ¼è€ƒè©¦ï¼ˆå¦‚æœéœ€è¦ï¼‰ã€‚èªæ°£å¯¦éš›ã€å®‰æ’«ï¼Œé¿å…èª‡å¤§æ‰¿è«¾ã€‚</p>

              <div className="space-y-6">
                {/* February */}
                <div className="p-5 rounded-xl border border-[var(--border-subtle)] bg-[var(--bg)] shadow-sm">
                  <div className="font-semibold text-lg mb-2">2 æœˆï¼šçœ‹åˆ° GPAï¼Œå…ˆå†·éœè©•ä¼°</div>
                  <ul className="list-disc pl-5 text-sm space-y-2 text-[var(--text-muted)]">
                    <li>
                      <strong>ä»Šå€‹æœˆå¤§æ¦‚æœƒç™¼ç”Ÿå’©äº‹ï¼š</strong>å­¸æ ¡é€šå¸¸æœƒé™¸çºŒç™¼æ”¾ Sem 1 çš„æ­£å¼/æš«å®š GPA æˆ–æˆç¸¾å–®ï¼Œç¬¬ä¸€æ¬¡çœ‹åˆ°ç´¯è¨ˆæˆç¸¾ã€‚
                    </li>
                    <li>
                      <strong>ç¬¬ä¸€æ¬¡ç‡åˆ° GPA æ‡‰è©²é»è§£è®€ï¼Ÿ</strong>æŠŠ GPA ç•¶ä½œè¨ºæ–·å·¥å…·ï¼šæ‰¾å‡ºå“ªç§‘æ‹‰ä½åˆ†æ•¸ã€æ˜¯çŸ¥è­˜ç¼ºå£é‚„æ˜¯äº¤ä»˜/æ ¼å¼å•é¡Œï¼Œåˆ†åˆ¥åˆ¶å®šæ”¹é€²è¨ˆåŠƒã€‚
                    </li>
                    <li>
                      <strong>å¦‚æœæƒ³çˆ­å–ç«¶çˆ­è¼ƒå¤§çš„å­¸ä½ï¼Œæ‡‰æœ‰çš„å¤§æ¦‚ç›®æ¨™ï¼š</strong>ç”¨æ¨¡ç³Šèªªæ³•ï¼šç›®æ¨™é€šå¸¸è¦æ¯”ç­å¹³å‡é«˜ä¸€å€‹å±¤æ¬¡ï¼›æŠŠç›®æ¨™åˆ†ç‚ºä¿å®ˆèˆ‡é€²å–ï¼Œæ ¹æ“šå¯æŠ•å…¥æ™‚é–“é¸æ“‡è¿½å“ªä¸€æ¢è·¯ã€‚
                    </li>
                    <li>
                      <strong>èªæ–‡ / è£œè³‡æ ¼è©•ä¼°ï¼š</strong>åœ¨ 2 æœˆåˆæ­¥è©•ä¼°æ˜¯å¦éœ€è¦å ± IELTS/IGCSE æˆ–å…¶ä»–è³‡æ ¼è€ƒï¼Œä¸¦ä¼°ç®—æº–å‚™èˆ‡å ±åæ‰€éœ€æ™‚é–“ã€‚
                    </li>
                  </ul>
                </div>

                {/* March-April */}
                <div className="p-5 rounded-xl border border-[var(--border-subtle)] bg-[var(--bg)] shadow-sm">
                  <div className="font-semibold text-lg mb-2">3â€“4 æœˆï¼šå·¥ä½œé‡ä¸Šå‡ï¼ˆmidterm / projectï¼‰ï¼Œç”¨ calendar ç®¡ç†</div>
                  <ul className="list-disc pl-5 text-sm space-y-2 text-[var(--text-muted)]">
                    <li>
                      <strong>ä»Šå€‹æœˆå¤§æ¦‚æœƒç™¼ç”Ÿå’©äº‹ï¼š</strong>midtermã€è¼ƒå¤§å‹ assignmentã€group project é€²å…¥è¡åˆºæœŸï¼›è‹¥å ±èªæ–‡è€ƒï¼Œç·´ç¿’èˆ‡æ¨¡æ“¬äº¦æœƒå¯†é›†ã€‚
                    </li>
                    <li>
                      <strong>å¦‚ä½•ç”¨ calendar / ä»»å‹™æ¸…å–®ç®¡ç†ï¼š</strong>æ¯é€±å›ºå®šæª¢è¦–æ—¥æ›†ã€æŠŠå¤§é …æ‹†æˆå°æ­¥æ”¾å…¥å…·é«”æ™‚æ®µï¼ˆresearch / draft / reviewï¼‰ï¼Œä¸¦ç”¨é«˜/ä¸­/ä½å„ªå…ˆç´šæ¨™è¨˜ã€‚
                    </li>
                    <li>
                      <strong>å ± IGCSE / IELTS çš„åŒå­¸ï¼š</strong>é€šå¸¸ speaking é ç´„æœƒåœ¨è€ƒæœŸå‰å¹¾æ˜ŸæœŸå®‰æ’ï¼Œç­†è©¦åœ¨è€ƒæœŸæ—¥æ›†ä¸Šå›ºå®šï¼Œè«‹æå‰é ç•™ç·´ç¿’èˆ‡è€ƒè©¦æ™‚é–“ã€‚
                    </li>
                    <li>
                      <strong>åŒå‡å¤§å­¸çš„é—œä¿‚ï¼š</strong>é€™æ®µçš„ç©©å®šè¡¨ç¾æœƒå½±éŸ¿ sem 2 çš„ç´¯ç©æˆç¸¾èˆ‡æ•´é«”å­¸ç¿’ç¯€å¥ï¼Œè‰¯å¥½ç®¡ç†å¯ä¿ç•™æš‘å‡åšæ›´å…·é«”çš„ç”³è«‹æº–å‚™ã€‚
                    </li>
                  </ul>
                </div>

                {/* May-June */}
                <div className="p-5 rounded-xl border border-[var(--border-subtle)] bg-[var(--bg)] shadow-sm">
                  <div className="font-semibold text-lg mb-2">5â€“6 æœˆï¼šè€ƒè©¦æœŸã€å‡ºæˆç¸¾ã€æ”¾æš‘å‡ï¼ˆå¤§æª¢è¦–ï¼‰</div>
                  <ul className="list-disc pl-5 text-sm space-y-2 text-[var(--text-muted)]">
                    <li>
                      <strong>ä»Šå€‹æœˆå¤§æ¦‚æœƒç™¼ç”Ÿå’©äº‹ï¼š</strong>final exam / final presentationã€æˆç¸¾å‡ºçˆã€å­¸æ ¡è½‰å…¥æš‘å‡æ¨¡å¼ï¼ˆæ™‚é–“è¦–é™¢æ ¡è€Œå®šï¼‰ã€‚
                    </li>
                    <li>
                      <strong>Asso åŒå­¸æ‡‰è©²ä¸»åŠ›åšå’©ï¼š</strong>è€ƒå‰åš timed practiceã€æ•´ç† revision sheetã€ç¢ºèª group final deliverablesï¼Œæˆç¸¾å‡ºå¾Œå†·éœåˆ†ææˆç¸¾ä¸¦è¨‚ä¸‹æš‘å‡è¨ˆåŠƒã€‚
                    </li>
                    <li>
                      <strong>å¦‚æœ Year 1 å·²ç¶“æœ‰ä¸éŒ¯ CGPAï¼š</strong>å¯ä»¥é–‹å§‹æŒ‘æˆ°å¿ƒå„€çš„ Nonâ€‘JUPAS é¡å‹èª²ç¨‹ï¼Œæº–å‚™æ›´é‡å°æ€§çš„ PS èˆ‡è£œå¼·ææ–™ã€‚
                    </li>
                    <li>
                      <strong>å¦‚æœæœªå¦‚ç†æƒ³ï¼š</strong>æš‘å‡ä»æœ‰è£œæ•‘ç©ºé–“ï¼ˆè£œèªæ–‡ã€å¢å¯¦å‹™ç¶“é©—ã€æˆ–çŸ­æœŸä¿®è£œèª²ç¨‹ï¼‰ï¼Œé‡é»æ˜¯æœ‰è¨ˆåŠƒåœ°æ”¹å–„è€Œéè‡¨æ™‚æŠ±ä½›è…³ã€‚
                    </li>
                  </ul>
                </div>

                {/* Summer: Jun-Aug */}
                <div className="p-5 rounded-xl border border-[var(--border-subtle)] bg-[var(--bg)] shadow-sm">
                  <div className="font-semibold text-lg mb-2">æš‘å‡ï¼ˆ6â€“8 æœˆï¼‰ï¼šèªæ–‡è£œå¼·ã€å¯¦å‹™ç¶“é©—ã€ç‚º Year 2 åšæº–å‚™</div>
                  <ul className="list-disc pl-5 text-sm space-y-2 text-[var(--text-muted)]">
                    <li>
                      <strong>è£œèªæ–‡ï¼š</strong>å®‰æ’ IELTS / IGCSE / æˆ–å…¶ä»–èªæ–‡è€ƒè©¦çš„æº–å‚™ï¼ŒæŒ‰è€ƒæœŸæ—¥æ›†é ç•™å ±åèˆ‡ç·´ç¿’æ™‚é–“ï¼›å„ªå…ˆè£œå¼±é …ï¼ˆå£èªªæˆ–å¯«ä½œï¼‰ã€‚
                    </li>
                    <li>
                      <strong>å…¼è· / å¯¦ç¿’ / ç¾©å·¥ï¼š</strong>é¸æ“‡èˆ‡ç”³è«‹æ–¹å‘ç›¸é—œæˆ–èƒ½å±•ç¤º teamworkã€leadershipã€responsibility çš„ç¶“é©—ï¼Œä¸¦è¨˜éŒ„å…·é«”æˆæœä¾› PS ä½¿ç”¨ã€‚
                    </li>
                    <li>
                      <strong>æ•´ç† Year 1 çš„å­¸ç¿’æ–¹å¼ï¼š</strong>æ­¸ç´æœ‰æ•ˆæ–¹æ³•ä¸¦å»ºç«‹æ–°çš„ weekly routineï¼ˆè‡ªç¿’ã€èªæ–‡ã€ç”³è«‹ææ–™æ™‚é–“ï¼‰ï¼Œç‚º Year 2 çš„å­¸ç¿’èˆ‡ç”³è«‹ä½ˆå±€ã€‚
                    </li>
                    <li>
                      <strong>å¯¦å‹™æé†’ï¼š</strong>å¹³è¡¡å·¥ä½œèˆ‡å­¸ç¿’ï¼Œè‹¥å ±è€ƒå¤–éƒ¨èªè©¦æˆ–ä¿®èª²ï¼Œç•™æ„æ™‚é–“è¡çªï¼Œé¿å…åœ¨å­¸æœŸé–‹å§‹å°±è¶…è¼‰ã€‚
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </section>

          {/* Part 7ï¼šYear 2 Semester 2ï¼ˆ1â€“8 æœˆï¼‰ï¼šOfferã€æ¢ä»¶ã€ç•¢æ¥­åŒå…¥å¤§å­¸æ‰‹çºŒ */}
          <section className="mx-auto max-w-5xl px-6 py-8 lg:py-10">
            <div className="rounded-2xl p-6 md:p-8" style={{ background: 'linear-gradient(180deg, rgba(255,255,255,0.015), rgba(255,255,255,0.01))', backdropFilter: 'blur(4px)', border: '1px solid rgba(255,255,255,0.03)' }}>
              <h3 className="text-2xl font-semibold mb-3">Part 7ï¼šYear 2 Semester 2ï¼ˆ1â€“8 æœˆï¼‰ï¼šOfferã€æ¢ä»¶ã€ç•¢æ¥­åŒå…¥å¤§å­¸æ‰‹çºŒ</h3>
              <p className="text-sm text-[var(--text-muted)] mb-4 leading-relaxed">æŒ‰æ™‚é–“é †åºèªªæ˜ Year 2 Sem 2 å¸¸è¦‹æµç¨‹ï¼šé¢è©¦ï¼second roundã€Offer é¡å‹èˆ‡æ¢ä»¶ã€æˆç¸¾èˆ‡ç•¢æ¥­æ‰‹çºŒï¼Œä»¥åŠè¸å…¥å¤§å­¸çš„å¯¦å‹™æ³¨æ„ã€‚</p>

              <div className="space-y-6">
                <div className="p-5 rounded-xl border border-[var(--border-subtle)] bg-[var(--bg)] shadow-sm">
                  <div className="font-semibold mb-2">1â€“2 æœˆï¼šé¢è©¦æ©Ÿæœƒèˆ‡æ–°ä¸€å­£ GPA</div>
                  <ul className="list-disc pl-5 text-sm text-[var(--text-muted)] space-y-2">
                    <li><strong>å¯èƒ½ç™¼ç”Ÿçš„äº‹ï¼š</strong>æœƒæ”¶åˆ°æ›´å¤šé¢è©¦é‚€è«‹æˆ– secondâ€‘round æ©Ÿæœƒï¼›åŒæ™‚ç³»çµ±å¯èƒ½å…è¨±ä½ ä¸Šè¼‰æœ€æ–°æˆç¸¾ä»¥è£œå¼·ç”³è«‹ã€‚</li>
                    <li><strong>å¯¦å‹™å»ºè­°ï¼š</strong>æ•´ç†ä¸€ä»½ã€Œé¢è©¦è¦é»æ¸…å–®ã€ï¼ˆå¸¸è¦‹å•é¡Œã€å€‹äººç¶“æ­·ä¾‹å­ã€ç°¡çŸ­æˆæœï¼‰ï¼Œä¸¦æº–å‚™å¥½æœ€æ–°çš„æˆç¸¾è¡¨å’Œæ¨è–¦äººè¯çµ¡æ–¹å¼ã€‚</li>
                    <li><strong>GPA çš„ä½œç”¨ï¼š</strong>æ–°ä¸€å­£çš„ GPA èƒ½å¤ åœ¨ Nonâ€‘JUPAS ç³»çµ±ä¸­è£œä¸Šï¼Œå¢åŠ èªªæœåŠ›ï¼›çœ‹åˆ°æœ€æ–°æˆç¸¾å¾Œï¼Œåˆç†è©•ä¼°ä½ èƒ½çˆ­å–çš„åå–®ã€‚</li>
                  </ul>
                </div>

                <div className="p-5 rounded-xl border border-[var(--border-subtle)] bg-[var(--bg)] shadow-sm">
                  <div className="font-semibold mb-2">3â€“7 æœˆï¼šOffer æ´¾ç™¼èˆ‡æ¢ä»¶è™•ç†</div>
                  <ul className="list-disc pl-5 text-sm text-[var(--text-muted)] space-y-2">
                    <li>
                      <strong>Offer é¡å‹ï¼š</strong>å¸¸è¦‹æœ‰ <em>Conditional Offer</em>ï¼ˆæœ‰æ¢ä»¶å–éŒ„ï¼‰èˆ‡ <em>Direct Offer</em>ï¼ˆç›´æ¥å–éŒ„ï¼‰ã€‚Conditional å¸¸è¦‹æ¢ä»¶åŒ…æ‹¬ï¼šé”åˆ°æŸå€‹ CGPA æ°´å¹³ã€èªæ–‡æˆç¸¾é”æ¨™ã€æˆ–æä¾›å®Œæ•´æ–‡ä»¶ã€‚
                    </li>
                    <li>
                      <strong>è‹¥æœªèƒ½é”åˆ°æ¢ä»¶æœƒæ€æ¨£ï¼š</strong>æƒ…æ³æœƒè¦–ä¹å­¸æ ¡è€Œç•°â€”â€”å¸¸è¦‹å›æ‡‰æœ‰å–æ¶ˆ offerã€è¦æ±‚è£œäº¤æˆ–æºé€šã€æˆ–æä¾› alternativeï¼ˆä¾‹å¦‚å€™è£œï¼‰ï¼›è‹¥é‡åˆ°å•é¡Œè¦ç›¡å¿«è¯çµ¡è©²æ ¡æ‹›ç”Ÿè¾¦æˆ–è² è²¬äººæºé€šï¼Œä¸¦ä¿ç•™å¾€ä¾†ç´€éŒ„ã€‚
                    </li>
                    <li>
                      <strong>ç•™ä½è²» / è¨‚é‡‘ï¼š</strong>æ”¶åˆ° offer å¾Œæœƒæœ‰æŒ‡å®šçš„ç•™ä½ä»˜æ¬¾æœŸé™ï¼›å‹™å¿…æŠŠæœŸé™æ¨™ç¤ºåœ¨æ—¥æ›†ä¸Šï¼Œé€¾æœŸå¯èƒ½å¤±å»è©² offerã€‚è‹¥æœ‰å›°é›£ï¼Œå¯å˜—è©¦èˆ‡å­¸æ ¡èªªæ˜ä½†ä¸è¦å‡è¨­å¯ä»¥å»¶é²ã€‚
                    </li>
                    <li>
                      <strong>åŒæ™‚æ”¶åˆ°å¤šå€‹ offerï¼Œå¦‚ä½•å–æ¨ï¼š</strong>åŸå‰‡ï¼šå…ˆçœ‹èª²ç¨‹åŒ¹é…åº¦ï¼ˆé•·é ç›®æ¨™ vs èª²ç¨‹å…§å®¹ï¼‰ã€å¯¦éš›æˆæœ¬ï¼ˆå­¸è²» + ç”Ÿæ´»ï¼‰èˆ‡åœ°é»ã€ä»¥åŠ offer çš„ç©©å¦¥æ€§ï¼ˆdirect vs conditionalï¼‰ã€‚å¯åˆ—å‡ºå„ªç¼ºé»ä¸¦å’Œå®¶äºº / å°å¸«è¨è«–ï¼Œä½†æœ€å¾Œä¿æŒè‡ªå·±çš„å„ªå…ˆåºã€‚
                    </li>
                  </ul>
                </div>

                <div className="p-5 rounded-xl border border-[var(--border-subtle)] bg-[var(--bg)] shadow-sm">
                  <div className="font-semibold mb-2">4â€“6 æœˆï¼šç•¢æ¥­å‰æœ€å¾Œè¡åˆº</div>
                  <ul className="list-disc pl-5 text-sm text-[var(--text-muted)] space-y-2">
                    <li><strong>ä»ŠæœŸè¦æ³¨æ„çš„äº‹ï¼š</strong>æœ€å¾Œä¸€å€‹ sem çš„è€ƒè©¦èˆ‡æäº¤å¾€å¾€æ˜¯æœ€é—œéµçš„ï¼Œè‹¥å·²æ”¶åˆ° offerï¼Œè¦ç¢ºä¿ä¸å› é¬†æ‡ˆè€ŒéŒ¯éé”åˆ°æ¢ä»¶çš„æ©Ÿæœƒã€‚</li>
                    <li><strong>é¿å…ã€Œæ‹¿åˆ° offer å°±æ‡¶æƒ°ã€çš„å¯¦å‹™åšæ³•ï¼š</strong>è¨­å®šæ¯é€±å­¸æ¥­ç›®æ¨™ä¸¦èˆ‡æœ‹å‹æˆ–å°å¸«å®šæœŸ checkâ€‘inï¼ŒæŠŠé‡é»ç§‘ç›®åˆ—ç‚ºé«˜å„ªå…ˆï¼Œå¿…è¦æ™‚è«‹çµ„å“¡æˆ–å°å¸«å¹«å¿™ç›£ç£ã€‚</li>
                    <li><strong>è™•ç†å£“åŠ›ï¼š</strong>åˆç†åˆ†é…æ™‚é–“åšå¾©ç¿’ã€åŒæ™‚ä¿ç•™çŸ­æš«ä¼‘æ¯ï¼Œè‹¥æ„Ÿåˆ° Burnoutï¼Œå°‹æ±‚åŒå„•æˆ–å­¸æ ¡æ”¯æ´ï¼ˆcounselling / TAï¼‰ã€‚</li>
                  </ul>
                </div>

                <div className="p-5 rounded-xl border border-[var(--border-subtle)] bg-[var(--bg)] shadow-sm">
                  <div className="font-semibold mb-2">6â€“8 æœˆï¼šç•¢æ¥­å¾Œæ–‡ä»¶èˆ‡å…¥å­¸æº–å‚™</div>
                  <ul className="list-disc pl-5 text-sm text-[var(--text-muted)] space-y-2">
                    <li>
                      <strong>æˆç¸¾å–®èˆ‡ç•¢æ¥­ç›¸é—œæ–‡ä»¶ï¼š</strong>é€šå¸¸éœ€æº–å‚™æ­£å¼æˆç¸¾å–®ã€ç•¢æ¥­è­‰æ˜ã€èº«ä»½æ–‡ä»¶çš„å½±æœ¬æˆ–æ ¸è­‰ä»¶ï¼›éƒ¨åˆ†é™¢æ ¡æˆ–ç³»çµ±å¯èƒ½è¦æ±‚ä½ ä¸Šè¼‰é›»å­æª”æˆ–å¸¶æ­£æœ¬åˆ°æŒ‡å®šæ©Ÿæ§‹æ ¸å°ã€‚
                    </li>
                    <li>
                      <strong>ä¸Šå‚³èˆ‡é©—è­‰æµç¨‹ï¼š</strong>æ³¨æ„å­¸æ ¡è¦æ±‚ï¼ˆä¾‹å¦‚é›»å­ä¸Šå‚³ã€éƒµå¯„æ­£æœ¬æˆ–åˆ°æŒ‡å®šåœ°é»é©—è­‰ï¼‰ï¼Œä¿ç•™å‚³é€æ”¶æ“šèˆ‡é€šè¨Šè¨˜éŒ„ï¼Œä¸¦ç•™æ„æœ€å¾ŒæœŸé™ä»¥å…è€½èª¤å…¥å­¸æ‰‹çºŒã€‚
                    </li>
                    <li>
                      <strong>æº–å‚™é€²å…¥å¤§å­¸ç”Ÿæ´»ï¼š</strong>å¿ƒç†ä¸Šåšå¥½è½‰æ›ï¼ˆèª²ç¨‹æ·±åº¦ã€æ•™å­¸èˆ‡è©•ä¼°æ¨¡å¼æœƒä¸åŒï¼‰ï¼ŒæœŸå¾…èˆ‡å¯¦éš›å¯èƒ½æœ‰è½å·®ï¼Œå»ºè­°ä»¥é–‹æ”¾æ…‹åº¦é¢å°æ–°ç’°å¢ƒä¸¦é ç•™é©æ‡‰æœŸã€‚
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </section>

          {/* Part 8ï¼šå…©å¹´å…¨ç¨‹çš„å¿ƒæ…‹ & äººéš›ç­–ç•¥ç¸½çµ */}
          <section className="mx-auto max-w-5xl px-6 py-8 lg:py-10">
            <div className="rounded-2xl p-6 md:p-8" style={{ background: 'linear-gradient(180deg, rgba(255,255,255,0.015), rgba(255,255,255,0.01))', backdropFilter: 'blur(4px)', border: '1px solid rgba(255,255,255,0.03)' }}>
              <h3 className="text-2xl font-semibold mb-3">Part 8ï¼šå…©å¹´å…¨ç¨‹çš„å¿ƒæ…‹ & äººéš›ç­–ç•¥ç¸½çµ</h3>
              <p className="text-sm text-[var(--text-muted)] mb-4 leading-relaxed">ç¸½çµå…©å¹´è·¯ä¸Šå¯¦ç”¨çš„å¿ƒæ…‹èˆ‡ç¤¾äº¤ç­–ç•¥ï¼Œå¹«ä½ å®ˆä½ç¯€å¥ã€å»ºç«‹é«˜æ•ˆåœ˜éšŠã€åŒæ™‚ä¿è­·è‡ªå·±çš„å­¸ç¿’ç©ºé–“ã€‚</p>

              <div className="space-y-4 text-sm text-[var(--text-muted)]">
                <div>
                  <div className="font-semibold">é¸ groupmates çš„åŸå‰‡</div>
                  <ul className="list-disc pl-5 mt-2">
                    <li>è§€å¯Ÿå°æ–¹çš„å‡ºå¸­èˆ‡äº¤ä»˜ç´€å¾‹ï¼ˆæ˜¯å¦æº–æ™‚äº¤å°ä»»å‹™ï¼‰ï¼Œå„ªå…ˆé¸é‚£äº›æœ‰ç©©å®šç´€å¾‹çš„äººã€‚</li>
                    <li>é¿å…æ˜é¡¯ä¸æŠ•å…¥çš„äººï¼ˆä¾‹å¦‚å¸¸æ‰¾è—‰å£ç¼ºå¸­ï¼‰ï¼Œè‹¥å·²åœ¨çµ„å…§é‡åˆ° freeriderï¼Œå…ˆå˜—è©¦æºé€šä¸¦æ˜ç¢ºåˆ†å·¥èˆ‡è­‰æ“šç´€éŒ„ï¼›è‹¥ç„¡æ”¹å–„ï¼ŒåŠæ—©å‘å°å¸«æˆ– course coordinator åŒ¯å ±ã€‚</li>
                    <li>å¹³è¡¡æŠ€èƒ½äº’è£œèˆ‡è²¬ä»»æ„Ÿï¼šé¸æ“‡æŠ€èƒ½äº’è£œä½†æ…‹åº¦å¯é çš„ä¼™ä¼´é€šå¸¸æ¯”åªçœ‹ã€ŒæŠ€è¡“å¼·ã€çš„åŒå­¸æ›´æœ‰åˆ©ã€‚</li>
                  </ul>
                </div>

                <div>
                  <div className="font-semibold">Ocamp / ç¤¾åœ˜ / å…¼è·ï¼šå¦‚ä½•å…¼é¡§å­¸æ¥­èˆ‡ç”Ÿæ´»</div>
                  <ul className="list-disc pl-5 mt-2">
                    <li>æŠŠåƒèˆ‡åˆ†ç‚ºã€Œæ ¸å¿ƒã€èˆ‡ã€Œæ¬¡è¦ã€ï¼šè‹¥ç¤¾åœ˜æˆ– Ocamp èƒ½å¸¶ä¾†é•·æœŸåƒ¹å€¼ï¼ˆnetworkã€leadershipï¼‰ï¼Œå¯ä»¥åšæ ¸å¿ƒåƒèˆ‡ï¼Œå¦å‰‡æ”¾åœ¨æ¬¡è¦å±¤ç´šã€‚</li>
                    <li>ç‚ºè‡ªå·±è¨­å®šä¸Šé™ï¼ˆä¾‹å¦‚æ¯é€±æŠ•å…¥æ™‚æ•¸ï¼‰ï¼Œç”¨æ—¥æ›†æ˜ç¢ºåŠƒåˆ†å­¸ç¿’æ™‚æ®µèˆ‡æ´»å‹•æ™‚æ®µï¼Œé¿å…æ´»å‹•æ»²å‡ºåˆ°é«˜å„ªå…ˆç´šå­¸æ¥­æ™‚é–“ã€‚</li>
                    <li>å…¼è·è¦é¸å¯èª¿æ•´æ™‚é–“æˆ–çŸ­æœŸçš„å·¥ä½œï¼Œé¿å…å›ºå®šæ’ç­èˆ‡èª²å ‚è¡çªï¼›æŠŠå…¼è·çš„æˆæœï¼ˆè²¬ä»»ã€æºé€šï¼‰è¨˜éŒ„ä¸‹ä¾†ï¼Œç”¨åœ¨ PS æˆ–é¢è©¦ä¸Šã€‚</li>
                  </ul>
                </div>

                <div>
                  <div className="font-semibold">ç‚ºä½•å…©å¹´ Asso æœ‰æ™‚è¦ºå¾—æ¯”å¤§å­¸æ›´è¾›è‹¦ï¼Œä»¥åŠå¦‚ä½•é¢å°</div>
                  <ul className="list-disc pl-5 mt-2">
                    <li>å…©å¹´åˆ¶å¾€å¾€å­¸æœŸå¯†é›†ã€è©•æ ¸é »ç¹ï¼ˆshorter semesters / continuous assessmentï¼‰ï¼Œè€Œæ™‚é–“å£“ç¸®ä»¤æ¯å€‹ assignment å½±éŸ¿æ›´æ˜é¡¯ã€‚</li>
                    <li>é¢å°å£“åŠ›ï¼šåˆ†è§£ä»»å‹™ã€ä¿æŒ weekly reviewã€é©ç•¶æ±‚åŠ©ï¼ˆåŒå­¸ / TA / è¬›å¸« / å­¸æ ¡æ”¯æ´ï¼‰æ˜¯é—œéµã€‚</li>
                    <li>å¿ƒç†ä¸Šæ¥å—ã€ŒçŸ­æœŸè¾›è‹¦æ˜¯ç‚ºäº†å¾ŒçºŒé¸æ“‡ã€ï¼ŒæŠŠéç¨‹è¦–ç‚ºæŠ€èƒ½è¨“ç·´è€Œéç´”ç²¹æˆç¸¾ç«¶è³½ï¼Œæœ‰åŠ©æ¸›å°‘ç„¦æ…®æ„Ÿã€‚</li>
                  </ul>
                </div>

                <div>
                  <div className="font-semibold">å¾ DSE å¤±åˆ©åˆ°æŠŠæ¡ç¬¬äºŒæ¬¡æ©Ÿæœƒçš„å¯¦éš›å»ºè­°</div>
                  <ul className="list-disc pl-5 mt-2">
                    <li>æŠŠéå¾€ç¶“é©—ç•¶ä½œè³‡æ–™ï¼Œä¸æ˜¯æ¨™ç±¤ï¼šåˆ†æå¤±åˆ©åŸå› ï¼ˆå­¸ç¿’æ–¹æ³• / æƒ…ç·’ç®¡ç† / å¥åº·ç­‰ï¼‰ï¼Œåˆ¶å®šå…·é«”æ”¹é€²è¨ˆåŠƒã€‚</li>
                    <li>æ¥å—èº«é‚Šäººç¯€å¥ä¸åŒï¼šæœ‰äººæœƒæ›´ç©æ¥µã€æœ‰äº›äººå¯èƒ½æ…¢ç†±ï¼Œé‡é»æ˜¯å®ˆä½è‡ªå·±çš„ç¯€å¥èˆ‡æ¨™æº–ï¼Œä¸è¢«åˆ¥äººæ‹–å®æˆ–å‚¬çœ ã€‚</li>
                    <li>å»ºç«‹ã€Œå¯è¤‡è£½çš„ä¾‹å­ã€ï¼šåƒèˆ‡é …ç›® / å¯¦ç¿’ / ç¾©å·¥æ™‚è¨˜éŒ„å…·é«”æˆæœï¼ˆæ•¸å­— / è§’è‰² / è²¢ç»ï¼‰ï¼Œé€™äº›æ¯”ç©ºæ³›æ‰¿è«¾æ›´èƒ½æ‰“å‹•é¢è©¦å®˜æˆ–æ‹›ç”Ÿå§”å“¡ã€‚</li>
                  </ul>
                </div>

                <div className="mt-3 p-3 rounded-lg bg-[var(--surface)]/30 text-sm text-[var(--text-muted)]">
                  <div className="font-semibold">æ”¶å°¾çš„é¼“å‹µï¼ˆçœŸå¯¦è€Œå‹™å¯¦ï¼‰</div>
                  <div className="mt-1">å…©å¹´ä¿‚ç´¯ç©èˆ‡èª¿æ•´çš„æ™‚é–“ï¼›ä½ æˆ–è¨±æœƒé‡åˆ°å¤±æœ›ï¼Œä½†æ¯ä¸€æ¬¡å°çš„æ”¹å–„éƒ½ç´¯ç©åƒ¹å€¼ã€‚ç”¨è¨ˆåŠƒå–ä»£ç„¦æ…®ã€ç”¨è­‰æ“šæ”¯æŒä½ çš„ç”³è«‹ï¼Œä¸¦ä¿ç•™ä¼‘æ¯çš„ç©ºé–“ï¼Œé€™æ¨£ä½ èƒ½æŒçºŒèµ°ä¸‹å»ã€‚</div>
                </div>
              </div>
            </div>
          </section>

          {/* Non-JUPAS â€” product-style comparison section */}
          <section className="mx-auto max-w-5xl px-6 py-14 lg:py-18">
            {/* Tag + title */}
            <div className="mb-8">
              <h2 className="text-3xl font-semibold tracking-tight text-white sm:text-4xl">JUPAS vs Non-JUPAS</h2>
            </div>

            {/* Comparison cards */}
            <div className="grid gap-6 md:grid-cols-2">
              {/* JUPAS card */}
              <article className="group rounded-2xl border border-neutral-800 bg-neutral-900/70 p-6 shadow-[0_0_0_1px_rgba(0,0,0,0.6)] transition hover:-translate-y-1 hover:border-red-400/80 hover:shadow-[0_0_40px_rgba(248,113,113,0.45)]">
                <div className="mb-4 flex items-center gap-3">
                  <div className="flex h-10 w-10 items-center justify-center rounded-full bg-red-500/10">
                    <AppleEmoji emoji={"ğŸ“"} className="w-6 h-6" />
                  </div>
                  <div>
                    <h3 className="text-lg font-semibold text-white">JUPAS</h3>
                    <p className="text-xs text-neutral-400">æœ¬åœ° DSE è¯æ‹›</p>
                  </div>
                </div>
                <ul className="space-y-2 text-sm text-neutral-300">
                  <li>ï¼ä¸»è¦å°è±¡ï¼š<span className="font-medium">æœ¬åœ° DSE è€ƒç”Ÿ</span></li>
                  <li>ï¼ç”¨ <span className="font-medium">JUPAS ç³»çµ±æ’å¿—é¡˜</span> ç”³è«‹å…«å¤§ï¼éƒ¨åˆ†é™¢æ ¡</li>
                  <li>ï¼ä»¥ <span className="font-medium">DSE æˆç¸¾</span> ç‚ºä¸»è¦æ”¶ç”Ÿæˆç¸¾</li>
                </ul>
              </article>

              {/* Non-JUPAS card */}
              <article className="group rounded-2xl border border-neutral-800 bg-neutral-900/70 p-6 shadow-[0_0_0_1px_rgba(0,0,0,0.6)] transition hover:-translate-y-1 hover:border-red-400/80 hover:shadow-[0_0_40px_rgba(248,113,113,0.45)]">
                <div className="mb-4 flex items-center gap-3">
                  <div className="flex h-10 w-10 items-center justify-center rounded-full bg-red-500/10">
                    <AppleEmoji emoji={"ğŸ”"} className="w-6 h-6" />
                  </div>
                  <div>
                    <h3 className="text-lg font-semibold text-white">Non-JUPAS</h3>
                    <p className="text-xs text-neutral-400">å””ç¶“è¯æ‹›ï¼Œç›´æ¥å ± U</p>
                  </div>
                </div>
                <ul className="space-y-2 text-sm text-neutral-300">
                  <li>ï¼æ‰€æœ‰ <span className="font-medium">éè¯æ‹›é€”å¾‘</span> å…¥è®€å­¸å£«èª²ç¨‹</li>
                  <li>ï¼é€é–“å¤§å­¸å–º <span className="font-medium">å®˜ç¶²é–‹å¸³æˆ¶ã€äº¤è¡¨ã€ä¸Šè¼‰æ–‡ä»¶</span></li>
                  <li>ï¼æœƒä¸€é½Šç‡ <span className="font-medium">GPAã€DSEã€èªæ–‡è©¦ã€èƒŒæ™¯</span> å»æ€äºº</li>
                </ul>
              </article>
            </div>

            {/* Example identities / pills */}
            <div className="mt-8 space-y-3 text-center">
              <p className="text-sm font-medium text-neutral-200">é‚Šå•²äººé€šå¸¸èµ° Non-JUPASï¼Ÿ</p>
              <div className="flex flex-wrap justify-center gap-2">
                <span className="inline-flex items-center rounded-full bg-neutral-900/80 px-3 py-1 text-xs text-neutral-200 ring-1 ring-neutral-700">å‰¯å­¸å£« / é«˜ç´šæ–‡æ†‘å­¸ç”Ÿæˆ–ç•¢æ¥­ç”Ÿ</span>
                <span className="inline-flex items-center rounded-full bg-neutral-900/80 px-3 py-1 text-xs text-neutral-200 ring-1 ring-neutral-700">èˆŠåˆ¶ CEEï¼ALE è€ƒç”Ÿ</span>
                <span className="inline-flex items-center rounded-full bg-neutral-900/80 px-3 py-1 text-xs text-neutral-200 ring-1 ring-neutral-700">æµ·å¤–èª²ç¨‹ï¼ˆä¾‹å¦‚ IALã€OSSD ç­‰ï¼‰</span>
                <span className="inline-flex items-center rounded-full bg-neutral-900/80 px-3 py-1 text-xs text-neutral-200 ring-1 ring-neutral-700">éæœ¬åœ° DSE è€ƒç”Ÿ</span>
              </div>
            </div>
          </section>

          {/* Progress Bar */}
          <div className="flex justify-between max-w-3xl mx-auto relative">
            <div className="absolute top-1/2 left-0 right-0 h-0.5 bg-[var(--border-subtle)] -z-10"></div>
            {STAGES.map((stage, index) => (
              <button 
                key={stage.id}
                onClick={() => scrollToStage(index)}
                className={`w-10 h-10 rounded-full flex items-center justify-center border-2 transition-all duration-300 bg-[var(--bg)] ${
                  activeStage >= index 
                    ? 'border-[var(--primary)] text-[var(--primary)] scale-110 shadow-[0_0_15px_rgba(255,75,43,0.3)]' 
                    : 'border-[var(--border-subtle)] text-[var(--text-muted)] hover:border-[var(--primary)]'
                }`}
              >
                <span className="text-xs font-bold">{index}</span>
              </button>
            ))}
          </div>
        </div>
      </div>

      <div className="max-w-7xl mx-auto px-4 flex gap-12">
        
        {/* Sticky Sidebar (Desktop) */}
        <div className="hidden lg:block w-64 flex-shrink-0">
          <div className="sticky top-24 space-y-2">
            {STAGES.map((stage, index) => (
              <button
                key={stage.id}
                onClick={() => scrollToStage(index)}
                className={`w-full flex items-center gap-3 p-3 rounded-xl text-left transition-all duration-300 group ${
                  activeStage === index 
                    ? 'bg-[var(--surface)] shadow-sm border border-[var(--border-subtle)]' 
                    : 'hover:bg-[var(--surface)]/50 border border-transparent'
                }`}
              >
                <div className={`w-2 h-2 rounded-full transition-all ${
                  activeStage === index ? 'bg-[var(--primary)] scale-125 shadow-[0_0_10px_var(--primary)]' : 'bg-[var(--border-subtle)]'
                }`}></div>
                <div className="flex-1">
                  <div className={`text-xs font-bold uppercase tracking-wider ${
                    activeStage === index ? 'text-[var(--primary)]' : 'text-[var(--text-muted)]'
                  }`}>
                    Stage {index}
                  </div>
                  <div className={`text-sm font-medium truncate ${
                    activeStage === index ? 'text-[var(--text)]' : 'text-[var(--text-muted)]'
                  }`}>
                    {stage.title}
                  </div>
                </div>
              </button>
            ))}
          </div>
        </div>

        {/* Main Content */}
        <div className="flex-1 min-w-0 space-y-32">
          {STAGES.map((stage, index) => (
            <div key={stage.id} id={`stage-${stage.id}`} className="scroll-mt-32">
              <FadeIn>
                <div className="relative group">
                  {/* Stage Header Banner */}
                  <div className={`relative h-40 rounded-3xl bg-gradient-to-r ${stage.color} mb-8 overflow-hidden shadow-lg transition-transform duration-500 hover:scale-[1.01]`}>
                    <div className="absolute inset-0 bg-black/10"></div>
                    <div className="absolute -right-8 -bottom-8 text-white/20 rotate-12 transform transition-transform duration-700 group-hover:rotate-0 group-hover:scale-110">
                      <stage.icon size={200} />
                    </div>
                    <div className="absolute inset-0 flex items-center px-8 md:px-12">
                      <div className="text-white relative z-10">
                        <div className="flex items-center gap-3 mb-2">
                          <span className="px-3 py-1 rounded-full bg-white/20 backdrop-blur-md text-xs font-bold uppercase tracking-widest border border-white/30">
                            Stage {index}
                          </span>
                        </div>
                        <h2 className="text-3xl md:text-4xl font-bold mb-2 text-shadow-sm">{stage.title}</h2>
                        <p className="text-white/90 font-medium text-lg">{stage.subtitle}</p>
                      </div>
                    </div>
                  </div>

                  {/* Interactive Card */}
                  <div className="bg-[var(--surface)] rounded-[2rem] border border-[var(--border-subtle)] shadow-sm overflow-hidden">
                    {/* Tabs Header */}
                    <div className="flex border-b border-[var(--border-subtle)]">
                      {stage.tabs.map((tab) => (
                        <button
                          key={tab.id}
                          onClick={() => setActiveTab(prev => ({ ...prev, [stage.id]: tab.id }))}
                          className={`flex-1 py-4 text-sm font-bold transition-all relative ${
                            (activeTab[stage.id] || stage.tabs[0].id) === tab.id
                              ? 'text-[var(--primary)] bg-[var(--surface-highlight)]/30'
                              : 'text-[var(--text-muted)] hover:text-[var(--text)] hover:bg-[var(--surface-highlight)]/10'
                          }`}
                        >
                          {tab.label}
                          {(activeTab[stage.id] || stage.tabs[0].id) === tab.id && (
                            <div className="absolute bottom-0 left-0 right-0 h-0.5 bg-[var(--primary)]"></div>
                          )}
                        </button>
                      ))}
                    </div>

                    {/* Tab Content */}
                    <div className="p-6 md:p-8 min-h-[300px]">
                      {stage.tabs.map((tab) => (
                        <div 
                          key={tab.id} 
                          className={`transition-opacity duration-300 ${
                            (activeTab[stage.id] || stage.tabs[0].id) === tab.id ? 'block opacity-100' : 'hidden opacity-0'
                          }`}
                        >
                          {tab.content}
                        </div>
                      ))}
                    </div>
                  </div>
                </div>
              </FadeIn>
            </div>
          ))}
        </div>

      </div>
    </div>
  );
}
